<script language=javascript>document.write(unescape('%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22hu%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%2C%20interactive-widget%3Dresizes-content%22%3E%0A%20%20%20%20%0A%20%20%20%20%3Cmeta%20http-equiv%3D%22Cache-Control%22%20content%3D%22no-cache%2C%20no-store%2C%20must-revalidate%22%3E%0A%20%20%20%20%3Cmeta%20http-equiv%3D%22Pragma%22%20content%3D%22no-cache%22%3E%0A%20%20%20%20%3Cmeta%20http-equiv%3D%22Expires%22%20content%3D%220%22%3E%0A%0A%20%20%20%20%3Clink%20rel%3D%22manifest%22%20href%3D%22manifest.json%22%3E%0A%20%20%20%20%3Cmeta%20name%3D%22theme-color%22%20content%3D%22%230D2B45%22%3E%0A%20%20%20%20%3Clink%20rel%3D%22apple-touch-icon%22%20href%3D%22icon-192_v3.png%22%3E%0A%0A%20%20%20%20%3Ctitle%3EMystiGo%20-%20V%E1rosi%20Kalandj%E1t%E9k%20Platform%3C/title%3E%0A%20%20%20%20%0A%20%20%20%20%3Clink%20rel%3D%22preload%22%20href%3D%22games/games.xlsx%22%20as%3D%22fetch%22%20crossorigin%3D%22anonymous%22%3E%0A%20%20%20%20%3Clink%20rel%3D%22preload%22%20href%3D%22logo/MystiGo_logo.png%22%20as%3D%22image%22%3E%0A%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//cdn.tailwindcss.com%22%3E%3C/script%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//unpkg.com/leaflet@1.9.4/dist/leaflet.css%22%20integrity%3D%22sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY%3D%22%20crossorigin%3D%22%22/%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//unpkg.com/leaflet@1.9.4/dist/leaflet.js%22%20integrity%3D%22sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo%3D%22%20crossorigin%3D%22%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.6/purify.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js%22%3E%3C/script%3E%0A%0A%20%20%20%20%3Clink%20rel%3D%22preconnect%22%20href%3D%22https%3A//fonts.googleapis.com%22%3E%0A%20%20%20%20%3Clink%20rel%3D%22preconnect%22%20href%3D%22https%3A//fonts.gstatic.com%22%20crossorigin%3E%0A%20%20%20%20%3Clink%20href%3D%22https%3A//fonts.googleapis.com/css2%3Ffamily%3DPoppins%3Awght@400%3B600%3B800%26display%3Dswap%22%20rel%3D%22stylesheet%22%3E%0A%0A%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20%20%20//%201.%20Defini%E1ld%20az%20alap%E9rtelmezett%20beleegyez%E9si%20%E1llapotot%20a%20CMP%20k%F3dja%20el%u0151tt%21%0A%20%20%20%20%20%20%20%20window.dataLayer%20%3D%20window.dataLayer%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20function%20gtag%28%29%7BdataLayer.push%28arguments%29%3B%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20gtag%28%27consent%27%2C%20%27default%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%27ad_storage%27%3A%20%27denied%27%2C%20//%20Hirdet%E9s%20t%E1rol%E1s%20tiltva%0A%20%20%20%20%20%20%20%20%20%20%20%20%27analytics_storage%27%3A%20%27denied%27%2C%20//%20Analitika%20t%E1rol%E1s%20tiltva%0A%20%20%20%20%20%20%20%20%20%20%20%20%27wait_for_update%27%3A%20500%20//%20500%20ms%20v%E1rakoz%E1s%20a%20CMP-re%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%3C/script%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20async%20src%3D%22https%3A//www.googletagmanager.com/gtag/js%3Fid%3DG-1SBQQGDGL7%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20%20%20gtag%28%27js%27%2C%20new%20Date%28%29%29%3B%0A%20%20%20%20%20%20%20%20gtag%28%27config%27%2C%20%27G-1SBQQGDGL7%27%29%3B%0A%20%20%20%20%3C/script%3E%0A%20%20%20%20%3Cscript%20type%3D%22text/javascript%22%3E%0A%20%20%20%20var%20_iub%20%3D%20_iub%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20_iub.csConfiguration%20%3D%20%7B%22lang%22%3A%22hu%22%2C%22siteId%22%3A2549400%2C%22cookiePolicyId%22%3A40995967%2C%20%22consentOnContinuedBrowsing%22%3A%20false%2C%20%22callback%22%3A%20%7B%20onConsentGiven%3A%20function%28%29%20%7B%20gtag%28%27consent%27%2C%20%27update%27%2C%20%7B%20%27analytics_storage%27%3A%20%27granted%27%2C%20%27ad_storage%27%3A%20%27granted%27%20%7D%29%3B%20%7D%2C%20onConsentRejected%3A%20function%28%29%20%7B%20gtag%28%27consent%27%2C%20%27update%27%2C%20%7B%20%27analytics_storage%27%3A%20%27denied%27%2C%20%27ad_storage%27%3A%20%27denied%27%20%7D%29%3B%20%7D%7D%7D%3B%0A%20%20%20%20%3C/script%3E%0A%20%20%20%20%3Cscript%20type%3D%22text/javascript%22%20src%3D%22//cdn.iubenda.com/cs/tcf/stub.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20type%3D%22text/javascript%22%20src%3D%22//cdn.iubenda.com/cs/iubenda_cs.js%22%20charset%3D%22utf-8%22%3E%3C/script%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20/*%20---%20Arculat%20friss%EDtve%20a%20le%EDr%E1s%20alapj%E1n%20%28t%FCrkiz%2C%20narancs%2C%20s%F6t%E9tk%E9k%29%20---%20*/%0A%20%20%20%20%20%20%20%20%3Aroot%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20--brand-cyan%3A%20%2300CED1%3B%20/*%20T%FCrkiz%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--brand-blue%3A%20%230D2B45%3B%20/*%20S%F6t%E9tk%E9k%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--brand-orange%3A%20%23FFA500%3B%20/*%20Narancs%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--background-start%3A%20%23E0F7FA%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--background-end%3A%20%23FFFFFF%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--text-dark%3A%20%232D3748%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--text-heading%3A%20var%28--brand-blue%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20body%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27Poppins%27%2C%20sans-serif%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient%28180deg%2C%20var%28--background-start%29%200%25%2C%20var%28--background-end%29%2070%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overscroll-behavior-y%3A%20contain%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20touch-action%3A%20manipulation%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%0A%23content-page-wrapper%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20overscroll-behavior-y%3A%20contain%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-overflow-scrolling%3A%20touch%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%09%20.main-button%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20var%28--brand-orange%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%201rem%202rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%209999px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2010px%2025px%20-5px%20rgba%280%2C%200%2C%200%2C%200.1%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.main-button%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateY%28-4px%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2020px%2035px%20-8px%20rgba%280%2C%200%2C%200%2C%200.1%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.main-button%3Adisabled%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20%239ca3af%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20not-allowed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.content-card%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%201.5rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2010px%2030px%20rgba%280%2C0%2C0%2C0.07%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%23map%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20200px%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%201rem%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%203px%20solid%20%23E0F7FA%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.hidden%20%7B%20display%3A%20none%20%21important%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.player-marker%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20var%28--brand-orange%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%202px%20solid%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2020px%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2020px%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%200%2010px%20var%28--brand-orange%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20/*%20task-marker%20elt%E1vol%EDtva%2C%20m%E1r%20nem%20haszn%E1ljuk%20*/%0A%20%20%20%20%20%20%20%20.modal-overlay%20%7B%20z-index%3A%202000%3B%20%7D%0A%20%20%20%20%20%20%20%20.geofence-circle%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20pulse%202s%20infinite%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20/*%20Elt%E1vol%EDtva%20a%20Leaflet%20alap%E9rtelmezett%20sz%EDn%20fel%FCl%EDr%E1sa%20a%20CSS-ben%2C%20hogy%20a%20JS%20vez%E9relje%20azt%20*/%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20@keyframes%20pulse%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%200%25%20%7B%20stroke-width%3A%202%3B%20opacity%3A%200.8%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2070%25%20%7B%20stroke-width%3A%204%3B%20opacity%3A%200.2%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20100%25%20%7B%20stroke-width%3A%202%3B%20opacity%3A%200.8%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.text-brand-orange-500%20%7B%20color%3A%20var%28--brand-orange%29%3B%20%7D%20/*%20Seg%E9doszt%E1ly%20*/%0A%20%20%20%20%20%20%20%20.text-brand-cyan-500%20%7B%20color%3A%20var%28--brand-cyan%29%3B%20%7D%20/*%20Seg%E9doszt%E1ly%20*/%0A%0A%20%20%20%20%20%20%20%20/*%20JAV%CDT%C1S%3A%20Fejl%E9c%20%E1llapotjelz%u0151%20m%E9ret%E9nek%20glob%E1lis%20cs%F6kkent%E9se%20%28kisebb%20bet%u0171/sz%E1m%20a%20jobb%20elrendez%E9s%E9rt%29%20*/%0A%20%20%20%20%20%20%20%20.game-status-bar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%200.75rem%3B%20/*%20text-xs%20-%20Kisebb%20bet%u0171m%E9ret%20*/%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A/*%20---%20JAV%CDT%C1S%3A%20Ugr%E1l%F3%20sz%E1mok%20ellen%20---%20*/%0A.tabular-nums%20%7B%0A%20%20%20%20font-variant-numeric%3A%20tabular-nums%3B%20/*%20Egys%E9ges%20sz%E9less%E9g%u0171%20sz%E1mok%20*/%0A%20%20%20%20font-feature-settings%3A%20%22tnum%22%3B%0A%20%20%20%20letter-spacing%3A%200.5px%3B%20/*%20Kicsi%20ritk%EDt%E1s%20az%20olvashat%F3s%E1g%E9rt%20*/%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20min-width%3A%2040px%3B%20/*%20Hely%20fenntart%E1sa%20a%20sz%E1moknak%20*/%0A%20%20%20%20text-align%3A%20center%3B%0A%7D%0A%0A%09.game-status-bar%20.flex%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%200.5rem%3B%20/*%20Kisebb%20t%E1vols%E1g%20az%20elemek%20k%F6z%F6tt%20*/%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.game-status-bar%20.flex-col%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%200.5rem%3B%20/*%20Kisebb%20t%E1vols%E1g%20az%20elemek%20k%F6z%F6tt%20*/%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20/*%20Vizu%E1lis%20visszajelz%E9s%20a%20felhaszn%E1lt%2C%20de%20%FAjra%20n%E9zhet%u0151%20seg%EDts%E9gekre%20*/%0A%20%20%20%20%20%20%20%20button.used%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20%23d1fae5%3B%20/*%20Z%F6ldes%20h%E1tt%E9r%20a%20megn%E9zett%20seg%EDts%E9gre%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%23065f46%3B%20/*%20S%F6t%E9tz%F6ld%20sz%F6veg%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20%23a7f3d0%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20button.used%3Ahover%3Anot%28%3Adisabled%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20%23a7f3d0%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20/*%20%D6sszecsukhat%F3%20T%F6rt%E9net%20doboz%20st%EDlusa%20*/%0A%20%20%20%20%20%20%20%20.story-details%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20%23e2e8f0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%200.75rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200.75rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20%23f7fafc%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%20/*%20Fontos%20a%20gomb%20abszol%FAt%20pozicion%E1l%E1s%E1hoz%20*/%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.story-details%20summary%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var%28--brand-blue%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20outline%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200.5rem%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20list-style%3A%20none%3B%20/*%20Elt%E1vol%EDtja%20az%20alap%E9rtelmezett%20nyilat%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%20/*%20EZ%20BIZTOS%CDTJA%20A%20GOMB%20FIX%C1L%C1S%C1T%20A%20SUMMARY-N%20BEL%DCL%20*/%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.story-details%20summary%3A%3A-webkit-details-marker%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.story-details%20summary%3A%3Abefore%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20content%3A%20%27+%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%201.25rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-right%3A%200.5rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20transform%200.2s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20line-height%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.story-details%5Bopen%5D%20summary%3A%3Abefore%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20content%3A%20%27-%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20rotate%280deg%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.story-content%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding-top%3A%200.5rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-top%3A%201px%20solid%20%23e2e8f0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%200.5rem%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20/*%20Extra%20CSS%20a%20gomb%20garant%E1lt%20megjelen%EDt%E9s%E9hez%20%E9s%20poz%EDci%F3j%E1hoz%20%28FELOLVAS%D3%20GOMB%20JAV%CDT%C1S%29%20*/%0A%20%20%20%20%20%20%20%20%23speak-story-btn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2050%25%3B%20/*%20M%F3dos%EDtva%3A%20K%F6z%E9pre%20igaz%EDt%E1s%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateY%28-50%25%29%3B%20/*%20M%F3dos%EDtva%3A%20K%F6z%E9pre%20igaz%EDt%E1s%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%200.5rem%3B%20/*%20Be%E1ll%EDtja%20a%20gomb%20v%EDzszintes%20helyzet%E9t%20%28bel%FCl%29%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%20%21important%3B%20/*%20Er%u0151sen%20kik%E9nyszer%EDti%20a%20l%E1that%F3s%E1got%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2032px%3B%20/*%20Kisebb%20m%E9ret%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2032px%3B%20/*%20Kisebb%20m%E9ret%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200.35rem%3B%20/*%20Kisebb%20padding%20*/%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20/*%20EMOJI%20JAV%CDT%C1S%20PDF-HEZ%3A%20K%E9nyszer%EDtj%FCk%20a%20sz%EDnes%20emoji%20fontokat%20*/%0A.avatar-icon%20%7B%0A%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20margin-right%3A%200.25rem%3B%0A%20%20%20%20font-size%3A%201.5rem%3B%20/*%20Kicsit%20nagyobbra%20vessz%FCk%20*/%0A%20%20%20%20line-height%3A%201%3B%0A%20%20%20%20font-family%3A%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%2C%20%22Noto%20Color%20Emoji%22%2C%20sans-serif%3B%0A%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20/*%20J%C1T%C9K%20K%D6ZBENI%20FEJL%C9C%20%C9S%20STATUS%20BAR%20ST%CDLUSAI%20*/%0A%20%20%20%20%20%20%20%20%23game-header-logo-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%205px%20%21important%3B%20%20/*%20Teljesen%20a%20tetej%E9re%20h%FAzzuk%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%2010px%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201000%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A/*%20---%20%DAJ%20SZAB%C1LY%3A%20Fejl%E9c%20magass%E1g%E1nak%20n%F6vel%E9se%20---%20*/%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%23game-header-logo%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2060px%20%21important%3B%20/*%20Kisebb%20m%E9ret%2C%20hogy%20ne%20l%F3gjon%20bele%20semmibe%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20object-fit%3A%20contain%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20/*%202.%20K%D6Z%C9PS%u0150%20R%C9SZ%20%28N%E9v%20+%20Avatar%20+%20Teszt%20felirat%29%20*/%0A%20%20%20%20%20%20%20%20%23center-header-content%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20top%3A%2010px%20%21important%3B%20/*%200px%20helyett%2010px%2C%20%EDgy%20lejjebb%20ker%FCl%20*/%0A%20%20%20%20left%3A%2050%25%3B%0A%20%20%20%20transform%3A%20translateX%28-50%25%29%3B%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20flex-direction%3A%20column%3B%0A%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20z-index%3A%201005%3B%0A%20%20%20%20width%3A%20auto%3B%0A%20%20%20%20padding-top%3A%205px%3B%0A%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%23team-name-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20white-space%3A%20nowrap%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20rgba%28255%2C%20255%2C%20255%2C%200.9%29%3B%20/*%20Feh%E9r%20h%E1tt%E9r%2C%20hogy%20olvashat%F3%20legyen%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%202px%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%202px%204px%20rgba%280%2C0%2C0%2C0.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%202px%3B%20/*%20Hely%20a%20teszt%20feliratnak%20*/%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20/*%20Teszt%20m%F3d%20felirat%20st%EDlusa%20*/%0A%20%20%20%20%20%20%20%20%23test-mode-indicator%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20rgba%28255%2C%20255%2C%20255%2C%200.8%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200%204px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%204px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%200.65rem%20%21important%3B%20/*%20Kisebb%20bet%u0171m%E9ret%2C%20hogy%20elf%E9rjen%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20line-height%3A%201.2%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20/*%203.%20STATUS%20BAR%20%28Pontsz%E1m%2C%20Id%u0151%20-%20LEJJEBB%20TOLVA%29%20*/%0A%20%20%20%20%20%20%20%20%23game-status-bar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2067px%20%21important%3B%20/*%20FONTOS%3A%20Ez%20tolja%20le%20a%20s%E1vot%2C%20hogy%20ne%20fedje%20%E1t%20a%20nevet%21%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20right%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%20900%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20/*%204.%20KIL%C9P%C9S%20GOMB%20%28Jobb%20fels%u0151%20sarok%29%20*/%0A%20%20%20%20%20%20%20%20%23exit-game-btn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%205px%20%21important%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%2010px%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20/*%20Biztos%EDtjuk%2C%20hogy%20a%20gomb%20m%E9rete%20fix%20legyen%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2035px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2035px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%206px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20/*%20Hiba%20bejelent%E9s%20modal%20st%EDlusai%20*/%0A%20%20%20%20%20%20%20%20%23report-error-modal%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%209999%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20rgba%280%2C%200%2C%200%2C%200.7%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%0A%0A%09%20%23report-error-modal-content%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%201rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%201.5rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%2090%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20350px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20/*%20---%20KALANDV%C1LASZT%D3%20OLDAL%20FEJL%C9C%20ST%CDLUSAI%20%28JAV%CDTVA%29%20---%20*/%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20/*%20K%F6z%E9ps%u0151%20log%F3%20m%E9ret%E9nek%20kicsiny%EDt%E9se%20a%20Kalandv%E1laszt%F3%20oldalon%20*/%0A%20%20%20%20%20%20%20%20%23main-header-logo%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%2090px%3B%20/*%20Elegend%u0151%20helyet%20hagy%20az%20oldals%F3%20k%E9peknek%20%E9s%20az%20alatta%20l%E9v%u0151%20tartalomnak%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20/*%20---%20LANDING%20PAGE%20%28IND%CDT%D3%20OLDAL%29%20VISSZA%C1LL%CDTOTT%20ST%CDLUSAI%20---%20*/%0A%20%20%20%20%20%20%20%20%23landing-page%20.w-full.h-%5C%5B20vh%5C%5D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2020vh%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20padding-top%3A%202rem%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20/*%20Az%20SVG%20log%F3%20eredeti%20m%E9rete%20%28a%20HTML-ben%20w-48%29%20*/%0A%20%20%20%20%20%20%20%20%23landing-page%20svg%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2012rem%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20/*%20Mivel%20a%20kor%E1bbi%20k%EDs%E9rletben%20beillesztett%FCk%20a%20%23landing-logo-container-t%2C%20azt%20most%20elt%E1vol%EDtjuk%0A%20%20%20%20%20%20%20%20%20%20%20%E9s%20vissza%E1ll%EDtjuk%20az%20eredeti%20k%F3dot%20az%20ind%EDt%F3%20oldalon.%20*/%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20/*%20%DAJ%20CSS%3A%20T%E9rk%E9pes%20feladat%20v%E1laszt%F3%20marker%20EXPLORE%20m%F3dhoz%20*/%0A%20%20%20%20%20%20%20%20.task-selector-marker%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20var%28--brand-cyan%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%203px%20solid%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2030px%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2030px%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%200%2010px%20var%28--brand-cyan%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%0A/*%20Iubenda%20lebeg%u0151%20ikon%20elrejt%E9se%20*/%0A%20%20%20%20%20%20%20%20/*%20---%20Iubenda%20GOMB%20TELJES%20ELT%DCNTET%C9SE%20%28Mobilon%20is%29%20---%20*/%0A%23iubenda-cs-badge%2C%20%20%20%20%20%20%20%20%20/*%20Asztali%20ID%20*/%0A.iubenda-cs-badge%2C%20%20%20%20%20%20%20%20%20/*%20Mobil%20Class%20*/%0A.iubenda-cs-rat%2C%20%20%20%20%20%20%20%20%20%20%20/*%20Egy%E9b%20vari%E1ci%F3%20*/%0A.iubenda-ibadge%2C%20%20%20%20%20%20%20%20%20%20%20/*%20Lebeg%u0151%20badge%20class%20*/%0A.iub-badge-container%2C%20%20%20%20%20%20/*%20Kont%E9ner%20*/%0A%23iubenda-iframe-footer%20%7B%20%20%20/*%20Iframe%20alap%FA%20l%E1bl%E9c%20*/%0A%20%20%20%20display%3A%20none%20%21important%3B%0A%20%20%20%20visibility%3A%20hidden%20%21important%3B%0A%20%20%20%20opacity%3A%200%20%21important%3B%0A%20%20%20%20pointer-events%3A%20none%20%21important%3B%0A%20%20%20%20width%3A%200%20%21important%3B%0A%20%20%20%20height%3A%200%20%21important%3B%0A%20%20%20%20z-index%3A%20-9999%20%21important%3B%0A%7D%0A%0A%0A/*%20---%20T%E9rk%E9p%20copyright%20felirat%20kicsiny%EDt%E9se%20---%20*/%0A.leaflet-control-attribution%20%7B%0A%20%20%20%20font-size%3A%207px%20%21important%3B%20/*%20Nagyon%20pici%20bet%u0171m%E9ret%20*/%0A%20%20%20%20line-height%3A%209px%20%21important%3B%0A%20%20%20%20background%3A%20rgba%28255%2C%20255%2C%20255%2C%200.5%29%20%21important%3B%20/*%20F%E9lig%20%E1tl%E1tsz%F3%20h%E1tt%E9r%20*/%0A%20%20%20%20padding%3A%200%204px%20%21important%3B%0A%20%20%20%20border-radius%3A%204px%200%200%200%3B%0A%20%20%20%20opacity%3A%200.6%3B%20/*%20Alapb%F3l%20halv%E1ny%20*/%0A%20%20%20%20transition%3A%20opacity%200.3s%3B%0A%7D%0A%0A/*%20Ha%20f%F6l%E9%20viszi%20az%20egeret%20%28desktopon%29%2C%20legyen%20olvashat%F3%20*/%0A.leaflet-control-attribution%3Ahover%20%7B%0A%20%20%20%20opacity%3A%201%3B%0A%7D%0A%0A/*%20A%20linkek%20sz%EDne%20legyen%20sz%FCrke%2C%20ne%20a%20felt%u0171n%u0151%20k%E9k%20*/%0A.leaflet-control-attribution%20a%20%7B%0A%20%20%20%20color%3A%20%23555%20%21important%3B%20%0A%20%20%20%20text-decoration%3A%20none%20%21important%3B%0A%7D%0A%0A%0A%20%20%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%20class%3D%22overflow-hidden%22%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22app-container%22%20class%3D%22max-w-md%20mx-auto%20h-%5B100dvh%5D%20flex%20flex-col%20relative%20transition-all%20duration-500%22%3E%0A%0A%20%20%20%20%20%20%20%20%3Cmain%20id%3D%22landing-page%22%20class%3D%22flex%20flex-col%20items-center%20justify-between%20text-center%20text-brand-blue%20h-full%20p-8%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22w-full%20h-%5B15vh%5D%20flex%20flex-col%20items-center%20justify-start%20pt-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch1%20id%3D%22landing-title%22%20class%3D%22text-6xl%20font-extrabold%20tracking-tight%22%20style%3D%22text-shadow%3A%200%204px%2015px%20rgba%280%2C0%2C0%2C0.1%29%3B%22%3E%3Cspan%20id%3D%22logo-o%22%20class%3D%22text-brand-orange-500%20cursor-pointer%22%3E%3C/span%3E%3C/h1%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22w-full%20flex%20flex-col%20justify-start%20flex-grow%22%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22loading-status%22%20class%3D%22text-gray-600%20my-4%20h-5%22%3EAdatb%E1zis%20automatikus%20bet%F6lt%E9se...%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22excel-file-input-manual%22%20id%3D%22manual-file-select-label%22%20class%3D%22main-button%20w-full%20text-sm%20block%20cursor-pointer%20my-4%20%21bg-brand-blue%20hover%3A%21bg-cyan-700%20hidden%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Manu%E1lis%20J%E1t%E9kf%E1jl%20Kiv%E1laszt%E1sa%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22file%22%20id%3D%22excel-file-input-manual%22%20class%3D%22hidden%22%20accept%3D%22.xlsx%2C.txt%2C.db%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22game-order-setup%22%20class%3D%22my-4%20p-4%20bg-gray-50%20rounded-xl%20hidden%22%3E%3C/div%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/main%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22content-wrapper%22%20class%3D%22hidden%20absolute%20inset-0%20transition-transform%20duration-500%20translate-y-full%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22header%22%20class%3D%22relative%20text-text-heading%20text-center%20pt-1%20pb-10%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22main-header%22%3E%0A%0A%3Cspan%20class%3D%22absolute%20top-0%20right-2%20text-%5B9px%5D%20text-gray-500%20font-mono%20tracking-widest%20opacity-50%20pointer-events-none%20select-none%22%3E%0A%20%20%20%20%20%20%20v1.0.32%0A%20%20%20%3C/span%3E%0A%0A%20%20%20%3Cdiv%20id%3D%22main-header-logo-row%22%20class%3D%22flex%20justify-center%20items-center%20mb-2%20px-4%22%3E%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cimg%20id%3D%22main-header-logo%22%20src%3D%22logo/MystiGo_logo.png%22%20alt%3D%22MystiGo%20Log%F3%22%20class%3D%22w-full%20max-w-xs%20mx-4%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%3C/div%3E%0A%20%20%20%3Ch1%20id%3D%22page-title%22%20class%3D%22text-sm%20font-bold%20tracking-wider%20mb-1%22%3EV%E1lassz%20Kalandot%3C/h1%3E%0A%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22game-header-logo-container%22%20class%3D%22hidden%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id%3D%22game-header-logo%22%20src%3D%22logo/MystiGo_logo.png%22%20alt%3D%22MystiGo%20Log%F3%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22center-header-content%22%20class%3D%22hidden%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22test-mode-indicator%22%20class%3D%22text-%5B10px%5D%20font-bold%20text-brand-orange-500%20hidden%20mb-1%20leading-tight%22%3ETESZT%20M%D3D%3C/span%3E%0A%09%09%20%20%20%20%20%3Cdiv%20id%3D%22team-name-container%22%20class%3D%22text-sm%20font-semibold%20text-brand-blue/80%20block%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22game-team-avatar-icon%22%20class%3D%22avatar-icon%22%3E%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22team-name-display%22%3E%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22game-status-bar%22%20class%3D%22hidden%20px-2%20w-full%20flex%20justify-center%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22bg-white/90%20backdrop-blur-sm%20rounded-full%20flex%20justify-between%20items-center%20px-3%20py-2%20text-xs%20font-semibold%20shadow-md%20w-full%20max-w-sm%20border%20border-gray-100%22%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22px-2%20whitespace-nowrap%20text-brand-blue%20-ml-2%22%3E%0A%20%20%20%20Feladat%3A%20%3Cspan%20id%3D%22task-progress-display%22%3E1/10%3C/span%3E%0A%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20items-center%20gap-1.5%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20items-center%20justify-center%20gap-1%20bg-gray-50%20border%20border-gray-200%20px-2%20py-1%20rounded-full%20text-brand-blue%20min-w-%5B70px%5D%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-3%20h-3%20text-brand-cyan-500%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22currentColor%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M10%2018a8%208%200%20100-16%208%208%200%20000%2016zm1-12a1%201%200%2010-2%200v4a1%201%200%2000.293.707l2.828%202.829a1%201%200%20101.414-1.415L11%209.586V6z%22%20clip-rule%3D%22evenodd%22%20/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22timer-display%22%20class%3D%22tabular-nums%22%3E00%3A00%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20items-center%20justify-center%20gap-1%20bg-gray-50%20border%20border-gray-200%20px-2%20py-1%20rounded-full%20text-green-700%20min-w-%5B70px%5D%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-3%20h-3%20text-green-600%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm-1%2014H9V8h2v8zm4%200h-2V8h2v8z%22/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22geofence-timer-display%22%20class%3D%22tabular-nums%22%3E00%3A00%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20items-center%20justify-center%20gap-1%20bg-gray-50%20border%20border-gray-200%20px-2%20py-1%20rounded-full%20text-brand-orange-500%20min-w-%5B50px%5D%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-3%20h-3%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M9.049%202.927c.3-.921%201.603-.921%201.902%200l1.07%203.292a1%201%200%2000.95.69h3.462c.969%200%201.371%201.24.588%201.81l-2.8%202.034a1%201%200%2000-.364%201.118l1.07%203.292c.3.921-.755%201.688-1.54%201.118l-2.8-2.034a1%201%200%2000-1.175%200l-2.8%202.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1%201%200%2000-.364-1.118L2.98%208.72c-.783-.57-.38-1.81.588-1.81h3.461a1%201%200%2000.951-.69l1.07-3.292z%22%20/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22score-display%22%20class%3D%22tabular-nums%22%3E0%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22exit-game-btn%22%20onclick%3D%22showExitConfirmation%28%29%22%20%0A%20%20%20%20class%3D%22absolute%20top-4%20right-4%20p-2.5%20rounded-full%20text-white%20%0A%20%20%20%20%20%20%20%20%20%20%20bg-gradient-to-br%20from-red-400%20to-red-600%20%0A%20%20%20%20%20%20%20%20%20%20%20border-2%20border-white%20%0A%20%20%20%20%20%20%20%20%20%20%20shadow-lg%20shadow-red-500/30%20%0A%20%20%20%20%20%20%20%20%20%20%20hover%3Ascale-110%20hover%3Afrom-red-500%20hover%3Ato-red-700%20hover%3Ashadow-red-500/50%0A%20%20%20%20%20%20%20%20%20%20%20transition-all%20duration-200%20ease-in-out%20hidden%20z-50%22%3E%0A%20%20%20%20%3Csvg%20class%3D%22w-5%20h-5%20drop-shadow-sm%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222.5%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20d%3D%22M6%2018L18%206M6%206l12%2012%22%20/%3E%0A%20%20%20%20%3C/svg%3E%0A%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22absolute%20bottom-0%20left-0%20w-full%22%20viewBox%3D%220%200%201440%20120%22%20fill%3D%22none%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cpath%20d%3D%22M1440%20120H0V65.1721C0%2065.1721%20289.431%200%20720%200C1150.57%200%201440%2065.1721%201440%2065.1721V120Z%22%20fill%3D%22white%22/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22content-page-wrapper%22%20class%3D%22absolute%20top-40%20bottom-0%20left-0%20right-0%20overflow-y-auto%20px-6%20pb-6%20bg-white%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csection%20id%3D%22game-list-page%22%20class%3D%22hidden%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22game-list-controls%22%20class%3D%22space-y-4%20mb-6%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22secret-switches-container%22%20class%3D%22mt-4%20p-4%20bg-gray-50%20rounded-xl%20hidden%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20id%3D%22developer-tools-toggle%22%20class%3D%22text-xs%20font-bold%20text-text-heading%20mb-3%20cursor-pointer%20select-none%20flex%20justify-between%20items-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Fejleszt%u0151i%20Eszk%F6z%F6k%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22text-gray-50%22%3E%u25BC%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22developer-options%22%20class%3D%22space-y-2%20hidden%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%3Cbutton%20onclick%3D%22openGlobalLeaderboard%28%29%22%20class%3D%22main-button%20w-full%20text-sm%20block%20%21bg-purple-600%20hover%3A%21bg-purple-700%20my-4%20flex%20items-center%20justify-center%20gap-2%22%3E%0A%20%20%20%20%uD83C%uDF0E%20Glob%E1lis%20Ranglista%20%28%D6sszes%20J%E1t%E9k%29%0A%3C/button%3E%0A%0A%0A%09%09%09%09%3Cbutton%20onclick%3D%22openStorageManager%28%29%22%20class%3D%22main-button%20w-full%20text-sm%20block%20%21bg-gray-700%20hover%3A%21bg-gray-800%20my-4%20flex%20items-center%20justify-center%20gap-2%22%3E%0A%09%09%09%09%20%20%20%20%uD83D%uDCBE%20LocalStorage%20Kezel%u0151%20%28R%E9szletes%29%0A%09%09%09%09%3C/button%3E%0A%0A%09%09%09%09%3Cbutton%20id%3D%22list-all-games-btn%22%20class%3D%22main-button%20w-full%20text-sm%20block%20%21bg-indigo-600%20hover%3A%21bg-indigo-700%20my-4%22%3E%0A%09%09%09%20%20%20%20%20%20%20%20%20%D6sszes%20J%E1t%E9k%20List%E1z%E1sa%20%28Rejtett%20is%29%0A%09%09%09%20%20%20%20%20%20%20%20%3C/button%3E%0A%09%09%09%09%3Clabel%20for%3D%22excel-file-input%22%20class%3D%22main-button%20w-full%20text-sm%20block%20cursor-pointer%20my-4%20%21bg-brand-blue%20hover%3A%21bg-cyan-700%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Manu%E1lis%20J%E1t%E9kf%E1jl%20Kiv%E1laszt%E1sa%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22file%22%20id%3D%22excel-file-input%22%20class%3D%22hidden%22%20accept%3D%22.xlsx%2C.txt%2C.db%22%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22window.open%28%27MystiGo_game_creator.html%27%2C%20%27_blank%27%29%22%20class%3D%22main-button%20w-full%20text-sm%20block%20%21bg-blue-600%20hover%3A%21bg-blue-700%20my-4%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Game%20Creator%20%28Megnyit%E1s%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22loadLocalXlsx%28%27games/games_full_kids.xlsx%27%29%22%20class%3D%22main-button%20w-full%20text-sm%20block%20%21bg-red-600%20hover%3A%21bg-red-700%20my-4%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Teszt%20Adatb%E1zis%20Bet%F6lt%E9se%20%28games_full_kids.xlsx%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cfieldset%20id%3D%22game-mode-select-fieldset%22%20class%3D%22mt-4%20p-3%20bg-white%20rounded-lg%20border%20border-gray-200%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clegend%20class%3D%22text-xs%20font-bold%20text-text-heading%20mb-2%22%3EJ%E1t%E9k%20M%F3d%20V%E1laszt%E1sa%3A%3C/legend%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22space-y-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22mode-normal%22%20class%3D%22flex%20items-center%20cursor-pointer%20text-gray-700%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22radio%22%20id%3D%22mode-normal%22%20name%3D%22game_mode_selection%22%20value%3D%22normal%22%20checked%20class%3D%22h-4%20w-4%20text-cyan-500%20border-gray-300%20focus%3Aring-cyan-500%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22ml-2%20text-sm%20font-medium%22%3ENorm%E1l%20J%E1t%E9k%20%28GPS%20sz%FCks%E9ges%29%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22mode-test%22%20class%3D%22flex%20items-center%20cursor-pointer%20text-gray-700%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22radio%22%20id%3D%22mode-test%22%20name%3D%22game_mode_selection%22%20value%3D%22test%22%20class%3D%22h-4%20w-4%20text-cyan-500%20border-gray-300%20focus%3Aring-cyan-500%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22ml-2%20text-sm%20font-medium%22%3ETeszt%20M%F3d%20%28Geo-fence%20kikapcsolva%29%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22mode-mock%22%20class%3D%22flex%20items-center%20cursor-pointer%20text-gray-700%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22radio%22%20id%3D%22mode-mock%22%20name%3D%22game_mode_selection%22%20value%3D%22mock%22%20class%3D%22h-4%20w-4%20text-cyan-500%20border-gray-300%20focus%3Aring-cyan-500%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22ml-2%20text-sm%20font-medium%22%3EManu%E1lis%20GPS%20%28T%E9rk%E9pen%20kattint%E1s%29%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/fieldset%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22game-mode-settings%22%20class%3D%22p-4%20bg-gray-100%20rounded-xl%20border%20border-gray-200%20mt-4%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-sm%20font-semibold%20text-brand-blue%20mb-2%22%3EFeladatok%20%E9s%20Sorrend%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cselect%20id%3D%22task-order-select%22%20class%3D%22w-full%20px-4%20py-2%20border-2%20border-gray-200%20rounded-lg%20text-sm%20mb-3%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22sequential%22%3ESzekvenci%E1lis%20%28Sorban%29%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22random%22%3EV%E9letlenszer%u0171%20%28Random%29%3C/option%3E%0A%09%09%09%09%09%3Coption%20value%3D%22explore%22%3EExplore%20%28%F6sszes%20pont%20l%E1tszik%29%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/select%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdetails%20id%3D%22game-type-explanation%22%20class%3D%22story-details%20mb-4%22%20style%3D%22background-color%3A%20%23fefce8%3B%20border-color%3A%20%23fde68a%3B%22%3E%0A%20%20%20%20%3Csummary%20style%3D%22font-weight%3A%20800%3B%20color%3A%20var%28--brand-blue%29%3B%20padding%3A%200.5rem%3B%20display%3A%20flex%3B%20align-items%3A%20center%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22text-xl%20mr-2%22%3E%u2139%uFE0F%3C/span%3E%20Hogyan%20m%u0171k%F6dik%20a%20MystiGo%3F%0A%20%20%20%20%20%20%20%20%3Cspan%20style%3D%22position%3A%20absolute%3B%20right%3A%200.75rem%3B%20top%3A%200.8rem%3B%20font-size%3A%201.5rem%3B%22%3E%3C/span%3E%0A%20%20%20%20%3C/summary%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22story-content%22%20style%3D%22border-top%3A%201px%20solid%20%23fde68a%3B%20margin-top%3A%200.5rem%3B%20padding-top%3A%200.5rem%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22space-y-2%20text-sm%20text-gray-700%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%uD83D%uDCF1%20Telefon%20+%20GPS%20+%20internet%20sz%FCks%E9ges%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%uD83D%uDD0B%20T%F6ltsd%20fel%20az%20akkut%20%28vagy%20hozz%20powerbankot%29%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%uD83D%uDCCD%20Menj%20a%20j%E1t%E9k%20kezd%u0151pontj%E1ra%20%u2013%20ott%20indul%20el%20a%20j%E1t%E9k%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%uD83D%uDDFA%uFE0F%20K%F6vesd%20a%20t%E9rk%E9pen%20a%20c%E9lpontokat%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%uD83E%uDDE9%20A%20k%E9rd%E9s%20csak%20a%20helysz%EDnen%20jelenik%20meg%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%u2B50%20Minden%20feladat%2050%20pontot%20%E9r%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%uD83D%uDCA1%20K%E9rhetsz%202%20seg%EDts%E9get%20%28%u221210%20/%20%u221220%20pont%29%20vagy%20megold%E1st%20%280%20pont%29%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%u274C%20Minden%20rossz%20v%E1lasz%3A%20%u22121%20pont%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mt-3%20mb-3%20p-3%20bg-blue-50%20rounded-lg%20border%20border-blue-100%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22font-bold%20text-brand-blue%20mb-1%22%3E%uD83C%uDFC6%20Rangsorol%E1s%20sorrendje%3A%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Col%20class%3D%22list-decimal%20list-inside%20space-y-1%20ml-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3E%3Cstrong%3E%u2B50Szerzett%20Pontok%3C/strong%3E%20%28Ez%20a%20legfontosabb%21%29%3C/li%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3E%3Cstrong%3E%uD83E%uDDE9Feladat%20id%u0151%3C/strong%3E%20%28Csak%20a%20k%E9rd%E9s%20megold%E1sa%20alatt%20telik%29%3C/li%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3E%3Cstrong%3E%u23F1%uFE0FTeljes%20id%u0151%3C/strong%3E%20%28S%E9ta%20+%20gondolkod%E1s%29%3C/li%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/ol%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mt-2%20flex%20items-start%20gap-2%20text-xs%20text-blue-800%20bg-white%20p-2%20rounded%20border%20border-blue-100%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22text-lg%22%3E%uD83D%uDCA1%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%3Cstrong%3ETipp%3A%3C/strong%3E%20Nem%20kell%20rohanni%20a%20helysz%EDnek%20k%F6z%F6tt%21%20A%20teljes%20id%u0151%20sz%E1m%EDt%20legkev%E9sb%E9.%20Team%20j%E1t%E9kn%E1l%20nyugodtan%20s%E9t%E1ljatok%2C%20a%20pontoss%E1g%20%E9s%20a%20biztons%E1g%20a%20legfontosabb%21%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%u23F1%uFE0F%20K%E9t%20id%u0151m%E9r%E9s%20a%20k%E9perny%u0151n%3A%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20style%3D%22margin-left%3A%201.5rem%22%3E%u2022%20%uD83D%uDD35%20K%E9k%20%3D%20Teljes%20id%u0151%20%28kev%E9sb%E9%20sz%E1m%EDt%29%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20style%3D%22margin-left%3A%201.5rem%22%3E%u2022%20%uD83D%uDFE2%20Z%F6ld%20%3D%20Feladat%20id%u0151%20%28fontosabb%21%29%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22mt-2%22%3E%u26A0%uFE0F%20Ha%20gond%20van%20az%20adott%20feladattal%2C%20haszn%E1ld%20a%20%3Cstrong%3E%u201EFeladat%20%E1tugr%E1sa%u201D%3C/strong%3E%20gombot%2C%20de%20ilyenkor%20az%20adott%20feladat%200%20pontot%20fog%20%E9rni.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20class%3D%22text-lg%20font-bold%20text-text-heading%20mt-4%20mb-2%22%3EKaland%20T%EDpusok%20Magyar%E1zata%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22space-y-2%20text-sm%20text-gray-700%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%3Cstrong%3ENormal%20%uD83E%uDDED%3A%3C/strong%3E%20%C1ltal%E1nos%20kaland%2C%20feln%u0151tt/tin%E9dzser%20%2814+%29%20j%E1t%E9kosoknak%20sz%E1nt%20k%E9rd%E9sekkel%20%E9s%20feladatokkal.%20A%20feladatok%20sorrendben%20k%F6vetik%20egym%E1st.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%3Cstrong%3EKids%20%uD83D%uDC08%3A%3C/strong%3E%20Kimondottan%206-12%20%E9ves%20gyerekeknek%20sz%F3l%F3%2C%20egyszer%u0171bb%20k%E9rd%E9sek%2C%20a%20Mysti%20cica%20t%F6rt%E9net%E9vel%20f%u0171szerezve%2C%20sorban%20halad%F3%20feladatokkal.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%3Cstrong%3ETeam%20%uD83E%uDDD1%u200D%uD83E%uDD1D%u200D%uD83E%uDDD1%3A%3C/strong%3E%20Csapatj%E1t%E9kra%20optimaliz%E1lt.%20A%20feladatok%20*v%E1ltoz%F3%20sorrendben*%20j%F6nnek%20egym%E1s%20ut%E1n%2C%20egyszerre%20tudnak%20indulni%20egy%20helyr%u0151l%20a%20csapatok%2C%20%E9s%20egy%20helyen%20v%E9geznek%20a%20j%E1t%E9k%20v%E9g%E9n.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%3Cstrong%3EExplore%20%uD83C%uDF0D%3A%3C/strong%3E%20A%20j%E1t%E9kos%20szabadon%20v%E1laszt%20a%20t%E9rk%E9pen%20l%E9v%u0151%20feladatok%20k%F6z%FCl.%20A%20c%E9lpontok%20a%20j%E1t%E9k%20ind%EDt%E1sa%20ut%E1n%20egyszerre%20l%E1that%F3k%20a%20t%E9rk%E9pen.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%0A%3Cdiv%20class%3D%22mt-6%20pt-4%20border-t%20border-gray-200%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-xs%20font-bold%20text-gray-500%20mb-1%20text-center%20uppercase%20tracking-wide%22%3EProbl%E9m%E1d%20ad%F3dott%3F%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-%5B10px%5D%20text-gray-400%20text-center%20mb-3%20italic%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28Minden%20oldal%20legalj%E1n%20is%20megtal%E1lod%20ezt%20a%20gombot%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/p%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ca%20href%3D%22https%3A//forms.gle/Kzt5CvVrCxec2bby9%22%20target%3D%22_blank%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20class%3D%22block%20w-full%20py-2.5%20rounded-lg%20border%20border-red-200%20bg-white%20text-xs%20font-bold%20text-center%20text-red-600%20hover%3Abg-red-50%20hover%3Aborder-red-300%20transition%20shadow-sm%20flex%20items-center%20justify-center%20gap-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%uD83D%uDCE2%3C/span%3E%20Visszajelz%E9s%20/%20Hiba%20bejelent%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/a%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%20%3C/details%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22team-setup%22%20class%3D%22p-4%20bg-blue-50%20rounded-xl%20border%20border-blue-200%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22flex%20justify-between%20items-center%20mb-3%22%3E%0A%20%20%20%20%20%20%20%20%3Ch2%20class%3D%22text-xl%20font-bold%20text-text-heading%22%3EJ%E1t%E9kos%3Cspan%20class%3D%22text-red-500%22%3E*%3C/span%3E%3C/h2%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Clabel%20class%3D%22flex%20items-center%20cursor-pointer%20gap-2%20select-none%20bg-yellow-100%20px-3%20py-1%20rounded-full%20border%20border-yellow-200%20hover%3Abg-yellow-200%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22text-xs%20font-bold%20text-yellow-800%20uppercase%20tracking-wide%22%3EKids%20M%F3d%20%uD83D%uDC08%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20id%3D%22kids-mode-checkbox%22%20class%3D%22w-4%20h-4%20text-brand-orange%20border-gray-300%20rounded%20focus%3Aring-brand-orange%20accent-orange-500%22%3E%0A%20%20%20%20%20%20%20%20%3C/label%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22team-name-input%22%20maxlength%3D%2225%22%20placeholder%3D%22Pl.%20Vill%E1m-Macsk%E1k%202024%22%20class%3D%22w-full%20px-4%20py-2%20border-2%20border-gray-200%20rounded-lg%20text-sm%20focus%3Aring-2%20focus%3Aring-brand-blue%20outline-none%22%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%3Cselect%20id%3D%22team-avatar-select%22%20class%3D%22w-full%20px-4%20py-2%20border-2%20border-gray-200%20rounded-lg%20text-sm%22%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22%22%3EV%E1lassz%20Avatart%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22cat%22%3EMysti%20%uD83D%uDC31%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22dog%22%3EKutya%20%uD83D%uDC36%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22panda%22%3EPanda%20%uD83D%uDC3C%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22shark%22%3EC%E1pa%20%uD83E%uDD88%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22parrot%22%3EPapag%E1j%20%uD83E%uDD9C%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22bear%22%3EMaci%20%uD83D%uDC3B%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22cow%22%3EBoci%20%uD83D%uDC2E%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22elephant%22%3EElef%E1nt%20%uD83D%uDC18%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22detective%22%3ENyomoz%F3%20%uD83D%uDD75%uFE0F%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22explorer%22%3EFelfedez%u0151%20%uD83E%uDDED%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22wizard%22%3EVar%E1zsl%F3%20%uD83E%uDDD9%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22robot%22%3ERobot%20%uD83E%uDD16%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22ghost%22%3ESzellem%20%uD83D%uDC7B%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22skull%22%3EKoponya%20%u2620%uFE0F%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22lock%22%3ELakat%20%uD83D%uDD12%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22magician%22%3EB%u0171v%E9sz%20%uD83C%uDFA9%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22mask%22%3E%C1larc%20%uD83C%uDFAD%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22fire%22%3ET%u0171z%20%uD83D%uDD25%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22knight%22%3ELovag%20%u2694%uFE0F%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22hamburger%22%3EHamburger%20%uD83C%uDF54%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22pizza%22%3EPizza%20%uD83C%uDF55%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22doughnut%22%3EF%E1nk%20%uD83C%uDF69%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22cupcake%22%3EMuffin%20%uD83E%uDDC1%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22lollipop%22%3ENyal%F3ka%20%uD83C%uDF6D%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22smile%22%3ESmile%20%uD83D%uDE0E%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22zombie%22%3EZombi%20%uD83E%uDDDF%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22ballerina%22%3EBelerina%20%uD83E%uDE70%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22police%22%3ERend%u0151r%20%uD83D%uDE93%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22firefighter%22%3ET%u0171zolt%F3%20%uD83D%uDE92%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22ambulance%22%3EMent%u0151%20%uD83D%uDE91%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22star%22%3ECsillag%20%u2B50%uFE0F%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22heart%22%3ESz%EDv%20%u2764%uFE0F%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22crown%22%3EKorona%20%uD83D%uDC51%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22laptop%22%3ELaptop%20%uD83D%uDCBB%3C/option%3E%0A%20%20%20%20%20%20%20%20%3Coption%20value%3D%22floppy%22%3EFloppy%20%uD83D%uDCBE%3C/option%3E%0A%20%20%20%20%3C/select%3E%0A%0A%3Cdiv%20class%3D%22flex%20justify-between%20items-start%20mt-1%20mb-3%22%3E%0A%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-%5B10px%5D%20text-gray-500%20italic%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%uD83D%uDCA1%20Tipp%3A%20V%E1lassz%20egyedi%20nevet%20%E9s%20avatart%2C%20hogy%20k%F6nnyen%20megtal%E1ld%20magad%20a%20ranglist%E1n%21%0A%20%20%20%20%20%20%20%20%3C/p%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cbutton%20id%3D%22gps-test-btn%22%20onclick%3D%22testGpsConnection%28%29%22%20class%3D%22w-full%20mt-3%20py-2%20bg-white%20border-2%20border-gray-300%20text-gray-600%20hover%3Abg-gray-100%20hover%3Atext-brand-blue%20font-bold%20rounded-lg%20text-xs%20transition%20flex%20items-center%20justify-center%20gap-2%20shadow-sm%22%3E%0A%20%20%20%20%20%20%20%20%uD83D%uDEF0%uFE0F%20GPS%20M%u0171k%F6d%E9s%E9nek%20Tesztel%E9se%0A%20%20%20%20%3C/button%3E%0A%0A%20%20%20%20%3Cbutton%20onclick%3D%22startSpecificTestGame%28%29%22%20class%3D%22w-full%20mt-2%20py-2%20bg-white%20border-2%20border-gray-300%20text-gray-600%20hover%3Abg-gray-100%20hover%3Atext-brand-blue%20font-bold%20rounded-lg%20text-xs%20transition%20flex%20items-center%20justify-center%20gap-2%20shadow-sm%22%3E%0A%20%20%20%20%20%20%20%20%uD83C%uDFAE%20Teszt%20J%E1t%E9k%20Ind%EDt%E1sa%20%28GPS%20n%E9lk%FCl%29%0A%20%20%20%20%3C/button%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22gps-test-container%22%20class%3D%22hidden%20mt-3%20bg-white%20p-2%20rounded-lg%20border%20border-gray-200%20shadow-inner%22%3E%0A%20%20%20%20%20%20%20%20%3Cp%20id%3D%22gps-test-status%22%20class%3D%22text-xs%20font-bold%20text-center%20text-brand-blue%20mb-2%22%3E%uD83D%uDCE1%20Jel%20keres%E9se...%20%28K%E9rlek%20v%E1rj%29%3C/p%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22gps-test-map%22%20class%3D%22w-full%20h-40%20rounded%20border%20border-gray-300%20relative%20z-10%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22gps-result-message%22%20class%3D%22hidden%20mt-2%20p-2%20rounded%20text-xs%20font-bold%20text-center%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mt-2%20text-%5B10px%5D%20text-gray-400%20text-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Pontoss%E1g%3A%20%3Cspan%20id%3D%22gps-accuracy-value%22%3E-%3C/span%3E%20m%E9ter%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%0A%3Cdiv%20id%3D%22filter-container%22%20class%3D%22bg-white%20p-4%20rounded-xl%20shadow-sm%20border%20border-gray-100%20mb-6%20transition-all%20duration-300%22%3E%0A%20%20%20%20%3Cdiv%20onclick%3D%22toggleFilterSection%28%29%22%20class%3D%22cursor-pointer%20flex%20items-center%20justify-between%20select-none%22%3E%0A%20%20%20%20%20%20%20%20%3Ch3%20class%3D%22text-sm%20font-bold%20text-brand-blue%20flex%20items-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22filter-toggle-icon%22%20class%3D%22mr-2%20text-lg%20font-extrabold%20text-black%20leading-none%22%20style%3D%22margin-top%3A%20-2px%3B%22%3E+%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-4%20h-4%20mr-2%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22currentColor%22%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M21%2021l-6-6m2-5a7%207%200%2011-14%200%207%207%200%200114%200z%22%20/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Kaland%20Keres%E9se%20%26%20Sz%u0171r%E9se%0A%20%20%20%20%20%20%20%20%3C/h3%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id%3D%22filter-content%22%20class%3D%22hidden%20mt-3%20pt-3%20border-t%20border-gray-100%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22grid%20grid-cols-2%20gap-3%20mb-3%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%22block%20text-xs%20font-semibold%20text-gray-500%20mb-1%22%3EHelysz%EDn%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cselect%20id%3D%22filter-location%22%20onchange%3D%22applyFilters%28%29%22%20class%3D%22w-full%20px-3%20py-2%20border%20border-gray-200%20rounded-lg%20text-sm%20focus%3Aring-2%20focus%3Aring-cyan-500%20outline-none%20bg-gray-50%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22all%22%3E%D6sszes%20Helysz%EDn%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/select%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%22block%20text-xs%20font-semibold%20text-gray-500%20mb-1%22%3ET%EDpus%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cselect%20id%3D%22filter-type%22%20onchange%3D%22applyFilters%28%29%22%20class%3D%22w-full%20px-3%20py-2%20border%20border-gray-200%20rounded-lg%20text-sm%20focus%3Aring-2%20focus%3Aring-cyan-500%20outline-none%20bg-gray-50%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22all%22%3E%D6sszes%20T%EDpus%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22normal%22%3ENormal%20%uD83E%uDDED%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22kids%22%3EKids%20%uD83D%uDC08%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22team%22%3ECsapat%20%uD83E%uDDD1%u200D%uD83E%uDD1D%u200D%uD83E%uDDD1%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22explore%22%3EExplore%20%uD83C%uDF0D%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/select%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%22block%20text-xs%20font-semibold%20text-gray-500%20mb-1%22%3EKeres%E9s%20%28N%E9v%2C%20ID%2C%20V%E1ros...%29%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22relative%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22filter-search%22%20oninput%3D%22applyFilters%28%29%22%20placeholder%3D%22%CDrj%20be%20valamit...%22%20class%3D%22w-full%20pl-9%20pr-3%20py-2%20border%20border-gray-200%20rounded-lg%20text-sm%20focus%3Aring-2%20focus%3Aring-cyan-500%20outline-none%20bg-gray-50%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-4%20h-4%20text-gray-400%20absolute%20left-3%20top-2.5%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22currentColor%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M21%2021l-6-6m2-5a7%207%200%2011-14%200%207%207%200%200114%200z%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%0A%3Cdiv%20class%3D%22mt-3%20pt-3%20border-t%20border-gray-100%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22openGameMap%28%29%22%20class%3D%22w-full%20mb-2%20py-2%20bg-white%20border-2%20border-brand-blue%20text-brand-blue%20hover%3Abg-gray-100%20hover%3Atext-brand-blue%20font-bold%20rounded-lg%20text-xs%20transition%20flex%20items-center%20justify-center%20gap-2%20shadow-sm%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%uD83D%uDDFA%uFE0F%20J%E1t%E9kok%20megjelen%EDt%E9se%20t%E9rk%E9pen%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22sortGamesNearby%28%29%22%20id%3D%22btn-sort-nearby%22%20class%3D%22w-full%20py-2%20bg-white%20border-2%20border-brand-blue%20text-brand-blue%20hover%3Abg-gray-100%20hover%3Atext-brand-blue%20font-bold%20rounded-lg%20text-xs%20transition%20flex%20items-center%20justify-center%20gap-2%20shadow-sm%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%uD83D%uDCCD%20J%E1t%E9kok%20a%20k%F6zelemben%20%28T%E1vols%E1g%20szerint%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22nearby-status%22%20class%3D%22text-%5B10px%5D%20text-center%20text-gray-400%20mt-1%20hidden%22%3E%3C/p%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%3C/div%3E%0A%0A%0A%09%09%3Cdiv%20id%3D%22game-list%22%20class%3D%22space-y-6%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/section%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csection%20id%3D%22game-page%22%20class%3D%22hidden%20space-y-6%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22content-card%20p-4%22%3E%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%3Cdiv%20id%3D%22zoom-level-indicator%22%20class%3D%22absolute%20top-1%20left-1%20bg-white/50%20text-gray-200%20text-%5B10px%5D%20px-1%20rounded%20z-%5B1000%5D%20pointer-events-none%20font-mono%22%3EZ%3A%20-%3C/div%3E%0A%0A%0A%20%20%20%3Cdiv%20id%3D%22map%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mt-3%20mb-2%20flex%20justify-between%20items-center%20px-2%20w-full%22%3E%0A%20%20%20%20%20%20%20%3Cbutton%20id%3D%22google-maps-btn%22%20class%3D%22flex%20flex-col%20items-center%20justify-center%20text-xs%20text-brand-blue%20font-semibold%20hover%3Atext-brand-cyan-500%20transition%22%20onclick%3D%22startNavigation%28%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20src%3D%22logo/google_maps_icon.png%22%20alt%3D%22Maps%22%20class%3D%22w-5%20h-5%20mb-0.5%20object-contain%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3ENavig%E1l%E1s%3C/span%3E%0A%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20class%3D%22flex-1%20flex%20justify-center%22%3E%0A%20%20%20%20%20%20%20%20%3Cp%20id%3D%22distance-info%22%20class%3D%22text-center%20text-xs%20font-bold%20whitespace-nowrap%22%3E%3C/p%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%0A%3Cbutton%20id%3D%22report-error-btn%22%20class%3D%22flex%20flex-col%20items-center%20justify-center%20text-%5B10px%5D%20text-gray-500%20font-semibold%20hover%3Atext-red-500%20transition%20leading-tight%22%20onclick%3D%22showReportModal%28%29%22%3E%0A%20%20%20%20%20%3Cspan%3E%u26A0%uFE0F%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EFeladat%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%E1tugr%E1sa%3C/span%3E%0A%20%20%20%20%20%20%20%20%3C/button%3E%0A%0A%3C/div%3E%0A%0A%0A%09%20%20%20%20%3Cbutton%20id%3D%22back-to-map-btn%22%20onclick%3D%22backToExploreMap%28%29%22%20%0A%20%20%20%20class%3D%22hidden%20w-full%20mt-4%20mb-2%20py-2.5%20bg-cyan-50%20border-2%20border-cyan-500%20text-cyan-700%20hover%3Abg-cyan-500%20hover%3Atext-white%20font-bold%20rounded-xl%20text-xs%20transition-all%20flex%20items-center%20justify-center%20gap-2%20shadow-sm%20transform%20active%3Ascale-95%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%u2B05%uFE0F%20%20Vissza%20a%20t%E9rk%E9pre%20%28m%E1sik%20feladatot%20v%E1lasztok%29%0A%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22start-task-button-container%22%20class%3D%22mt-4%20hidden%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22start-game-btn%22%20class%3D%22main-button%20w-full%20%21text-lg%20%21py-3%20disabled%3A%21bg-gray-400%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%uD83D%uDE80%20Kaland%20Ind%EDt%E1sa%20%28Id%u0151m%E9r%E9s%20elindul%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22explore-selection-container%22%20class%3D%22mt-4%20hidden%20text-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%20class%3D%22text-lg%20font-bold%20text-brand-blue%20mb-2%22%3EV%E1lassz%20Feladatot%20a%20T%E9rk%E9pen%21%3C/h3%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-sm%20text-gray-600%20mb-4%22%3EA%20k%F6vetkez%u0151%20c%E9lpont%20kiv%E1laszt%E1s%E1hoz%20kattints%20egy%20k%E9k%20jel%F6l%u0151re%20a%20t%E9rk%E9pen.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22task-interaction-area%22%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22normal-task-content%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22content-card%20p-5%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%09%09%09%09%3Cdetails%20id%3D%22story-details%22%20class%3D%22story-details%20mb-4%22%20open%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csummary%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20T%F6rt%E9net%20Olvas%E1sa%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22speak-story-btn%22%20onclick%3D%22speakStory%28event%29%22%20class%3D%22p-1.5%20rounded-full%20bg-red-500%20text-white%20hover%3Abg-red-600%20transition%22%20title%3D%22Felolvas%E1s%20ind%EDt%E1sa%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-5%20h-5%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M14.5%2012c0%201.767-1.026%203.29-2.5%204v-8c1.474.71%202.5%202.233%202.5%204zM16%2012c0%202.222-1.39%204.14-3.333%204.889l1.455%201.455c2.427-.99%204.344-3.13%204.344-6.344s-1.917-5.354-4.344-6.344l-1.455%201.455C14.61%207.86%2016%209.778%2016%2012zM8%209H4v6h4l5%205V4l-5%205z%22/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/summary%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22story-content%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22story%22%20class%3D%22text-text-dark%22%3E%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/details%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22prompt%22%20class%3D%22font-bold%20text-lg%20text-text-heading%20mb-4%22%3E%3C/p%3E%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22answer-input-container%22%20class%3D%22flex%20items-center%20gap-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22answer-input%22%20placeholder%3D%22%CDrd%20be%20a%20megold%E1st...%22%20class%3D%22w-full%20px-4%20py-3%20border-2%20border-gray-200%20rounded-full%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-cyan-500%20disabled%3Abg-gray-100%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22submit-answer-btn%22%20class%3D%22p-3%20bg-cyan-500%20text-white%20rounded-full%20shadow-lg%20hover%3Abg-cyan-600%20transition%20flex-shrink-0%22%3E%3Csvg%20class%3D%22h-6%20w-6%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22currentColor%22%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M5%2013l4%204L19%207%22%20/%3E%3C/svg%3E%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22hint-buttons-container%22%20class%3D%22flex%20justify-center%20gap-2%20mt-4%20text-xs%20font-semibold%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22hint1-btn%22%20class%3D%22bg-gray-200%20text-gray-700%20px-3%20py-1%20rounded-full%20disabled%3Aopacity-50%22%3ESeg%EDts%E9g%201%20%28Pont%3A%20-10%29%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22hint2-btn%22%20class%3D%22bg-gray-200%20text-gray-700%20px-3%20py-1%20rounded-full%20disabled%3Aopacity-50%22%20disabled%3ESeg%EDts%E9g%202%20%28Pont%3A%20-20%29%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22solution-btn%22%20class%3D%22bg-red-100%20text-red-700%20px-3%20py-1%20rounded-full%20disabled%3Aopacity-50%22%20disabled%3EMegold%E1s%20%28Pont%3A%200%29%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22height%3A%2014rem%3B%22%3E%A0%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22rescue-task-content%22%20class%3D%22hidden%22%3E%3C/div%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/section%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csection%20id%3D%22end-page%22%20class%3D%22hidden%20space-y-6%20text-center%20flex%20flex-col%20items-center%20pt-8%22%3E%0A%20%20%20%20%20%3Cdiv%20id%3D%22pdf-content%22%20class%3D%22flex%20flex-col%20items-center%20text-center%20w-full%22%3E%20%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20class%3D%22text-4xl%20font-bold%20text-text-heading%20mt-10%22%3ESz%E9p%20munka%21%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-lg%20text-text-dark%20mb-4%22%3ETeljes%EDtetted%20a%20kalandot.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22route-map%22%20style%3D%22height%3A%20300px%3B%20width%3A%20100%25%3B%20border-radius%3A%201rem%3B%20border%3A%203px%20solid%20%23E0F7FA%3B%20margin%3A%2020px%200%3B%22%3E%3C/div%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22end-story%22%20class%3D%22text-text-dark%20my-4%20max-w-prose%22%3E%3C/p%3E%0A%3Cdiv%20class%3D%22relative%20my-10%22%3E%20%3Cdiv%20class%3D%22absolute%20inset-0%20flex%20flex-col%20items-center%20justify-center%20text-brand-orange-500%22%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22text-5xl%20font-extrabold%22%20id%3D%22final-score%22%20style%3D%22text-shadow%3A%200%201px%202px%20rgba%280%2C0%2C0%2C0.1%29%3B%22%3E%3C/span%3E%20%3Cspan%20class%3D%22text-base%20font-bold%22%3EPONT%3C/span%3E%20%3C/div%3E%0A%3C/div%3E%0A%3Cdiv%20class%3D%22mt-4%20text-center%20space-y-4%20p-6%20w-full%20max-w-xs%20bg-gray-200%20rounded-lg%20mx-auto%20shadow-md%22%3E%0A%20%20%20%20%3Cp%20class%3D%22text-lg%20font-bold%20text-text-heading%20mb-1%22%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22final-team-avatar-icon%22%20class%3D%22avatar-icon%22%3E%3C/span%3E%0A%20%20%20%20%20%20%20%20N%E9v%3A%20%3Cspan%20id%3D%22final-team-display%22%3E%3C/span%3E%0A%20%20%20%20%3C/p%3E%20%0A%20%20%20%20%3Cp%20class%3D%22block%22%3E%uD83E%uDDE9Feladat%20Id%u0151%3A%20%3Cstrong%20id%3D%22final-geofence-time%22%3E00%3A00%3C/strong%3E%3C/p%3E%0A%20%20%20%20%3Cp%20class%3D%22block%22%3E%u23F1%uFE0FTeljes%20Id%u0151%3A%20%3Cstrong%20id%3D%22final-time%22%3E00%3A00%3C/strong%3E%3C/p%3E%20%0A%20%20%20%20%0A%3Cdiv%20class%3D%22border-t%20border-gray-200%20mt-3%20pt-2%22%3E%0A%20%20%20%20%3Cp%20id%3D%22end-timestamp%22%20class%3D%22text-xs%20text-gray-400%20pb-1%20leading-relaxed%22%3E%3C/p%3E%0A%3C/div%3E%0A%0A%0A%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%20%0A%0A%0A%0A%3Cbutton%20onclick%3D%22openLeaderboardModal%28%29%22%20class%3D%22main-button%20w-full%20max-w-xs%20mx-auto%20mt-6%20mb-2%20%21bg-brand-blue%20hover%3A%21bg-cyan-700%20shadow-xl%20flex%20items-center%20justify-center%20gap-2%22%3E%0A%20%20%20%20%3Cspan%3E%uD83C%uDFC6%3C/span%3E%20Ranglista%20Megtekint%E9se%0A%3C/button%3E%0A%0A%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22social-share-buttons%22%20class%3D%22flex%20space-x-6%20justify-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-sm%20text-gray-500%20mb-4%20mt-4%20font-semibold%22%3EOszd%20meg%20a%20teljes%EDt%E9sed%20a%20k%F6z%F6ss%E9gi%20m%E9di%E1n%3A%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22social-share-buttons%22%20class%3D%22flex%20space-x-6%20justify-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22shareResult%28%27facebook%27%29%22%20class%3D%22p-2%20rounded-full%20bg-white%20hover%3Abg-gray-100%20transition%20shadow-lg%20flex%20items-center%20justify-center%20border%20border-gray-200%22%20title%3D%22Megoszt%E1s%20Facebookon%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-8%20h-8%20text-blue-600%22%20fill%3D%22currentColor%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M22.675%200h-21.35c-.732%200-1.325.593-1.325%201.325v21.35c0%20.732.593%201.325%201.325%201.325h11.495v-9.294h-3.143v-3.626h3.143v-2.128c0-3.12%201.847-4.815%204.673-4.815%201.326%200%202.464.099%202.802.143v3.25l-1.921.001c-1.503%200-1.802.714-1.802%201.768v2.316h3.618l-.471%203.626h-3.147v9.294h6.115c.732%200%201.325-.593%201.325-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z%22/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22shareResult%28%27system%27%29%22%20class%3D%22p-2%20rounded-full%20bg-white%20hover%3Abg-gray-100%20transition%20shadow-lg%20flex%20items-center%20justify-center%20border%20border-gray-200%22%20title%3D%22Megoszt%E1s%20Instagramon/TikTokon/Egyebek%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20src%3D%22logo/share.png%22%20alt%3D%22%C1ltal%E1nos%20megoszt%E1s%22%20class%3D%22w-8%20h-8%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%3Cp%3E%3C/p%3E%0A%3Cp%3E%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-sm%20text-gray-500%20mb-4%20mt-10%22%3EAmennyiben%20tetszett%20a%20j%E1t%E9k%20az%20al%E1bbi%20lehet%u0151s%E9geken%20kereszt%FCl%20tudsz%20t%E1mogatni%20minket%3A%3C/p%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20space-x-6%20justify-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ca%20href%3D%22https%3A//Revolut.Me/krisztwaeo%22%20target%3D%22_blank%22%20title%3D%22T%E1mogat%E1s%20Revoluton%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20class%3D%22p-2%20rounded-full%20bg-white%20hover%3Abg-gray-100%20transition%20shadow-lg%20flex%20items-center%20justify-center%20border%20border-gray-200%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20src%3D%22logo/revolut.png%22%20alt%3D%22Revolut%20Log%F3%22%20class%3D%22w-8%20h-8%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/a%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ca%20href%3D%22https%3A//paypal.me/mystigohu%22%20target%3D%22_blank%22%20title%3D%22T%E1mogat%E1s%20PayPalon%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20class%3D%22p-2%20rounded-full%20bg-white%20hover%3Abg-gray-100%20transition%20shadow-lg%20flex%20items-center%20justify-center%20border%20border-gray-200%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20src%3D%22logo/paypal.png%22%20alt%3D%22PayPal%20Log%F3%22%20class%3D%22w-8%20h-8%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/a%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ca%20id%3D%22game-review-btn%22%20%0A%20%20%20href%3D%22%23%22%20%0A%20%20%20target%3D%22_blank%22%20%0A%20%20%20class%3D%22hidden%20main-button%20w-full%20max-w-xs%20%21text-base%20hover%3A%21bg-cyan-600%20%21text-white%20%21font-extrabold%20mt-4%20mb-4%22%0A%20%20%20style%3D%22background-color%3A%20var%28--brand-cyan%29%20%21important%3B%22%0A%20%20%20title%3D%22%C9rt%E9keld%20a%20kalandot%22%3E%0A%20%20%20K%E9rlek%2C%20%C9RT%C9KELJ%20MINKET%21%20%u2B50%0A%3C/a%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22resetApp%28%29%22%20class%3D%22main-button%20w-full%20max-w-xs%20mt-auto%20%21text-base%22%3E%DAj%20Kaland%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mt-4%20p-2%20text-center%20text-xs%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ca%20href%3D%22https%3A//www.iubenda.com/privacy-policy/40995967%22%20class%3D%22iubenda-white%20iubenda-noiframe%20iubenda-embed%20iubenda-noiframe%20text-brand-blue/80%20hover%3Atext-brand-cyan-500%20transition%22%20title%3D%22Adatv%E9delmi%20Szab%E1lyzat%22%3EAdatv%E9delem%3C/a%3E%20%7C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ca%20href%3D%22https%3A//www.iubenda.com/privacy-policy/40995967/cookie-policy%22%20class%3D%22iubenda-white%20iubenda-noiframe%20iubenda-embed%20iubenda-noiframe%20text-brand-blue/80%20hover%3Atext-brand-cyan-500%20transition%22%20title%3D%22Cookie%20Szab%E1lyzat%22%3ECookie-k%3C/a%3E%20%7C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ca%20href%3D%22%23%22%20class%3D%22iubenda-cs-preferences-link%20text-brand-blue/80%20hover%3Atext-brand-cyan-500%20transition%20font-bold%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20S%FCti%20Be%E1ll%EDt%E1sok%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/a%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/section%3E%0A%0A%3Cdiv%20class%3D%22w-full%20mt-auto%20pt-6%20pb-6%20px-4%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ca%20href%3D%22https%3A//forms.gle/Kzt5CvVrCxec2bby9%22%20target%3D%22_blank%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20class%3D%22block%20w-full%20py-2%20rounded-xl%20border%20border-gray-200%20bg-gray-50%20text-%5B10px%5D%20uppercase%20tracking-widest%20font-bold%20text-center%20text-gray-400%20hover%3Abg-red-50%20hover%3Atext-red-600%20hover%3Aborder-red-200%20transition-all%20cursor-pointer%20no-underline%20shadow-sm%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%uD83D%uDCE2%20Visszajelz%E9s%20/%20Hiba%20bejelent%E9s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/a%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id%3D%22loading-overlay%22%20class%3D%22modal-overlay%20fixed%20inset-0%20bg-black/50%20hidden%20items-center%20justify-center%22%3E%3Cdiv%20class%3D%22w-16%20h-16%20border-4%20border-white/20%20border-t-white%20rounded-full%20animate-spin%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id%3D%22message-modal%22%20class%3D%22modal-overlay%20fixed%20inset-0%20bg-black/60%20hidden%20items-center%20justify-center%20p-4%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bg-white%20rounded-2xl%20p-6%20text-center%20max-w-sm%20w-full%20shadow-xl%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20id%3D%22message-title%22%20class%3D%22text-xl%20font-bold%20text-text-heading%20mb-2%22%3E%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22message-body%22%20class%3D%22text-text-dark%20mb-6%20whitespace-pre-wrap%22%3E%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22modal-button-container%22%20class%3D%22flex%20gap-4%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22modal-ok-button%22%20class%3D%22main-button%20flex-1%20%21text-base%22%3ERendben%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22modal-cancel-button%22%20class%3D%22main-button%20flex-1%20%21text-base%20%21bg-gray-400%20hover%3A%21bg-gray-500%20hidden%22%3EM%E9gse%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22report-error-modal%22%20class%3D%22modal-overlay%20fixed%20inset-0%20hidden%20items-center%20justify-center%20p-4%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22report-error-modal-content%22%20class%3D%22content-card%20p-5%20bg-red-50%20border-red-200%20border%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20class%3D%22text-xl%20font-bold%20text-red-600%20mb-2%22%3EFeladat%20%E1tugr%E1sa%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-sm%20text-gray-700%20mb-4%22%3EAmennyiben%20a%20helysz%EDn%20valami%20okb%F3l%20kifoly%F3lag%20nem%20el%E9rhet%u0151%2C%20%E1tugorhatod%20az%20adott%20feladatot.%20A%20feladat%20ebben%20az%20esetben%20*0%20ponttal*%20teljes%EDtettnek%20min%u0151s%FCl.%3C/p%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20justify-between%20gap-4%20mt-4%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22hideReportModal%28%29%22%20class%3D%22main-button%20flex-1%20%21text-sm%20%21bg-gray-400%20hover%3A%21bg-gray-500%22%3EM%E9gse%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22submit-error-report%22%20onclick%3D%22handleSubmitError%28%29%22%20class%3D%22main-button%20flex-1%20%21text-sm%20%21bg-red-600%20hover%3A%21bg-red-700%22%3EIgen%20szeretn%E9m%20%E1tugrani%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%0A%20%20%20%20%3Cdiv%20id%3D%22gps-help-modal%22%20class%3D%22modal-overlay%20fixed%20inset-0%20bg-black/60%20hidden%20items-center%20justify-center%20p-4%22%20style%3D%22z-index%3A%209999%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bg-white%20rounded-2xl%20p-6%20max-w-sm%20w-full%20shadow-xl%20max-h-%5B90vh%5D%20overflow-y-auto%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20justify-between%20items-start%20mb-4%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20class%3D%22text-lg%20font-bold%20text-red-600%20flex%20items-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-6%20h-6%20mr-2%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22currentColor%22%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M12%209v2m0%204h.01m-6.938%204h13.856c1.54%200%202.502-1.667%201.732-3L13.732%204c-.77-1.333-2.694-1.333-3.464%200L3.3%2016c-.77%201.333.192%203%201.732%203z%22%20/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20GPS%20Hiba%20/%20Be%E1ll%EDt%E1s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-sm%20text-gray-700%20mb-4%20font-semibold%22%3ENem%20siker%FClt%20lek%E9rni%20a%20pontos%20helyzeted.%20K%E9rlek%2C%20ellen%u0151rizd%20az%20al%E1bbiakat%3A%3C/p%3E%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mb-4%20bg-gray-50%20p-3%20rounded-lg%20border%20border-gray-200%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%20class%3D%22font-bold%20text-brand-blue%20mb-2%20flex%20items-center%20text-sm%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%uD83C%uDF4E%20iPhone%20%28iOS%29%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/h3%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cul%20class%3D%22list-disc%20pl-5%20text-xs%20text-gray-600%20space-y-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3EBe%E1ll%EDt%E1sok%20%3E%20%3Cstrong%3EAdatv%E9delem%20%E9s%20biztons%E1g%3C/strong%3E%3C/li%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3EHelymeghat%E1roz%E1s%20%3E%20%3Cstrong%3EBekapcsolva%3C/strong%3E%3C/li%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3EKeresd%20meg%20a%20list%E1ban%20a%20b%F6ng%E9sz%u0151t%20%28Safari/Chrome%29%3C/li%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3EV%E1laszd%3A%20%3Cstrong%3E%22Az%20alkalmaz%E1s%20haszn%E1lata%20k%F6zben%22%3C/strong%3E%3C/li%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3EKapcsold%20be%3A%20%3Cstrong%3E%22Pontos%20helyzet%22%3C/strong%3E%3C/li%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/ul%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mb-4%20bg-gray-50%20p-3%20rounded-lg%20border%20border-gray-200%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%20class%3D%22font-bold%20text-brand-blue%20mb-2%20flex%20items-center%20text-sm%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%uD83E%uDD16%20Android%20%28Samsung%2C%20Xiaomi%2C%20stb.%29%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/h3%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cul%20class%3D%22list-disc%20pl-5%20text-xs%20text-gray-600%20space-y-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3EH%FAzd%20le%20az%20%E9rtes%EDt%E9si%20s%E1vot%20%E9s%20kapcsold%20be%20a%20%3Cstrong%3EHelyzet%20/%20GPS%3C/strong%3E%20ikont.%3C/li%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3EHa%20ez%20megvan%3A%20Chrome%20be%E1ll%EDt%E1sok%20%3E%20Webhelybe%E1ll%EDt%E1sok%20%3E%20Tart%F3zkod%E1si%20hely.%20%22A%20webhelyek%20lek%E9rhetik%20az%20%D6n%20helyadatait%22%20legyen%20bekapcsolva.%20A%20%22Nincs%20enged%E9lyezve%22%20list%E1ban%20ne%20legyen%20ott%20a%20https%3A//mystigo.hu.%20Esetleg%20m%E9g%20itt%20is%20ellen%u0151rizd%3A%20Tartsd%20nyomva%20a%20Chrome%20ikont%20%3E%20App%20inf%F3%20%3E%20Enged%E9lyek%20%3E%20Hely%20%3E%20%3Cstrong%3EEnged%E9lyez%E9s%3C/strong%3E.%3C/li%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/ul%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22document.getElementById%28%27gps-help-modal%27%29.classList.add%28%27hidden%27%29%22%20class%3D%22main-button%20w-full%20%21text-sm%20%21py-3%22%3E%C9rtem%2C%20megpr%F3b%E1lom%20%FAjra%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%0A%0A%3Cdiv%20id%3D%22global-leaderboard-modal%22%20class%3D%22modal-overlay%20fixed%20inset-0%20bg-black/80%20hidden%20items-center%20justify-center%20p-4%22%20style%3D%22z-index%3A%209999%3B%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22bg-white%20rounded-2xl%20w-full%20max-w-4xl%20shadow-2xl%20flex%20flex-col%20h-%5B85vh%5D%22%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bg-purple-700%20p-4%20rounded-t-2xl%20flex%20justify-between%20items-center%20shrink-0%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%20class%3D%22text-lg%20font-bold%20text-white%20flex%20items-center%20gap-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%uD83C%uDF0E%20Glob%E1lis%20Admin%20Ranglista%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/h3%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22document.getElementById%28%27global-leaderboard-modal%27%29.classList.add%28%27hidden%27%29%22%20class%3D%22text-white/70%20hover%3Atext-white%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-6%20h-6%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22currentColor%22%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M6%2018L18%206M6%206l12%2012%22%20/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bg-gray-100%20p-4%20border-b-2%20border-gray-200%20flex%20flex-wrap%20gap-4%20items-center%20shrink-0%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22global-search-input%22%20onkeyup%3D%22filterGlobalLeaderboard%28%29%22%20placeholder%3D%22%uD83D%uDD0D%20Keres%E9s%20%28N%E9v%2C%20J%E1t%E9k%29...%22%20class%3D%22px-4%20py-2%20border%20border-gray-300%20rounded-lg%20text-xs%20w-full%20max-w-xs%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-purple-500%20shadow-sm%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cselect%20id%3D%22global-game-filter%22%20onchange%3D%22filterGlobalLeaderboard%28%29%22%20class%3D%22px-4%20py-2%20border%20border-gray-300%20rounded-lg%20text-xs%20w-full%20max-w-xs%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-purple-500%20shadow-sm%20cursor-pointer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22all%22%3E%uD83D%uDCC2%20%D6sszes%20J%E1t%E9k%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/select%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22overflow-y-auto%20flex-grow%20bg-white%20p-0%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ctable%20class%3D%22min-w-full%20text-xs%20text-left%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cthead%20class%3D%22bg-gray-50%20text-gray-500%20font-bold%20sticky%20top-0%20shadow-sm%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20class%3D%22p-3%20border-b%22%3ED%E1tum%3C/th%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20class%3D%22p-3%20border-b%22%3EJ%E1t%E9k%20Neve%20%28ID%29%3C/th%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20class%3D%22p-3%20border-b%22%3EN%E9v%3C/th%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20class%3D%22p-3%20border-b%20text-right%22%3EPont%3C/th%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20class%3D%22p-3%20border-b%20text-right%22%3EId%u0151%3C/th%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/thead%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctbody%20id%3D%22global-leaderboard-body%22%20class%3D%22divide-y%20divide-gray-100%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/tbody%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/table%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-3%20border-t%20border-gray-200%20bg-gray-50%20rounded-b-2xl%20shrink-0%20flex%20justify-between%20items-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22global-count-display%22%20class%3D%22text-xs%20text-gray-500%20font-bold%22%3E0%20eredm%E9ny%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22document.getElementById%28%27global-leaderboard-modal%27%29.classList.add%28%27hidden%27%29%22%20class%3D%22px-4%20py-2%20bg-gray-500%20text-white%20text-xs%20font-bold%20rounded%20hover%3Abg-gray-600%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Bez%E1r%E1s%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%3C/div%3E%0A%0A%0A%0A%3Cdiv%20id%3D%22leaderboard-modal%22%20class%3D%22modal-overlay%20fixed%20inset-0%20bg-black/60%20hidden%20items-center%20justify-center%20p-4%22%20style%3D%22z-index%3A%203000%3B%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22bg-white%20rounded-2xl%20p-0%20w-full%20max-w-md%20shadow-2xl%20overflow-hidden%20flex%20flex-col%20max-h-%5B80vh%5D%22%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22leaderboard-header%22%20class%3D%22bg-white%20p-4%20flex%20justify-between%20items-center%20shrink-0%20border-b%20border-gray-200%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%20class%3D%22text-xl%20font-bold%20text-brand-blue%20flex%20items-center%20gap-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%uD83C%uDFC6%3C/span%3E%20Ranglista%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/h3%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22document.getElementById%28%27leaderboard-modal%27%29.classList.add%28%27hidden%27%29%22%20class%3D%22text-gray-400%20hover%3Atext-brand-blue%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-6%20h-6%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22currentColor%22%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M6%2018L18%206M6%206l12%2012%22%20/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22overflow-y-auto%20p-4%20flex-grow%20bg-gray-50%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ctable%20class%3D%22min-w-full%20text-xs%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cthead%20class%3D%22bg-gray-100%20border-b%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20class%3D%22px-2%20py-2%20text-left%20text-gray-500%22%3E%23%3C/th%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20class%3D%22px-2%20py-2%20text-left%20text-gray-500%22%3EN%E9v%3C/th%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20class%3D%22px-2%20py-2%20text-center%20text-gray-500%22%3EPont%3C/th%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20class%3D%22px-2%20py-2%20text-right%20text-gray-500%22%3EId%u0151%3C/th%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/thead%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctbody%20id%3D%22leaderboard-modal-body%22%20class%3D%22divide-y%20divide-gray-200%20bg-white%22%3E%3C/tbody%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/table%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-4%20border-t%20border-gray-100%20shrink-0%20bg-white%20flex%20gap-3%22%3E%0A%20%20%20%20%3Cbutton%20onclick%3D%22downloadLeaderboardPDF%28%29%22%20class%3D%22main-button%20flex-1%20%21text-sm%20%21py-2%20%21bg-green-600%20hover%3A%21bg-green-700%20flex%20items-center%20justify-center%20gap-2%22%3E%0A%20%20%20%20%20%20%20%20%3Cspan%3E%uD83D%uDCBE%3C/span%3E%20Ment%E9s%0A%20%20%20%20%3C/button%3E%0A%20%20%20%20%0A%20%20%20%20%3Cbutton%20onclick%3D%22document.getElementById%28%27leaderboard-modal%27%29.classList.add%28%27hidden%27%29%22%20class%3D%22main-button%20flex-1%20%21text-sm%20%21py-2%20%21bg-gray-500%20hover%3A%21bg-gray-600%22%3E%0A%20%20%20%20%20%20%20%20Bez%E1r%E1s%0A%20%20%20%20%3C/button%3E%0A%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%3C/div%3E%0A%0A%0A%3Cdiv%20id%3D%22storage-manager-modal%22%20class%3D%22modal-overlay%20fixed%20inset-0%20bg-black/80%20hidden%20items-center%20justify-center%20p-4%22%20style%3D%22z-index%3A%209999%3B%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22bg-white%20rounded-2xl%20w-full%20max-w-lg%20shadow-2xl%20flex%20flex-col%20max-h-%5B85vh%5D%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bg-gray-800%20p-4%20rounded-t-2xl%20flex%20justify-between%20items-center%20shrink-0%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%20class%3D%22text-lg%20font-bold%20text-white%20flex%20items-center%20gap-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%uD83D%uDCBE%20Mem%F3ria%20Kezel%u0151%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/h3%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22document.getElementById%28%27storage-manager-modal%27%29.classList.add%28%27hidden%27%29%22%20class%3D%22text-gray-400%20hover%3Atext-white%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-6%20h-6%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22currentColor%22%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M6%2018L18%206M6%206l12%2012%22%20/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22overflow-y-auto%20p-2%20flex-grow%20bg-gray-50%22%20id%3D%22storage-list-container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-4%20border-t%20border-gray-200%20bg-white%20rounded-b-2xl%20shrink-0%20flex%20justify-between%20items-center%20gap-3%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22storage-count-display%22%20class%3D%22text-xs%20text-gray-500%20font-bold%22%3E%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20gap-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22nukeAllStorage%28%29%22%20class%3D%22px-3%20py-2%20bg-red-600%20text-white%20text-xs%20font-bold%20rounded%20hover%3Abg-red-700%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%uD83D%uDD25%20MINDENT%20T%D6R%D6L%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22document.getElementById%28%27storage-manager-modal%27%29.classList.add%28%27hidden%27%29%22%20class%3D%22px-4%20py-2%20bg-gray-200%20text-gray-700%20text-xs%20font-bold%20rounded%20hover%3Abg-gray-300%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Bez%E1r%E1s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%3C/div%3E%0A%0A%0A%0A%3Cdiv%20id%3D%22game-map-modal%22%20class%3D%22modal-overlay%20fixed%20inset-0%20bg-black/80%20hidden%20items-center%20justify-center%20p-4%22%20style%3D%22z-index%3A%209999%3B%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22bg-white%20rounded-2xl%20w-full%20max-w-2xl%20shadow-2xl%20flex%20flex-col%20h-%5B80vh%5D%22%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bg-%5B%230D2B45%5D%20p-4%20rounded-t-2xl%20flex%20justify-between%20items-center%20shrink-0%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%20class%3D%22text-lg%20font-bold%20text-white%20flex%20items-center%20gap-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%uD83D%uDDFA%uFE0F%20Kaland%20T%E9rk%E9p%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/h3%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22closeGameMap%28%29%22%20class%3D%22text-white/70%20hover%3Atext-white%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-6%20h-6%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22currentColor%22%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M6%2018L18%206M6%206l12%2012%22%20/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%0A%3Cdiv%20class%3D%22bg-gray-50%20border-b%20border-gray-200%20py-2%20px-4%20flex%20flex-wrap%20justify-center%20gap-4%20text-xs%20font-bold%20select-none%20shrink-0%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%22flex%20items-center%20gap-1.5%20cursor-pointer%20hover%3Abg-gray-200%20px-2%20py-1%20rounded%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20id%3D%22chk-map-normal%22%20checked%20onchange%3D%22updateMapMarkers%28%29%22%20class%3D%22accent-green-600%20w-4%20h-4%22%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22text-green-700%22%3E%uD83E%uDDED%20Normal%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%22flex%20items-center%20gap-1.5%20cursor-pointer%20hover%3Abg-gray-200%20px-2%20py-1%20rounded%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20id%3D%22chk-map-kids%22%20checked%20onchange%3D%22updateMapMarkers%28%29%22%20class%3D%22accent-orange-500%20w-4%20h-4%22%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22text-orange-600%22%3E%uD83D%uDC08%20Kids%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%22flex%20items-center%20gap-1.5%20cursor-pointer%20hover%3Abg-gray-200%20px-2%20py-1%20rounded%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20id%3D%22chk-map-team%22%20checked%20onchange%3D%22updateMapMarkers%28%29%22%20class%3D%22accent-indigo-600%20w-4%20h-4%22%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22text-indigo-700%22%3E%uD83E%uDDD1%u200D%uD83E%uDD1D%u200D%uD83E%uDDD1%20Team%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%22flex%20items-center%20gap-1.5%20cursor-pointer%20hover%3Abg-gray-200%20px-2%20py-1%20rounded%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20id%3D%22chk-map-explore%22%20checked%20onchange%3D%22updateMapMarkers%28%29%22%20class%3D%22accent-cyan-600%20w-4%20h-4%22%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22text-cyan-700%22%3E%uD83C%uDF0D%20Explore%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22relative%20flex-grow%20w-full%20bg-gray-100%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22game-selection-map%22%20class%3D%22w-full%20h-full%20z-10%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22absolute%20bottom-4%20left-1/2%20transform%20-translate-x-1/2%20bg-white/90%20backdrop-blur%20px-4%20py-2%20rounded-full%20shadow-lg%20border%20border-brand-blue%20z-%5B1000%5D%20text-xs%20font-bold%20text-brand-blue%20whitespace-nowrap%20pointer-events-none%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Kattints%20egy%20ikonra%20a%20j%E1t%E9k%20ind%EDt%E1s%E1hoz%21%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-3%20border-t%20border-gray-200%20bg-white%20rounded-b-2xl%20shrink-0%20flex%20justify-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22closeGameMap%28%29%22%20class%3D%22main-button%20%21py-2%20%21text-sm%20%21bg-gray-500%20hover%3A%21bg-gray-600%20w-full%20max-w-xs%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Bez%E1r%E1s%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%3C/div%3E%0A%0A%0A%0A%0A%3Cscript%20type%3D%22module%22%3E%0A%20%20import%20%7B%20initializeApp%20%7D%20from%20%22https%3A//www.gstatic.com/firebasejs/10.7.1/firebase-app.js%22%3B%0A%20%20import%20%7B%20getDatabase%2C%20ref%2C%20runTransaction%2C%20push%2C%20query%2C%20orderByChild%2C%20limitToLast%2C%20get%20%7D%20from%20%22https%3A//www.gstatic.com/firebasejs/10.7.1/firebase-database.js%22%3B%0A%0A%20%20//%20---%20%21%21%21%20M%C1SOLD%20VISSZA%20A%20SAJ%C1T%20KULCSAIDAT%20A%20F%C1JLB%D3L%20%21%21%21%20---%0A%20%20const%20firebaseConfig%20%3D%20%7B%0A%20%20%20%20apiKey%3A%20%22AIzaSyCA7V1WXFCVhmw2BygHkrwhrSy1Taoohyw%22%2C%0A%20%20%20%20authDomain%3A%20%22mystigo-7b149.firebaseapp.com%22%2C%0A%20%20%20%20databaseURL%3A%20%22https%3A//mystigo-7b149-default-rtdb.europe-west1.firebasedatabase.app%22%2C%0A%20%20%20%20projectId%3A%20%22mystigo-7b149%22%2C%0A%20%20%20%20storageBucket%3A%20%22mystigo-7b149.firebasestorage.app%22%2C%0A%20%20%20%20messagingSenderId%3A%20%22616896082200%22%2C%0A%20%20%20%20appId%3A%20%221%3A616896082200%3Aweb%3Ab13c243df8eaac6d542e6d%22%2C%0A%20%20%20%20measurementId%3A%20%22G-PFDMYCJ9J1%22%0A%20%20%7D%3B%0A%0A%20%20const%20app%20%3D%20initializeApp%28firebaseConfig%29%3B%0A%20%20const%20db%20%3D%20getDatabase%28app%29%3B%0A%0A%20//%201.%20LIMIT%20ELLEN%u0150RZ%C9S%20%C9S%20N%D6VEL%C9S%20%28SZIGOR%DA%20M%D3D%29%0A%20%20window.checkGameLimitAndIncrement%20%3D%20async%20function%28gameId%2C%20maxPlayers%29%20%7B%0A%20%20%20%20%20%20if%28%21gameId%29%20return%20true%3B%20%0A%0A%20%20%20%20%20%20const%20limit%20%3D%20parseInt%28maxPlayers%2C%2010%29%3B%0A%20%20%20%20%20%20if%20%28isNaN%28limit%29%20%7C%7C%20limit%20%3C%3D%200%29%20return%20true%3B%20%0A%0A%20%20%20%20%20%20console.log%28%60Limit%20ellen%u0151rz%E9se%3A%20%24%7BgameId%7D%2C%20Max%3A%20%24%7Blimit%7D%60%29%3B%0A%20%20%20%20%20%20const%20gameRef%20%3D%20ref%28db%2C%20%27games/%27%20+%20gameId%20+%20%27/count%27%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20result%20%3D%20await%20runTransaction%28gameRef%2C%20%28currentCount%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20count%20%3D%20%28currentCount%20%7C%7C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20betelt%2C%20MEGSZAK%CDTJUK%20%28undefined%20return%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28count%20%3E%3D%20limit%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20undefined%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20count%20+%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20if%20%28result.committed%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%60Sikeres%20bel%E9p%E9s.%20%DAj%20l%E9tsz%E1m%3A%20%24%7Bresult.snapshot.val%28%29%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.warn%28%60Limit%20elutas%EDtva%3A%20Betelt%20%28%24%7Blimit%7D%20f%u0151%29.%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20console.error%28%22KRITIKUS%20Limit%20hiba%3A%22%2C%20error%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20//%20JAV%CDT%C1S%3A%20Szigor%FA%20m%F3d%21%20Ha%20hiba%20van%2C%20NEM%20engedj%FCk%20be%2C%20mert%20lehet%2C%20hogy%20betelt.%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%20%0A%20%20%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%0A//%20%DAJ%3A%20Csak%20a%20l%E9tsz%E1m%20lek%E9r%E9se%20%28megjelen%EDt%E9shez%29%0A%20%20window.getGameCurrentCount%20%3D%20async%20function%28gameId%29%20%7B%0A%20%20%20%20%20%20if%28%21gameId%29%20return%200%3B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20snapshot%20%3D%20await%20get%28ref%28db%2C%20%27games/%27%20+%20gameId%20+%20%27/count%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20return%20parseInt%28snapshot.val%28%29%20%7C%7C%200%2C%2010%29%3B%0A%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.error%28%22L%E9tsz%E1m%20lek%E9r%E9si%20hiba%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20return%200%3B%20//%20Hiba%20eset%E9n%200-t%20mutatunk%0A%20%20%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%0A//%20%DAJ%20F%DCGGV%C9NY%3A%20Csak%20ellen%u0151rz%E9s%20%28nem%20n%F6veli%20a%20sz%E1ml%E1l%F3t%29%0Awindow.checkGameLimitOnly%20%3D%20async%20function%28gameId%2C%20maxPlayers%29%20%7B%0A%20%20%20%20%20%20if%28%21gameId%29%20return%20true%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20//%20Lek%E9rj%FCk%20az%20aktu%E1lis%20l%E9tsz%E1mot%0A%20%20%20%20%20%20%20%20%20%20const%20snapshot%20%3D%20await%20get%28ref%28db%2C%20%27games/%27%20+%20gameId%20+%20%27/count%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20//%20Biztos%EDtjuk%2C%20hogy%20sz%E1m%20legyen%0A%20%20%20%20%20%20%20%20%20%20const%20currentCount%20%3D%20parseInt%28snapshot.val%28%29%20%7C%7C%200%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20const%20limit%20%3D%20parseInt%28maxPlayers%2C%2010%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20console.log%28%60Limit%20el%u0151-ellen%u0151rz%E9s%20%28%24%7BgameId%7D%29%3A%20Jelenleg%20%24%7BcurrentCount%7D%20/%20Limit%20%24%7Blimit%7D%60%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20//%20Ha%20a%20l%E9tsz%E1m%20m%E1r%20el%E9rte%20vagy%20meghaladta%20a%20limitet%2C%20NEM%20engedj%FCk%20be%0A%20%20%20%20%20%20%20%20%20%20if%20%28currentCount%20%3E%3D%20limit%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.warn%28%22Limit%20el%u0151-ellen%u0151rz%E9s%3A%20BETELT%21%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%20//%20FALSE%20%3D%20Nem%20mehet%20tov%E1bb%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%20//%20Van%20m%E9g%20hely%0A%0A%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.error%28%22Limit%20ellen%u0151rz%E9si%20hiba%20%28H%E1l%F3zat%29%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20//%20Hiba%20eset%E9n%20SOHA%20nem%20engedj%FCk%20be%2C%20k%FCl%F6nben%20kij%E1tszhat%F3%20lenne%20a%20limit%20offline%20m%F3dban%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%20%0A%20%20%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20//%202.%20MENT%C9S%20%28Biztons%E1gos%20verzi%F3%20-%20valid%E1l%E1ssal%29%0A%20%20window.saveScoreToFirebase%20%3D%20function%28data%29%20%7B%0A%20%20%20%20%20%20if%20%28%21data.gameId%29%20return%3B%0A%0A%20%20%20%20%20%20//%20---%20D%E1tum%20form%E1z%E1sa%20---%0A%20%20%20%20%20%20const%20now%20%3D%20new%20Date%28%29%3B%0A%20%20%20%20%20%20const%20readableDate%20%3D%20%60%24%7Bnow.getFullYear%28%29%7D.%24%7BString%28now.getMonth%28%29%20+%201%29.padStart%282%2C%20%270%27%29%7D.%24%7BString%28now.getDate%28%29%29.padStart%282%2C%20%270%27%29%7D%20%24%7BString%28now.getHours%28%29%29.padStart%282%2C%20%270%27%29%7D%3A%24%7BString%28now.getMinutes%28%29%29.padStart%282%2C%20%270%27%29%7D%60%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20//%20---%20BIZTONS%C1GI%20ADATEL%u0150K%C9SZ%CDT%C9S%20%28A%20RULES%20MIATT%29%20---%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20//%201.%20N%E9v%20ellen%u0151rz%E9se%20%28Max%2030%20karakter%2C%20String%2C%20Nem%20%FCres%29%0A%20%20%20%20%20%20let%20safeTeamName%20%3D%20String%28data.teamName%20%7C%7C%20%22N%E9vtelen%22%29.trim%28%29%3B%0A%20%20%20%20%20%20//%20Ha%20%FCres%20lett%20a%20trim%20ut%E1n%2C%20adunk%20neki%20alap%E9rtelmezett%20nevet%0A%20%20%20%20%20%20if%20%28safeTeamName.length%20%3D%3D%3D%200%29%20safeTeamName%20%3D%20%22N%E9vtelen%20J%E1t%E9kos%22%3B%0A%20%20%20%20%20%20//%20Lev%E1gjuk%2030%20karakterre%2C%20hogy%20a%20Firebase%20ne%20dobja%20vissza%0A%20%20%20%20%20%20if%20%28safeTeamName.length%20%3E%2030%29%20safeTeamName%20%3D%20safeTeamName.substring%280%2C%2030%29%3B%0A%0A%20%20%20%20%20%20//%202.%20Pontsz%E1m%20ellen%u0151rz%E9se%20%28Biztosan%20sz%E1m%20legyen%29%0A%20%20%20%20%20%20let%20safeScore%20%3D%20Number%28data.score%29%3B%0A%20%20%20%20%20%20if%20%28isNaN%28safeScore%29%29%20safeScore%20%3D%200%3B%0A%0A%20%20%20%20%20%20//%20-----------------------%0A%0A%20%20%20%20%20%20const%20leaderboardRef%20%3D%20ref%28db%2C%20%27leaderboard/%27%20+%20data.gameId%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20//%20A%20push%28%29%20gener%E1l%20egy%20egyedi%20ID-t%2C%20a%20szab%E1lyrendszer%20engedi%2C%20mert%20%21data.exists%28%29%0A%20%20%20%20%20%20push%28leaderboardRef%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20teamName%3A%20safeTeamName%2C%20%20%20//%20Valid%E1lt%20n%E9v%0A%20%20%20%20%20%20%20%20%20%20teamAvatar%3A%20data.teamAvatar%20%7C%7C%20%22no%20avatar%22%2C%0A%20%20%20%20%20%20%20%20%20%20score%3A%20safeScore%2C%20%20%20%20%20%20%20%20%20//%20Valid%E1lt%20sz%E1m%0A%20%20%20%20%20%20%20%20%20%20totalTime%3A%20data.totalTime%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20geofenceTime%3A%20data.geofenceTime%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20timestamp%3A%20Date.now%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20dateString%3A%20readableDate%20%0A%20%20%20%20%20%20%7D%29.then%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.log%28%22Sikeres%20ment%E9s%21%22%29%3B%0A%20%20%20%20%20%20%7D%29.catch%28%28error%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.error%28%22Ment%E9s%20elutas%EDtva%20a%20Firebase%20%E1ltal%20%28Jogosults%E1gi%20hiba%29%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20//%20Itt%20esetleg%20jelezhetsz%20a%20felhaszn%E1l%F3nak%2C%20ha%20akarsz%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%7D%3B%0A%0A%20//%20---%20%DAJ%20FEJLETT%20RANGLISTA%20LOGIKA%0A%0A//%20Glob%E1lis%20v%E1ltoz%F3%20az%20adatok%20t%E1rol%E1s%E1ra%0A%20%20window.currentLeaderboardData%20%3D%20%5B%5D%3B%0A%0A%20%20//%201.%20MODAL%20MEGNYIT%C1SA%20%C9S%20UI%20EL%u0150K%C9SZ%CDT%C9SE%20%28JAV%CDTVA%3A%20M%E9g%20sz%u0171kebb%20oszlopok%20%E9s%20paddingok%29%0A%20%20window.openLeaderboardModal%20%3D%20async%20function%28specificGameId%20%3D%20null%29%20%7B%0A%20%20%20%20%20%20const%20gameId%20%3D%20specificGameId%20%7C%7C%20window.currentGameId%3B%0A%0A%20%20%20%20%20%20if%20%28%21gameId%29%20%7B%0A%20%20%20%20%20%20%20%20alert%28%22Nincs%20akt%EDv%20j%E1t%E9k%20azonos%EDt%F3.%20El%u0151bb%20v%E1lassz%20egy%20j%E1t%E9kot%21%22%29%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%20%20const%20modal%20%3D%20document.getElementById%28%27leaderboard-modal%27%29%3B%0A%20%20%20%20%20%20const%20listBody%20%3D%20document.getElementById%28%27leaderboard-modal-body%27%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20modalHeader%20%3D%20document.getElementById%28%27leaderboard-header%27%29%3B%20%0A%20%20%20%20%20%20let%20filterContainer%20%3D%20document.getElementById%28%27leaderboard-filters%27%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20if%20%28%21filterContainer%20%26%26%20modalHeader%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20filterContainer%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20filterContainer.id%20%3D%20%27leaderboard-filters%27%3B%0A%20%20%20%20%20%20%20%20%20%20filterContainer.className%20%3D%20%22bg-white%20border-b%20border-gray-200%20p-3%20space-y-3%22%3B%0A%20%20%20%20%20%20%20%20%20%20filterContainer.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20rounded-lg%20bg-gray-100%20p-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22filterLeaderboard%28%27today%27%29%22%20id%3D%22btn-filter-today%22%20class%3D%22flex-1%20py-1.5%20text-xs%20font-bold%20rounded-md%20transition-all%20bg-white%20text-brand-blue%20shadow-sm%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%uD83D%uDCC5%20Mai%20nap%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22filterLeaderboard%28%27all%27%29%22%20id%3D%22btn-filter-all%22%20class%3D%22flex-1%20py-1.5%20text-xs%20font-bold%20rounded-md%20transition-all%20text-gray-500%20hover%3Atext-brand-blue%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%uD83C%uDFC6%20%D6sszes%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22relative%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22leaderboard-search%22%20onkeyup%3D%22filterLeaderboard%28%29%22%20placeholder%3D%22%uD83D%uDD0D%20N%E9v%20keres%E9se...%22%20class%3D%22w-full%20pl-8%20pr-3%20py-2%20bg-gray-50%20border%20border-gray-200%20rounded-lg%20text-xs%20focus%3Aring-2%20focus%3Aring-brand-blue%20outline-none%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-4%20h-4%20text-gray-400%20absolute%20left-2.5%20top-2%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22currentColor%22%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M21%2021l-6-6m2-5a7%207%200%2011-14%200%207%207%200%200114%200z%22%20/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%20%20modalHeader.insertAdjacentElement%28%27afterend%27%2C%20filterContainer%29%3B%0A%20%20%20%20%20%20%7D%0A%0A//%20---%20RANGLISTA%20PDF%20MENT%C9SE%20---%0A%20%20window.downloadLeaderboardPDF%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20//%201.%20Az%20elemek%20kiv%E1laszt%E1sa%0A%20%20%20%20%20%20const%20listBody%20%3D%20document.getElementById%28%27leaderboard-modal-body%27%29%3B%0A%20%20%20%20%20%20if%20%28%21listBody%20%7C%7C%20listBody.rows.length%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20alert%28%22Nincs%20mit%20menteni%2C%20a%20lista%20%FCres.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20//%20Visszajelz%E9s%20a%20gombon%20%28opcion%E1lis%20UX%29%0A%20%20%20%20%20%20const%20btn%20%3D%20event.currentTarget%3B%0A%20%20%20%20%20%20const%20originalText%20%3D%20btn.innerHTML%3B%0A%20%20%20%20%20%20btn.innerHTML%20%3D%20%27%u23F3%20Gener%E1l%E1s...%27%3B%0A%20%20%20%20%20%20btn.disabled%20%3D%20true%3B%0A%0A%20%20%20%20%20%20//%202.%20Ideiglenes%20kont%E9ner%20l%E9trehoz%E1sa%20a%20PDF%20gener%E1l%E1shoz%0A%20%20%20%20%20%20//%20Ez%20az%E9rt%20kell%2C%20hogy%20%22kivegy%FCk%22%20a%20t%E1bl%E1zatot%20a%20g%F6rgethet%u0151%20%28scroll%29%20ablakb%F3l%2C%0A%20%20%20%20%20%20//%20%EDgy%20a%20PDF-ben%20a%20teljes%20lista%20l%E1tszani%20fog%2C%20nem%20csak%20ami%20%E9pp%20a%20k%E9perny%u0151n%20van.%0A%20%20%20%20%20%20const%20wrapper%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20wrapper.style.padding%20%3D%20%2720px%27%3B%0A%20%20%20%20%20%20wrapper.style.fontFamily%20%3D%20%27sans-serif%27%3B%0A%20%20%20%20%20%20wrapper.style.background%20%3D%20%27white%27%3B%0A%20%20%20%20%20%20wrapper.style.color%20%3D%20%27%230D2B45%27%3B%0A%0A%20%20%20%20%20%20//%20C%EDm%20%E9s%20d%E1tum%0A%20%20%20%20%20%20const%20dateStr%20%3D%20new%20Date%28%29.toLocaleDateString%28%27hu-HU%27%2C%20%7B%20year%3A%20%27numeric%27%2C%20month%3A%20%27long%27%2C%20day%3A%20%27numeric%27%2C%20hour%3A%20%272-digit%27%2C%20minute%3A%272-digit%27%20%7D%29%3B%0A%20%20%20%20%20%20const%20activeGameId%20%3D%20window.currentGameId%20%7C%7C%20%22Ismeretlen%22%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20wrapper.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22text-align%3A%20center%3B%20margin-bottom%3A%2020px%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch1%20style%3D%22margin%3A%200%3B%20font-size%3A%2024px%3B%20color%3A%20%230D2B45%3B%22%3E%uD83C%uDFC6%20MystiGo%20Ranglista%3C/h1%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20style%3D%22margin%3A%205px%200%200%200%3B%20color%3A%20%23666%3B%20font-size%3A%2012px%3B%22%3EKaland%3A%20%3Cstrong%3E%24%7BactiveGameId%7D%3C/strong%3E%20%7C%20D%E1tum%3A%20%24%7BdateStr%7D%3C/p%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%60%3B%0A%0A%20%20%20%20%20%20//%20T%E1bl%E1zat%20kl%F3noz%E1sa%0A%20%20%20%20%20%20const%20originalTable%20%3D%20document.querySelector%28%27%23leaderboard-modal%20table%27%29%3B%0A%20%20%20%20%20%20const%20clonedTable%20%3D%20originalTable.cloneNode%28true%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20//%20St%EDlus%20igaz%EDt%E1s%20a%20PDF-hez%20%28hogy%20biztosan%20sz%E9p%20legyen%20feh%E9r%20h%E1tt%E9rrel%29%0A%20%20%20%20%20%20clonedTable.style.width%20%3D%20%27100%25%27%3B%0A%20%20%20%20%20%20clonedTable.style.borderCollapse%20%3D%20%27collapse%27%3B%0A%20%20%20%20%20%20clonedTable.style.fontSize%20%3D%20%2712px%27%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20//%20Fejl%E9c%20sz%EDnez%E9se%20a%20kl%F3nban%0A%20%20%20%20%20%20const%20thead%20%3D%20clonedTable.querySelector%28%27thead%27%29%3B%0A%20%20%20%20%20%20if%28thead%29%20thead.style.backgroundColor%20%3D%20%27%23f3f4f6%27%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20wrapper.appendChild%28clonedTable%29%3B%0A%0A%20%20%20%20%20%20//%203.%20PDF%20Gener%E1l%E1s%0A%20%20%20%20%20%20const%20opt%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20margin%3A%20%20%20%20%20%20%2010%2C%0A%20%20%20%20%20%20%20%20%20%20filename%3A%20%20%20%20%20%60MystiGo_Ranglista_%24%7BactiveGameId%7D_%24%7Bnew%20Date%28%29.toISOString%28%29.slice%280%2C10%29%7D.pdf%60%2C%0A%20%20%20%20%20%20%20%20%20%20image%3A%20%20%20%20%20%20%20%20%7B%20type%3A%20%27jpeg%27%2C%20quality%3A%200.98%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20html2canvas%3A%20%20%7B%20scale%3A%202%2C%20useCORS%3A%20true%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20jsPDF%3A%20%20%20%20%20%20%20%20%7B%20unit%3A%20%27mm%27%2C%20format%3A%20%27a4%27%2C%20orientation%3A%20%27portrait%27%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20html2pdf%28%29.from%28wrapper%29.set%28opt%29.save%28%29.then%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20//%20Vissza%E1ll%EDt%E1s%0A%20%20%20%20%20%20%20%20%20%20btn.innerHTML%20%3D%20originalText%3B%0A%20%20%20%20%20%20%20%20%20%20btn.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%29.catch%28err%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.error%28err%29%3B%0A%20%20%20%20%20%20%20%20%20%20alert%28%22Hiba%20t%F6rt%E9nt%20a%20ment%E9s%20k%F6zben.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20btn.innerHTML%20%3D%20originalText%3B%0A%20%20%20%20%20%20%20%20%20%20btn.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%7D%3B%0A%0A%0A%20%20%20%20%20%20//%20---%20T%C1BL%C1ZAT%20FEJL%C9C%20SZ%u0170K%CDT%C9SE%20---%0A%20%20%20%20%20%20const%20tableHead%20%3D%20modal.querySelector%28%27thead%27%29%3B%0A%20%20%20%20%20%20if%20%28tableHead%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20tableHead.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20class%3D%22px-1%20py-2%20text-center%20text-gray-500%20w-6%22%3E%23%3C/th%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20class%3D%22px-1%20py-2%20text-left%20text-gray-500%22%3EN%E9v%3C/th%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20class%3D%22pl-1%20pr-0%20py-2%20text-right%20text-gray-500%20w-10%22%3EPont%3C/th%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%20class%3D%22pl-1%20pr-1%20py-2%20text-right%20text-gray-500%20w-24%22%3EId%u0151%3C/th%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%0A%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20modal.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20listBody.innerHTML%20%3D%20%27%3Ctr%3E%3Ctd%20colspan%3D%224%22%20class%3D%22text-center%20py-8%22%3E%3Cdiv%20class%3D%22animate-spin%20h-6%20w-6%20border-2%20border-brand-blue%20border-t-transparent%20rounded-full%20mx-auto%20mb-2%22%3E%3C/div%3EBet%F6lt%E9s...%3C/td%3E%3C/tr%3E%27%3B%0A%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20q%20%3D%20query%28ref%28db%2C%20%27leaderboard/%27%20+%20gameId%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20const%20snapshot%20%3D%20await%20get%28q%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21snapshot.exists%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20listBody.innerHTML%20%3D%20%27%3Ctr%3E%3Ctd%20colspan%3D%224%22%20class%3D%22text-center%20py-8%20text-gray-500%22%3EM%E9g%20nincs%20eredm%E9ny%20ehhez%20a%20j%E1t%E9khoz.%3C/td%3E%3C/tr%3E%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20window.currentLeaderboardData%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20let%20results%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20snapshot.forEach%28%28child%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20val%20%3D%20child.val%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28val.score%20%3D%3D%3D%20undefined%20%7C%7C%20val.score%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20val.score%20%3D%200%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20val.teamName%20%3D%20%28val.teamName%20%7C%7C%20%22Hib%E1s%20adat%22%29%20+%20%22%20%28Nincs%20pont%29%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20results.push%28val%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20window.currentLeaderboardData%20%3D%20results%3B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20Kirajzoljuk%20a%20list%E1t%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20filterLeaderboard%28%27today%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20%DAJ%3A%20Odag%F6rget%FCnk%20a%20saj%E1t%20sorhoz%20%28kis%20k%E9sleltet%E9ssel%2C%20hogy%20biztosan%20ott%20legyen%20m%E1r%20a%20DOM-ban%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20myRow%20%3D%20document.getElementById%28%27my-leaderboard-row%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28myRow%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20myRow.scrollIntoView%28%7B%20behavior%3A%20%22smooth%22%2C%20block%3A%20%22center%22%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20100%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%2050%29%3B%0A%0A%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.error%28%22Hiba%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20listBody.innerHTML%20%3D%20%60%3Ctr%3E%3Ctd%20colspan%3D%224%22%20class%3D%22text-center%20py-4%20text-red-500%22%3EHiba%20t%F6rt%E9nt%3A%20%24%7Berror.message%7D%3C/td%3E%3C/tr%3E%60%3B%0A%20%20%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%0A%20%20//%202.%20SZ%u0170R%u0150%20LOGIKA%20%28JAV%CDTOTT%20SORREND%3A%20Sz%u0171r%E9s%20-%3E%20Rendez%E9s%20-%3E%20Rangsorol%E1s%20-%3E%20Keres%E9s%29%0A%20%20window.filterLeaderboard%20%3D%20function%28modeParam%29%20%7B%0A%20%20%20%20%20%20let%20mode%20%3D%20modeParam%3B%0A%20%20%20%20%20%20const%20btnToday%20%3D%20document.getElementById%28%27btn-filter-today%27%29%3B%0A%20%20%20%20%20%20const%20btnAll%20%3D%20document.getElementById%28%27btn-filter-all%27%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20//%20Ha%20nincs%20param%E9ter%2C%20megn%E9zz%FCk%20melyik%20gomb%20akt%EDv%0A%20%20%20%20%20%20if%20%28%21mode%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%28%21btnToday%29%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20mode%20%3D%20btnToday.classList.contains%28%27bg-white%27%29%20%3F%20%27today%27%20%3A%20%27all%27%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20//%20Gombok%20st%EDlus%E1nak%20friss%EDt%E9se%0A%20%20%20%20%20%20if%20%28mode%20%3D%3D%3D%20%27today%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20btnToday.className%20%3D%20%22flex-1%20py-1.5%20text-xs%20font-bold%20rounded-md%20transition-all%20bg-white%20text-brand-blue%20shadow-sm%22%3B%0A%20%20%20%20%20%20%20%20%20%20btnAll.className%20%3D%20%22flex-1%20py-1.5%20text-xs%20font-bold%20rounded-md%20transition-all%20text-gray-500%20hover%3Atext-brand-blue%20hover%3Abg-gray-200%22%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20btnAll.className%20%3D%20%22flex-1%20py-1.5%20text-xs%20font-bold%20rounded-md%20transition-all%20bg-white%20text-brand-blue%20shadow-sm%22%3B%0A%20%20%20%20%20%20%20%20%20%20btnToday.className%20%3D%20%22flex-1%20py-1.5%20text-xs%20font-bold%20rounded-md%20transition-all%20text-gray-500%20hover%3Atext-brand-blue%20hover%3Abg-gray-200%22%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20const%20searchInput%20%3D%20document.getElementById%28%27leaderboard-search%27%29%3B%0A%20%20%20%20%20%20const%20searchTerm%20%3D%20searchInput%20%3F%20searchInput.value.toLowerCase%28%29.trim%28%29%20%3A%20%22%22%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20//%20Mindig%20az%20eredeti%2C%20teljes%20list%E1b%F3l%20indulunk%20ki%0A%20%20%20%20%20%20let%20data%20%3D%20%5B...window.currentLeaderboardData%5D%3B%0A%0A%20%20%20%20%20%20//%20L%C9P%C9S%201%3A%20Id%u0151szak%20sz%u0171r%E9se%20%28Ki%20tartozik%20a%20%22mez%u0151nybe%22%3F%29%0A%20%20%20%20%20%20if%20%28mode%20%3D%3D%3D%20%27today%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20startOfToday%20%3D%20new%20Date%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20startOfToday.setHours%280%2C%200%2C%200%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20data%20%3D%20data.filter%28r%20%3D%3E%20r.timestamp%20%3E%3D%20startOfToday.getTime%28%29%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20//%20L%C9P%C9S%202%3A%20Rendez%E9s%20%28Pont%20-%3E%20Feladat%20Id%u0151%20-%3E%20Teljes%20Id%u0151%29%0A%20%20%20%20%20%20//%20Fontos%3A%20Ezt%20M%C9G%20A%20KERES%C9S%20EL%u0150TT%20megcsin%E1ljuk%21%0A%20%20%20%20%20%20data.sort%28%28a%2C%20b%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20scoreDiff%20%3D%20b.score%20-%20a.score%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28scoreDiff%20%21%3D%3D%200%29%20return%20scoreDiff%3B%0A%20%20%20%20%20%20%20%20%20%20const%20taskTimeDiff%20%3D%20%28a.geofenceTime%20%7C%7C%200%29%20-%20%28b.geofenceTime%20%7C%7C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28taskTimeDiff%20%21%3D%3D%200%29%20return%20taskTimeDiff%3B%0A%20%20%20%20%20%20%20%20%20%20return%20%28a.totalTime%20%7C%7C%200%29%20-%20%28b.totalTime%20%7C%7C%200%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20//%20L%C9P%C9S%203%3A%20Val%F3di%20helyez%E9s%20r%F6gz%EDt%E9se%0A%20%20%20%20%20%20//%20Hozz%E1adunk%20egy%20%27actualRank%27%20tulajdons%E1got%2C%20ami%20megmondja%2C%20h%E1nyadik%20a%20teljes%20mez%u0151nyben%0A%20%20%20%20%20%20data%20%3D%20data.map%28%28item%2C%20index%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%7B%20...item%2C%20actualRank%3A%20index%20+%201%20%7D%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20//%20L%C9P%C9S%204%3A%20N%E9v%20keres%E9s%0A%20%20%20%20%20%20//%20Most%20m%E1r%20sz%u0171rhet%FCnk%20n%E9vre%2C%20mert%20a%20helyez%E9s%FCket%20megjegyezt%FCk%20az%20el%u0151z%u0151%20l%E9p%E9sben%0A%20%20%20%20%20%20if%20%28searchTerm%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20data%20%3D%20data.filter%28r%20%3D%3E%20r.teamName.toLowerCase%28%29.includes%28searchTerm%29%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20renderLeaderboardTable%28data%29%3B%0A%20%20%7D%3B%0A%0A%0A%0A//%203.%20T%C1BL%C1ZAT%20MEGJELEN%CDT%C9SE%20%28JAV%CDTVA%3A%20N%E9v%20mez%u0151%20100px%2C%20Paddingok%20minimaliz%E1lva%29%0A%20window.renderLeaderboardTable%20%3D%20function%28results%29%20%7B%0A%20%20%20%20%20%20const%20listBody%20%3D%20document.getElementById%28%27leaderboard-modal-body%27%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20//%20---%20%DAJ%20BIZTONS%C1GI%20K%D3D%20KEZDTE%20---%0A%20%20%20%20%20%20const%20escapeHtml%20%3D%20%28unsafe%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21unsafe%29%20return%20%22%22%3B%0A%20%20%20%20%20%20%20%20return%20String%28unsafe%29%0A%20%20%20%20%20%20%20%20%20%20%20%20.replace%28/%26/g%2C%20%22%26amp%3B%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20.replace%28/%3C/g%2C%20%22%26lt%3B%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20.replace%28/%3E/g%2C%20%22%26gt%3B%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20.replace%28/%22/g%2C%20%22%26quot%3B%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20.replace%28/%27/g%2C%20%22%26%23039%3B%22%29%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20if%20%28results.length%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20listBody.innerHTML%20%3D%20%27%3Ctr%3E%3Ctd%20colspan%3D%224%22%20class%3D%22text-center%20py-8%20text-gray-400%20italic%22%3ENincs%20a%20sz%u0171r%E9snek%20megfelel%u0151%20tal%E1lat.%3C/td%3E%3C/tr%3E%27%3B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20const%20avatars%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20cat%3A%20%27%uD83D%uDC31%27%2C%20dog%3A%20%27%uD83D%uDC36%27%2C%20panda%3A%20%27%uD83D%uDC3C%27%2C%20shark%3A%20%27%uD83E%uDD88%27%2C%20parrot%3A%20%27%uD83E%uDD9C%27%2C%20bear%3A%20%27%uD83D%uDC3B%27%2C%20cow%3A%20%27%uD83D%uDC2E%27%2C%20elephant%3A%20%27%uD83D%uDC18%27%2C%20detective%3A%20%27%uD83D%uDD75%uFE0F%27%2C%20explorer%3A%20%27%uD83E%uDDED%27%2C%20wizard%3A%20%27%uD83E%uDDD9%27%2C%20robot%3A%20%27%uD83E%uDD16%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20ghost%3A%20%27%uD83D%uDC7B%27%2C%20skull%3A%20%27%u2620%uFE0F%27%2C%20lock%3A%20%27%uD83D%uDD12%27%2C%20magician%3A%20%27%uD83C%uDFA9%27%2C%20mask%3A%20%27%uD83C%uDFAD%27%2C%20fire%3A%20%27%uD83D%uDD25%27%2C%20knight%3A%20%27%u2694%uFE0F%27%2C%20hamburger%3A%20%27%uD83C%uDF54%27%2C%20pizza%3A%20%27%uD83C%uDF55%27%2C%20doughnut%3A%20%27%uD83C%uDF69%27%2C%20cupcake%3A%20%27%uD83E%uDDC1%27%2C%20lollipop%3A%20%27%uD83C%uDF6D%27%2C%20smile%3A%20%27%uD83D%uDE0E%27%2C%20zombie%3A%20%27%uD83E%uDDDF%27%2Cballerina%3A%20%27%uD83E%uDE70%27%2Cpolice%3A%20%27%uD83D%uDE93%27%2Cfirefighter%3A%20%27%uD83D%uDE92%27%2Cambulance%3A%20%27%uD83D%uDE91%27%2Cstar%3A%20%27%u2B50%uFE0F%27%2C%20heart%3A%20%27%u2764%uFE0F%27%2C%20crown%3A%20%27%uD83D%uDC51%27%2C%20laptop%3A%20%27%uD83D%uDCBB%27%2C%20floppy%3A%20%27%uD83D%uDCBE%27%2C%20monkey%3A%20%27%uD83D%uDC35%27%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20fmt%20%3D%20%28s%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20const%20m%20%3D%20Math.floor%28s%20/%2060%29.toString%28%29.padStart%282%2C%270%27%29%3B%0A%20%20%20%20%20%20%20%20%20const%20sec%20%3D%20%28s%20%25%2060%29.toString%28%29.padStart%282%2C%270%27%29%3B%0A%20%20%20%20%20%20%20%20%20return%20%60%24%7Bm%7D%3A%24%7Bsec%7D%60%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20fmtDate%20%3D%20%28ms%29%20%3D%3E%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20const%20d%20%3D%20new%20Date%28ms%29%3B%0A%20%20%20%20%20%20%20%20%20%20const%20timeStr%20%3D%20%60%24%7BString%28d.getHours%28%29%29.padStart%282%2C%270%27%29%7D%3A%24%7BString%28d.getMinutes%28%29%29.padStart%282%2C%270%27%29%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20return%20%60%24%7Bd.getFullYear%28%29%7D.%24%7BString%28d.getMonth%28%29%20+%201%29.padStart%282%2C%20%270%27%29%7D.%24%7BString%28d.getDate%28%29%29.padStart%282%2C%20%270%27%29%7D.%20%24%7BtimeStr%7D%60%3B%20%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20let%20html%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20results.slice%280%2C%20100%29.forEach%28%28r%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20icon%20%3D%20avatars%5Br.teamAvatar%5D%20%7C%7C%20%27%uD83D%uDC64%27%3B%0A%20%20%20%20%20%20%20%20%20%20const%20isMyTeam%20%3D%20%28Math.abs%28r.timestamp%20-%20Date.now%28%29%29%20%3C%20120000%20%26%26%20r.score%20%3D%3D%20window.currentScoreForHighlight%29%3B%0A%20%20%20%20%20%20%20%20%20%20const%20rank%20%3D%20r.actualRank%3B%0A%0A%20%20%20%20%20%20%20%20%20%20let%20rankDisplay%20%3D%20%60%24%7Brank%7D.%60%3B%0A%20%20%20%20%20%20%20%20%20%20let%20rowBg%20%3D%20%22%22%3B%20//%20Alapb%F3l%20feh%E9r%20%28%FCres%29%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20if%20%28rank%20%3D%3D%3D%201%29%20%7B%20rankDisplay%20%3D%20%22%uD83E%uDD47%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20else%20if%20%28rank%20%3D%3D%3D%202%29%20%7B%20rankDisplay%20%3D%20%22%uD83E%uDD48%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20else%20if%20%28rank%20%3D%3D%3D%203%29%20%7B%20rankDisplay%20%3D%20%22%uD83E%uDD49%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20//%202.%20SAJ%C1T%20CSAPAT%20KIEMEL%C9SE%20%28Ez%20fel%FCl%EDr%20mindent%29%0A%20%20%20%20%20%20%20%20%20%20if%20%28isMyTeam%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20rowBg%20%3D%20%22bg-blue-200%20border-l-4%20border-l-red-400%22%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20//%20%DAJ%3A%20ID%20hozz%E1ad%E1sa%2C%20ha%20ez%20a%20saj%E1t%20sorom%2C%20hogy%20k%E9s%u0151bb%20odatudjunk%20g%F6rgetni%0A%20%20%20%20%20%20%20%20%20%20const%20rowId%20%3D%20isMyTeam%20%3F%20%27id%3D%22my-leaderboard-row%22%27%20%3A%20%27%27%3B%0A%0A%20%20%20%20%20%20%20%20%20%20html%20+%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%20%24%7BrowId%7D%20class%3D%22transition%20border-b%20border-gray-100%20last%3Aborder-0%20%24%7BrowBg%7D%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20class%3D%22px-1%20py-3%20font-bold%20text-gray-500%20text-center%20text-sm%20w-6%20align-middle%22%3E%24%7BrankDisplay%7D%3C/td%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20class%3D%22px-1%20py-3%20align-middle%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22font-bold%20text-brand-blue%20flex%20items-center%20gap-1.5%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22text-xl%20bg-white%20border%20border-gray-100%20shadow-sm%20rounded-full%20w-8%20h-8%20flex%20items-center%20justify-center%20min-w-%5B32px%5D%20shrink-0%22%3E%24%7Bicon%7D%3C/span%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22text-sm%20leading-tight%20break-words%20whitespace-normal%20min-w-0%20w-%5B100px%5D%22%20title%3D%22%24%7Br.teamName%7D%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7Br.teamName%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-%5B10px%5D%20text-gray-400%20ml-10%20flex%20items-center%20gap-1%20mt-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%u23F1%uFE0F%20%24%7BfmtDate%28r.timestamp%29%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/td%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20class%3D%22pl-1%20pr-0%20py-3%20text-right%20font-extrabold%20text-brand-orange-500%20text-base%20w-10%20align-middle%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7Br.score%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/td%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20class%3D%22pl-1%20pr-1%20py-3%20text-right%20text-xs%20text-gray-600%20leading-tight%20w-24%20align-middle%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20flex-col%20items-end%20gap-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20title%3D%22Feladat%20id%u0151%22%20class%3D%22font-semibold%20text-green-700%20bg-green-50%20px-1.5%20py-0.5%20rounded%20w-fit%20whitespace-nowrap%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%uD83E%uDDE9%20%24%7Bfmt%28r.geofenceTime%20%7C%7C%200%29%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20title%3D%22Teljes%20id%u0151%22%20class%3D%22font-semibold%20text-brand-blue%20bg-blue-50%20px-1.5%20py-0.5%20rounded%20w-fit%20whitespace-nowrap%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%u23F1%uFE0F%20%24%7Bfmt%28r.totalTime%20%7C%7C%200%29%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/td%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%0A%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20listBody.innerHTML%20%3D%20html%3B%0A%20%20%7D%3B%0A%0A%0A%0A%20%20//%20---%20RANGLISTA%20K%D3D%20V%C9GE%20---%0A%0A//%20---%20%DAJ%20R%C9SZ%3A%20Befejezett%20j%E1t%E9kok%20sz%E1mol%E1sa%20%28Atomic%20Increment%29%20---%0A%20%20window.incrementGameCompletion%20%3D%20async%20function%28gameId%29%20%7B%0A%20%20%20%20%20%20if%28%21gameId%29%20return%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20gameRef%20%3D%20ref%28db%2C%20%27games/%27%20+%20gameId%20+%20%27/completed%27%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20//%20A%20szab%E1lyrendszer%20el%u0151%EDrja%3A%20newData.val%28%29%20%3D%3D%3D%20%28data.val%28%29%20%7C%7C%200%29%20+%201%0A%20%20%20%20%20%20%20%20%20%20//%20A%20runTransaction%20pontosan%20ezt%20csin%E1lja%3A%20olvassa%20a%20jelenlegit%2C%20%E9s%20hozz%E1ad%20egyet.%0A%20%20%20%20%20%20%20%20%20%20await%20runTransaction%28gameRef%2C%20%28currentCount%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20null/undefined%2C%20akkor%200-nak%20vessz%FCk%20%E9s%201%20lesz%20bel%u0151le%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%28currentCount%20%7C%7C%200%29%20+%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20console.log%28%22Statisztika%20friss%EDtve.%22%29%3B%0A%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.error%28%22Nem%20siker%FClt%20n%F6velni%20a%20sz%E1ml%E1l%F3t%20%28Firebase%20Rules%20tilt%E1s%29%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%0A%0A//%20---%20GLOB%C1LIS%20RANGLISTA%20KEZEL%u0150%20---%0A%20%20%0A%20%20window.globalLeaderboardData%20%3D%20%5B%5D%3B%20//%20Cache%20az%20adatoknak%0A%0A%20%20window.openGlobalLeaderboard%20%3D%20async%20function%28%29%20%7B%0A%20%20%20%20%20%20const%20modal%20%3D%20document.getElementById%28%27global-leaderboard-modal%27%29%3B%0A%20%20%20%20%20%20const%20tbody%20%3D%20document.getElementById%28%27global-leaderboard-body%27%29%3B%0A%20%20%20%20%20%20const%20gameSelect%20%3D%20document.getElementById%28%27global-game-filter%27%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20modal.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20tbody.innerHTML%20%3D%20%27%3Ctr%3E%3Ctd%20colspan%3D%225%22%20class%3D%22text-center%20py-10%22%3E%3Cdiv%20class%3D%22animate-spin%20h-8%20w-8%20border-4%20border-purple-600%20border-t-transparent%20rounded-full%20mx-auto%20mb-2%22%3E%3C/div%3EAdatok%20bet%F6lt%E9se%20a%20Firebase-r%u0151l...%3C/td%3E%3C/tr%3E%27%3B%0A%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20//%201.%20Lek%E9rj%FCk%20a%20TELJES%20ranglista%20csom%F3pontot%0A%20%20%20%20%20%20%20%20%20%20const%20snapshot%20%3D%20await%20get%28ref%28db%2C%20%27leaderboard%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21snapshot.exists%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tbody.innerHTML%20%3D%20%27%3Ctr%3E%3Ctd%20colspan%3D%225%22%20class%3D%22text-center%20py-10%20text-gray-500%22%3EM%E9g%20nincs%20egyetlen%20eredm%E9ny%20sem%20az%20adatb%E1zisban.%3C/td%3E%3C/tr%3E%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20const%20rawData%20%3D%20snapshot.val%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20let%20flatData%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20const%20gameIdsSet%20%3D%20new%20Set%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20//%202.%20Adatok%20feldolgoz%E1sa%20%28Flattening%29%0A%20%20%20%20%20%20%20%20%20%20//%20A%20szerkezet%3A%20%7B%20gameId%3A%20%7B%20scoreId%3A%20%7B%20...adatok...%20%7D%20%7D%20%7D%0A%20%20%20%20%20%20%20%20%20%20Object.keys%28rawData%29.forEach%28gameId%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gameScores%20%3D%20rawData%5BgameId%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20J%E1t%E9k%20nev%E9nek%20kikeres%E9se%20a%20bet%F6lt%F6tt%20%27games%27%20objektumb%F3l%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gameObj%20%3D%20window.games%20%3F%20window.games%5BgameId%5D%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gameTitle%20%3D%20gameObj%20%3F%20gameObj.title%20%3A%20gameId%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameIdsSet.add%28JSON.stringify%28%7Bid%3A%20gameId%2C%20title%3A%20gameTitle%7D%29%29%3B%20//%20Select%20felt%F6lt%E9shez%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Object.keys%28gameScores%29.forEach%28scoreId%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20entry%20%3D%20gameScores%5BscoreId%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20flatData.push%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameId%3A%20gameId%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameTitle%3A%20gameTitle%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20teamName%3A%20entry.teamName%20%7C%7C%20%22N%E9vtelen%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20teamAvatar%3A%20entry.teamAvatar%20%7C%7C%20%22cat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score%3A%20entry.score%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20totalTime%3A%20entry.totalTime%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20timestamp%3A%20entry.timestamp%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dateString%3A%20entry.dateString%20%7C%7C%20%22-%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20//%203.%20Rendez%E9s%3A%20Legfrissebb%20el%u0151l%0A%20%20%20%20%20%20%20%20%20%20flatData.sort%28%28a%2C%20b%29%20%3D%3E%20b.timestamp%20-%20a.timestamp%29%3B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20window.globalLeaderboardData%20%3D%20flatData%3B%0A%0A%20%20%20%20%20%20%20%20%20%20//%204.%20Select%20%28Filter%29%20felt%F6lt%E9se%0A%20%20%20%20%20%20%20%20%20%20gameSelect.innerHTML%20%3D%20%27%3Coption%20value%3D%22all%22%3E%D6sszes%20J%E1t%E9k%3C/option%3E%27%3B%0A%20%20%20%20%20%20%20%20%20%20Array.from%28gameIdsSet%29.map%28s%20%3D%3E%20JSON.parse%28s%29%29.sort%28%28a%2C%20b%29%20%3D%3E%20a.title.localeCompare%28b.title%29%29.forEach%28g%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20opt%20%3D%20document.createElement%28%27option%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20opt.value%20%3D%20g.id%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20opt.textContent%20%3D%20g.title%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameSelect.appendChild%28opt%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20//%205.%20Megjelen%EDt%E9s%0A%20%20%20%20%20%20%20%20%20%20filterGlobalLeaderboard%28%29%3B%0A%0A%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.error%28%22Global%20Leaderboard%20Error%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20tbody.innerHTML%20%3D%20%60%3Ctr%3E%3Ctd%20colspan%3D%225%22%20class%3D%22text-center%20py-10%20text-red-600%22%3EHiba%20t%F6rt%E9nt%3A%20%24%7Berror.message%7D%3C/td%3E%3C/tr%3E%60%3B%0A%20%20%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20window.filterGlobalLeaderboard%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20const%20searchTerm%20%3D%20document.getElementById%28%27global-search-input%27%29.value.toLowerCase%28%29%3B%0A%20%20%20%20%20%20const%20selectedGameId%20%3D%20document.getElementById%28%27global-game-filter%27%29.value%3B%0A%20%20%20%20%20%20const%20tbody%20%3D%20document.getElementById%28%27global-leaderboard-body%27%29%3B%0A%20%20%20%20%20%20const%20countDisplay%20%3D%20document.getElementById%28%27global-count-display%27%29%3B%0A%0A%20%20%20%20%20%20const%20filtered%20%3D%20window.globalLeaderboardData.filter%28item%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20//%20J%E1t%E9k%20sz%u0171r%u0151%0A%20%20%20%20%20%20%20%20%20%20if%20%28selectedGameId%20%21%3D%3D%20%27all%27%20%26%26%20item.gameId%20%21%3D%3D%20selectedGameId%29%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20//%20Sz%F6veges%20sz%u0171r%u0151%0A%20%20%20%20%20%20%20%20%20%20if%20%28searchTerm%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20textToSearch%20%3D%20%60%24%7Bitem.teamName%7D%20%24%7Bitem.gameTitle%7D%20%24%7Bitem.gameId%7D%60.toLowerCase%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21textToSearch.includes%28searchTerm%29%29%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20countDisplay.textContent%20%3D%20%60%24%7Bfiltered.length%7D%20eredm%E9ny%60%3B%0A%0A%20%20%20%20%20%20if%20%28filtered.length%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20tbody.innerHTML%20%3D%20%27%3Ctr%3E%3Ctd%20colspan%3D%225%22%20class%3D%22text-center%20py-8%20text-gray-400%22%3ENincs%20tal%E1lat.%3C/td%3E%3C/tr%3E%27%3B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20//%20Limit%E1l%E1s%0A%20%20%20%20%20%20const%20renderLimit%20%3D%20500%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20let%20html%20%3D%20%22%22%3B%0A%20%20%20%20%20%20const%20avatarMap%20%3D%20%7B%20cat%3A%20%27%uD83D%uDC31%27%2C%20dog%3A%20%27%uD83D%uDC36%27%2C%20panda%3A%20%27%uD83D%uDC3C%27%2C%20shark%3A%20%27%uD83E%uDD88%27%2C%20parrot%3A%20%27%uD83E%uDD9C%27%2C%20bear%3A%20%27%uD83D%uDC3B%27%2C%20cow%3A%20%27%uD83D%uDC2E%27%2C%20elephant%3A%20%27%uD83D%uDC18%27%2C%20detective%3A%20%27%uD83D%uDD75%uFE0F%27%2C%20explorer%3A%20%27%uD83E%uDDED%27%2C%20wizard%3A%20%27%uD83E%uDDD9%27%2C%20robot%3A%20%27%uD83E%uDD16%27%2C%20ghost%3A%20%27%uD83D%uDC7B%27%2C%20skull%3A%20%27%u2620%uFE0F%27%2C%20lock%3A%20%27%uD83D%uDD12%27%2C%20magician%3A%20%27%uD83C%uDFA9%27%2C%20mask%3A%20%27%uD83C%uDFAD%27%2C%20fire%3A%20%27%uD83D%uDD25%27%2C%20knight%3A%20%27%u2694%uFE0F%27%2C%20hamburger%3A%20%27%uD83C%uDF54%27%2C%20pizza%3A%20%27%uD83C%uDF55%27%2C%20doughnut%3A%20%27%uD83C%uDF69%27%2C%20cupcake%3A%20%27%uD83E%uDDC1%27%2C%20lollipop%3A%20%27%uD83C%uDF6D%27%2C%20smile%3A%20%27%uD83D%uDE0E%27%2C%20zombie%3A%20%27%uD83E%uDDDF%27%2C%20ballerina%3A%20%27%uD83E%uDE70%27%2C%20police%3A%20%27%uD83D%uDE93%27%2C%20firefighter%3A%20%27%uD83D%uDE92%27%2C%20ambulance%3A%20%27%uD83D%uDE91%27%2C%20star%3A%20%27%u2B50%uFE0F%27%2C%20heart%3A%20%27%u2764%uFE0F%27%2C%20crown%3A%20%27%uD83D%uDC51%27%2C%20laptop%3A%20%27%uD83D%uDCBB%27%2C%20floppy%3A%20%27%uD83D%uDCBE%27%2C%20monkey%3A%20%27%uD83D%uDC35%27%20%7D%3B%0A%0A%20%20%20%20%20%20const%20fmtTime%20%3D%20%28s%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20const%20m%20%3D%20Math.floor%28s%20/%2060%29.toString%28%29.padStart%282%2C%270%27%29%3B%0A%20%20%20%20%20%20%20%20%20const%20sec%20%3D%20%28s%20%25%2060%29.toString%28%29.padStart%282%2C%270%27%29%3B%0A%20%20%20%20%20%20%20%20%20return%20%60%24%7Bm%7D%3A%24%7Bsec%7D%60%3B%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20filtered.slice%280%2C%20renderLimit%29.forEach%28r%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20icon%20%3D%20avatarMap%5Br.teamAvatar%5D%20%7C%7C%20%27%uD83D%uDC64%27%3B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20//%20---%20D%C1TUM%20FORM%C1TUM%20M%D3DOS%CDT%C1SA%20ITT%20T%D6RT%C9NT%20---%0A%20%20%20%20%20%20%20%20%20%20const%20dateObj%20%3D%20new%20Date%28r.timestamp%29%3B%0A%20%20%20%20%20%20%20%20%20%20//%20%C9v.H%F3.Nap%20%D3ra%3APerc%20%28pl%3A%202024.05.21%2014%3A30%29%0A%20%20%20%20%20%20%20%20%20%20const%20niceDate%20%3D%20%60%24%7BdateObj.getFullYear%28%29%7D.%24%7BString%28dateObj.getMonth%28%29%20+%201%29.padStart%282%2C%20%270%27%29%7D.%24%7BString%28dateObj.getDate%28%29%29.padStart%282%2C%20%270%27%29%7D%20%24%7BString%28dateObj.getHours%28%29%29.padStart%282%2C%270%27%29%7D%3A%24%7BString%28dateObj.getMinutes%28%29%29.padStart%282%2C%270%27%29%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20//%20---------------------------------------------%0A%0A%20%20%20%20%20%20%20%20%20%20html%20+%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ctr%20class%3D%22hover%3Abg-purple-50%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20class%3D%22p-3%20border-b%20text-gray-500%20whitespace-nowrap%20font-mono%20text-%5B11px%5D%22%3E%24%7BniceDate%7D%3C/td%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20class%3D%22p-3%20border-b%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22font-bold%20text-gray-800%22%3E%24%7Br.gameTitle%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-%5B10px%5D%20text-gray-400%20font-mono%22%3E%24%7Br.gameId%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/td%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20class%3D%22p-3%20border-b%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20items-center%20gap-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22text-xl%22%3E%24%7Bicon%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22font-semibold%20text-purple-900%22%3E%24%7Br.teamName%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/td%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20class%3D%22p-3%20border-b%20text-right%20font-bold%20text-orange-600%20text-lg%22%3E%24%7Br.score%7D%3C/td%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%20class%3D%22p-3%20border-b%20text-right%20text-gray-600%20font-mono%22%3E%24%7BfmtTime%28r.totalTime%29%7D%3C/td%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/tr%3E%0A%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20if%20%28filtered.length%20%3E%20renderLimit%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20html%20+%3D%20%60%3Ctr%3E%3Ctd%20colspan%3D%225%22%20class%3D%22text-center%20py-2%20text-xs%20text-gray-400%20italic%22%3E...%E9s%20tov%E1bbi%20%24%7Bfiltered.length%20-%20renderLimit%7D%20eredm%E9ny%20%28sz%u0171k%EDtsd%20a%20keres%E9st%29%3C/td%3E%3C/tr%3E%60%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20tbody.innerHTML%20%3D%20html%3B%0A%20%20%7D%3B%0A%0A%0A%0A%0A%3C/script%3E%0A%0A%0A%0A%20%20%20%20%20%20%20%0A%3Cscript%3E%0A%20%20%20%20%20%20%20%20//%20---%20GLOBAL%20STATE%20%26%20CONSTANTS%20---%0A%20%20%20%20%20%20%20%20let%20games%20%3D%20%7B%7D%3B%0A%09let%20badWordsList%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22bazd%22%2C%20%22basz%22%2C%20%22geci%22%2C%20%22picsa%22%2C%20%22szar%22%2C%20%22kurva%22%2C%20%22fos%22%2C%20%22buzi%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22fasz%22%2C%20%22pina%22%2C%20%22ribanc%22%2C%20%22k%F6cs%F6g%22%2C%20%22any%E1d%22%2C%20%22segg%22%2C%20%22szop%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22p%F6cs%22%2C%20%22kurafi%22%2C%20%22bunk%F3%22%2C%20%22cig%E1ny%22%2C%20%22nigger%22%2C%20%22zsid%F3%22%2C%20%22buzer%E1ns%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22szuka%22%2C%20%22perverz%22%2C%20%22pedofil%22%2C%20%22n%E1ci%22%2C%20%22hitler%22%2C%20%22sperma%22%2C%20%22orgia%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22porn%F3%22%2C%20%22szex%22%2C%20%22kibasz%22%2C%20%22megbasz%22%2C%20%22faszfej%22%2C%20%22balfasz%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22balfaszok%22%2C%20%22balfaszokat%22%2C%20%22balfaszt%22%2C%20%22barmok%22%2C%20%22barmokat%22%2C%20%22barmot%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22barom%22%2C%20%22baszik%22%2C%20%22bazmeg%22%2C%20%22buksza%22%2C%20%22buksz%E1k%22%2C%20%22buksz%E1kat%22%2C%20%22buksz%E1t%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22b%FAr%22%2C%20%22b%FArok%22%2C%20%22cs%F6cs%22%2C%20%22cs%F6cs%F6k%22%2C%20%22cs%F6cs%F6ket%22%2C%20%22cs%F6cs%F6t%22%2C%20%22faszfejek%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22faszfejeket%22%2C%20%22faszfejet%22%2C%20%22faszok%22%2C%20%22faszokat%22%2C%20%22faszt%22%2C%20%22fing%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22fingok%22%2C%20%22fingokat%22%2C%20%22fingot%22%2C%20%22franc%22%2C%20%22francok%22%2C%20%22francokat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22francot%22%2C%20%22gecibb%22%2C%20%22gecik%22%2C%20%22geciket%22%2C%20%22gecit%22%2C%20%22kibaszott%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22kibaszottabb%22%2C%20%22k%FAr%22%2C%20%22kurafik%22%2C%20%22kurafikat%22%2C%20%22kurafit%22%2C%20%22kurv%E1k%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22kurv%E1kat%22%2C%20%22kurv%E1t%22%2C%20%22leggecibb%22%2C%20%22legkibaszottabb%22%2C%20%22legszarabb%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22marha%22%2C%20%22marh%E1k%22%2C%20%22marh%E1kat%22%2C%20%22marh%E1t%22%2C%20%22megd%F6glik%22%2C%20%22pele%22%2C%20%22pel%E9k%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22pics%E1kat%22%2C%20%22pics%E1t%22%2C%20%22pin%E1k%22%2C%20%22pin%E1kat%22%2C%20%22pin%E1t%22%2C%20%22pofa%22%2C%20%22pof%E1kat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22pof%E1t%22%2C%20%22p%F6cs%F6k%22%2C%20%22p%F6cs%F6ket%22%2C%20%22p%F6cs%F6t%22%2C%20%22punci%22%2C%20%22puncik%22%2C%20%22seggek%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22seggeket%22%2C%20%22segget%22%2C%20%22seggfej%22%2C%20%22seggfejek%22%2C%20%22seggfejeket%22%2C%20%22seggfejet%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22szajha%22%2C%20%22szajh%E1k%22%2C%20%22szajh%E1kat%22%2C%20%22szajh%E1t%22%2C%20%22szarabb%22%2C%20%22szarik%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22szarok%22%2C%20%22szarokat%22%2C%20%22szart%22%2C%20%222g1c%22%2C%20%222%20girls%201%20cup%22%2C%20%22acrotomophilia%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22alabama%20hot%20pocket%22%2C%20%22alaskan%20pipeline%22%2C%20%22anal%22%2C%20%22anilingus%22%2C%20%22anus%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22apeshit%22%2C%20%22arsehole%22%2C%20%22ass%22%2C%20%22asshole%22%2C%20%22assmunch%22%2C%20%22auto%20erotic%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22autoerotic%22%2C%20%22babeland%22%2C%20%22baby%20batter%22%2C%20%22baby%20juice%22%2C%20%22ball%20gag%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22ball%20gravy%22%2C%20%22ball%20kicking%22%2C%20%22ball%20licking%22%2C%20%22ball%20sack%22%2C%20%22ball%20sucking%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22bangbros%22%2C%20%22bangbus%22%2C%20%22bareback%22%2C%20%22barely%20legal%22%2C%20%22barenaked%22%2C%20%22bastard%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22bastardo%22%2C%20%22bastinado%22%2C%20%22bbw%22%2C%20%22bdsm%22%2C%20%22beaner%22%2C%20%22beaners%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22beaver%20cleaver%22%2C%20%22beaver%20lips%22%2C%20%22beastiality%22%2C%20%22bestiality%22%2C%20%22big%20black%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22big%20breasts%22%2C%20%22big%20knockers%22%2C%20%22big%20tits%22%2C%20%22bimbos%22%2C%20%22birdlock%22%2C%20%22bitch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22bitches%22%2C%20%22black%20cock%22%2C%20%22blonde%20action%22%2C%20%22blonde%20on%20blonde%20action%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22blowjob%22%2C%20%22blow%20job%22%2C%20%22blow%20your%20load%22%2C%20%22blue%20waffle%22%2C%20%22blumpkin%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22bollocks%22%2C%20%22bondage%22%2C%20%22boner%22%2C%20%22boob%22%2C%20%22boobs%22%2C%20%22booty%20call%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22brown%20showers%22%2C%20%22brunette%20action%22%2C%20%22bukkake%22%2C%20%22bulldyke%22%2C%20%22bullet%20vibe%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22bullshit%22%2C%20%22bung%20hole%22%2C%20%22bunghole%22%2C%20%22busty%22%2C%20%22butt%22%2C%20%22buttcheeks%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22butthole%22%2C%20%22camel%20toe%22%2C%20%22camgirl%22%2C%20%22camslut%22%2C%20%22camwhore%22%2C%20%22carpet%20muncher%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22carpetmuncher%22%2C%20%22chocolate%20rosebuds%22%2C%20%22cialis%22%2C%20%22circlejerk%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22cleveland%20steamer%22%2C%20%22clit%22%2C%20%22clitoris%22%2C%20%22clover%20clamps%22%2C%20%22clusterfuck%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22cock%22%2C%20%22cocks%22%2C%20%22coprolagnia%22%2C%20%22coprophilia%22%2C%20%22cornhole%22%2C%20%22coon%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22coons%22%2C%20%22creampie%22%2C%20%22cum%22%2C%20%22cumming%22%2C%20%22cumshot%22%2C%20%22cumshots%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22cunnilingus%22%2C%20%22cunt%22%2C%20%22darkie%22%2C%20%22date%20rape%22%2C%20%22daterape%22%2C%20%22deep%20throat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22deepthroat%22%2C%20%22dendrophilia%22%2C%20%22dick%22%2C%20%22dildo%22%2C%20%22dingleberry%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22dingleberries%22%2C%20%22dirty%20pillows%22%2C%20%22dirty%20sanchez%22%2C%20%22doggie%20style%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22doggiestyle%22%2C%20%22doggy%20style%22%2C%20%22doggystyle%22%2C%20%22dog%20style%22%2C%20%22dolcett%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22domination%22%2C%20%22dominatrix%22%2C%20%22dommes%22%2C%20%22donkey%20punch%22%2C%20%22double%20dong%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22double%20penetration%22%2C%20%22dp%20action%22%2C%20%22dry%20hump%22%2C%20%22dvda%22%2C%20%22eat%20my%20ass%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22ecchi%22%2C%20%22ejaculation%22%2C%20%22erotic%22%2C%20%22erotism%22%2C%20%22escort%22%2C%20%22eunuch%22%2C%20%22fag%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22faggot%22%2C%20%22fecal%22%2C%20%22felch%22%2C%20%22fellatio%22%2C%20%22feltch%22%2C%20%22female%20squirting%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22femdom%22%2C%20%22figging%22%2C%20%22fingerbang%22%2C%20%22fingering%22%2C%20%22fisting%22%2C%20%22foot%20fetish%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22footjob%22%2C%20%22frotting%22%2C%20%22fuck%22%2C%20%22fuck%20buttons%22%2C%20%22fuckin%22%2C%20%22fucking%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22fucktards%22%2C%20%22fudge%20packer%22%2C%20%22fudgepacker%22%2C%20%22futanari%22%2C%20%22gangbang%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22gang%20bang%22%2C%20%22gay%20sex%22%2C%20%22genitals%22%2C%20%22giant%20cock%22%2C%20%22girl%20on%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22girl%20on%20top%22%2C%20%22girls%20gone%20wild%22%2C%20%22goatcx%22%2C%20%22goatse%22%2C%20%22god%20damn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22gokkun%22%2C%20%22golden%20shower%22%2C%20%22goodpoop%22%2C%20%22goo%20girl%22%2C%20%22goregasm%22%2C%20%22grope%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22group%20sex%22%2C%20%22g-spot%22%2C%20%22guro%22%2C%20%22hand%20job%22%2C%20%22handjob%22%2C%20%22hard%20core%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22hardcore%22%2C%20%22hentai%22%2C%20%22homoerotic%22%2C%20%22honkey%22%2C%20%22hooker%22%2C%20%22horny%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22hot%20carl%22%2C%20%22hot%20chick%22%2C%20%22how%20to%20kill%22%2C%20%22how%20to%20murder%22%2C%20%22huge%20fat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22humping%22%2C%20%22incest%22%2C%20%22intercourse%22%2C%20%22jack%20off%22%2C%20%22jail%20bait%22%2C%20%22jailbait%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22jelly%20donut%22%2C%20%22jerk%20off%22%2C%20%22jigaboo%22%2C%20%22jiggaboo%22%2C%20%22jiggerboo%22%2C%20%22jizz%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22juggs%22%2C%20%22kike%22%2C%20%22kinbaku%22%2C%20%22kinkster%22%2C%20%22kinky%22%2C%20%22knobbing%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22leather%20restraint%22%2C%20%22leather%20straight%20jacket%22%2C%20%22lemon%20party%22%2C%20%22livesex%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22lolita%22%2C%20%22lovemaking%22%2C%20%22make%20me%20come%22%2C%20%22male%20squirting%22%2C%20%22masturbate%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22masturbating%22%2C%20%22masturbation%22%2C%20%22menage%20a%20trois%22%2C%20%22milf%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22missionary%20position%22%2C%20%22mong%22%2C%20%22motherfucker%22%2C%20%22mound%20of%20venus%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22mr%20hands%22%2C%20%22muff%20diver%22%2C%20%22muffdiving%22%2C%20%22nambla%22%2C%20%22nawashi%22%2C%20%22negro%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22neonazi%22%2C%20%22nigga%22%2C%20%22nig%20nog%22%2C%20%22nimphomania%22%2C%20%22nipple%22%2C%20%22nipples%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22nsfw%22%2C%20%22nsfw%20images%22%2C%20%22nude%22%2C%20%22nudity%22%2C%20%22nutten%22%2C%20%22nympho%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22nymphomania%22%2C%20%22octopussy%22%2C%20%22omorashi%22%2C%20%22one%20cup%20two%20girls%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22one%20guy%20one%20jar%22%2C%20%22orgasm%22%2C%20%22orgy%22%2C%20%22paedophile%22%2C%20%22paki%22%2C%20%22panties%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22panty%22%2C%20%22pedobear%22%2C%20%22pegging%22%2C%20%22penis%22%2C%20%22phone%20sex%22%2C%20%22piece%20of%20shit%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22pikey%22%2C%20%22pissing%22%2C%20%22piss%20pig%22%2C%20%22pisspig%22%2C%20%22playboy%22%2C%20%22pleasure%20chest%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22pole%20smoker%22%2C%20%22ponyplay%22%2C%20%22poof%22%2C%20%22poon%22%2C%20%22poontang%22%2C%20%22punany%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22poop%20chute%22%2C%20%22poopchute%22%2C%20%22porn%22%2C%20%22porno%22%2C%20%22pornography%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22prince%20albert%20piercing%22%2C%20%22pthc%22%2C%20%22pubes%22%2C%20%22pussy%22%2C%20%22queaf%22%2C%20%22queef%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22quim%22%2C%20%22raghead%22%2C%20%22raging%20boner%22%2C%20%22rape%22%2C%20%22raping%22%2C%20%22rapist%22%2C%20%22rectum%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22reverse%20cowgirl%22%2C%20%22rimjob%22%2C%20%22rimming%22%2C%20%22rosy%20palm%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22rosy%20palm%20and%20her%205%20sisters%22%2C%20%22rusty%20trombone%22%2C%20%22sadism%22%2C%20%22santorum%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22scat%22%2C%20%22schlong%22%2C%20%22scissoring%22%2C%20%22semen%22%2C%20%22sexcam%22%2C%20%22sexo%22%2C%20%22sexy%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22sexual%22%2C%20%22sexually%22%2C%20%22sexuality%22%2C%20%22shaved%20beaver%22%2C%20%22shaved%20pussy%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22shemale%22%2C%20%22shibari%22%2C%20%22shit%22%2C%20%22shitblimp%22%2C%20%22shitty%22%2C%20%22shota%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22shrimping%22%2C%20%22skeet%22%2C%20%22slanteye%22%2C%20%22slut%22%2C%20%22s%26m%22%2C%20%22smut%22%2C%20%22snatch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22snowballing%22%2C%20%22sodomize%22%2C%20%22sodomy%22%2C%20%22spastic%22%2C%20%22spic%22%2C%20%22splooge%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22splooge%20moose%22%2C%20%22spooge%22%2C%20%22spread%20legs%22%2C%20%22spunk%22%2C%20%22strap%20on%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22strapon%22%2C%20%22strappado%22%2C%20%22strip%20club%22%2C%20%22style%20doggy%22%2C%20%22suck%22%2C%20%22sucks%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22suicide%20girls%22%2C%20%22sultry%20women%22%2C%20%22swastika%22%2C%20%22swinger%22%2C%20%22tainted%20love%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22taste%20my%22%2C%20%22tea%20bagging%22%2C%20%22threesome%22%2C%20%22throating%22%2C%20%22thumbzilla%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22tied%20up%22%2C%20%22tight%20white%22%2C%20%22tit%22%2C%20%22tits%22%2C%20%22titties%22%2C%20%22titty%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22tongue%20in%20a%22%2C%20%22topless%22%2C%20%22tosser%22%2C%20%22towelhead%22%2C%20%22tranny%22%2C%20%22tribadism%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22tub%20girl%22%2C%20%22tubgirl%22%2C%20%22tushy%22%2C%20%22twat%22%2C%20%22twink%22%2C%20%22twinkie%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22two%20girls%20one%20cup%22%2C%20%22undressing%22%2C%20%22upskirt%22%2C%20%22urethra%20play%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22urophilia%22%2C%20%22vagina%22%2C%20%22venus%20mound%22%2C%20%22viagra%22%2C%20%22vibrator%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22violet%20wand%22%2C%20%22vorarephilia%22%2C%20%22voyeur%22%2C%20%22voyeurweb%22%2C%20%22voyuer%22%2C%20%22vulva%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22wank%22%2C%20%22wetback%22%2C%20%22wet%20dream%22%2C%20%22white%20power%22%2C%20%22whore%22%2C%20%22worldsex%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22wrapping%20men%22%2C%20%22wrinkled%20starfish%22%2C%20%22xx%22%2C%20%22xxx%22%2C%20%22yaoi%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22yellow%20showers%22%2C%20%22yiffy%22%2C%20%22zoophilia%22%0A%20%20%20%20%20%20%20%20%5D%3B%0A%09window.showHiddenGames%20%3D%20false%3B%20%20%20%20%20%20%20%20%0A%09//%20***%20KONSTANSOK%20***%0A%20%20%20%20%20%20%20%20const%20GEOFENCE_DEFAULT_RADIUS%20%3D%2020%3B%20%0A%20%20%20%20%20%20%20%20const%20DEFAULT_SCORE_PER_TASK%20%3D%2050%3B%20%0A%20%20%20%20%20%20%20%20const%20HINT1_PENALTY%20%3D%2010%3B%20%0A%20%20%20%20%20%20%20%20const%20HINT2_PENALTY%20%3D%2020%3B%20%0A%20%20%20%20%20%20%20%20const%20WRONG_ANSWER_PENALTY%20%3D%201%3B%20%0A%20%20%20%20%20%20%20%20const%20RESCUE_TASK_CORRECT_ANSWER%20%3D%20%274%27%3B%20%0A%20%20%20%20%20%20%20%20const%20RESCUE_TASK_SCORE%20%3D%200%3B%20%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20LOCAL_STORAGE_PREFIX%20%3D%20%27MystiGoGameState_%27%3B%20%0A%20%20%20%20%20%20%20%20const%20DEFAULT_GAME_FILE%20%3D%20%27games/games.xlsx%27%3B%20%0A%0A%20%20%20%20%20%20%20%20const%20AVATAR_ICONS%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cat%3A%20%27%uD83D%uDC31%27%2C%20dog%3A%20%27%uD83D%uDC36%27%2C%20panda%3A%20%27%uD83D%uDC3C%27%2C%20monkey%3A%20%27%uD83D%uDC35%27%2C%20shark%3A%20%27%uD83E%uDD88%27%2C%20parrot%3A%20%27%uD83E%uDD9C%27%2C%20bear%3A%20%27%uD83D%uDC3B%27%2C%20cow%3A%20%27%uD83D%uDC2E%27%2C%20elephant%3A%20%27%uD83D%uDC18%27%2C%20detective%3A%20%27%uD83D%uDD75%uFE0F%27%2C%20explorer%3A%20%27%uD83E%uDDED%27%2C%20wizard%3A%20%27%uD83E%uDDD9%27%2C%20robot%3A%20%27%uD83E%uDD16%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20ghost%3A%20%27%uD83D%uDC7B%27%2C%20skull%3A%20%27%u2620%uFE0F%27%2C%20lock%3A%20%27%uD83D%uDD12%27%2C%20magician%3A%20%27%uD83C%uDFA9%27%2C%20mask%3A%20%27%uD83C%uDFAD%27%2C%20fire%3A%20%27%uD83D%uDD25%27%2C%20knight%3A%20%27%u2694%uFE0F%27%2C%20hamburger%3A%20%27%uD83C%uDF54%27%2C%20pizza%3A%20%27%uD83C%uDF55%27%2C%20doughnut%3A%20%27%uD83C%uDF69%27%2C%20cupcake%3A%20%27%uD83E%uDDC1%27%2C%20lollipop%3A%20%27%uD83C%uDF6D%27%2C%20smile%3A%20%27%uD83D%uDE0E%27%2C%20zombie%3A%20%27%uD83E%uDDDF%27%2Cballerina%3A%20%27%uD83E%uDE70%27%2Cpolice%3A%20%27%uD83D%uDE93%27%2Cfirefighter%3A%20%27%uD83D%uDE92%27%2Cambulance%3A%20%27%uD83D%uDE91%27%2Cstar%3A%20%27%u2B50%uFE0F%27%2C%20heart%3A%20%27%u2764%uFE0F%27%2C%20crown%3A%20%27%uD83D%uDC51%27%2C%20laptop%3A%20%27%uD83D%uDCBB%27%2C%20floppy%3A%20%27%uD83D%uDCBE%27%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20let%20appState%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20let%20modalCloseCallback%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20manualMarker%20%3D%20null%3B%20%0A%20%20%20%20%20%20%20%20let%20speechSynth%20%3D%20window.speechSynthesis%3B%20%0A%0A%20%20%20%20%20%20%20%20function%20initializeState%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20appState%20%3D%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentPage%3A%20%27landing-page%27%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20selectedGameId%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastMapInteraction%3A%200%2C%0A%09%09currentGame%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentTaskIndex%3A%200%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score%3A%200%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20timerInterval%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20geofenceTimerInterval%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startTime%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20map%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerMarker%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20taskMarker%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20geofenceCircle%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20userPosition%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20geoWatchId%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isInZone%3A%20false%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isTestModeEnabled%3A%20false%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isManualMock%3A%20false%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20teamName%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20teamAvatar%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20taskOrder%3A%20%27sequential%27%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20totalTime%3A%200%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20geofenceTime%3A%200%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isTimerRunning%3A%20false%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20routeCoordinates%3A%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20completedTasks%3A%20%5B%5D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20availableTasks%3A%20%5B%5D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20taskMarkers%3A%20%7B%7D%2C%0A%09%09lastAutoZoomTime%3A%200%2C%0A%09%20%20%20%20%20%20%20%20visibleGamesLimit%3A%205%2C%0A%09%09currentFilteredGames%3A%20null%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20---%20LOCAL%20STORAGE%20LOGIC%20---%0A%20%20%20%20%20%20%20%20function%20getStorageKey%28gameId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20LOCAL_STORAGE_PREFIX%20+%20gameId%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20saveGameState%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.currentGame%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20stateToSave%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameId%3A%20appState.currentGame.id%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentTaskIndex%3A%20appState.currentTaskIndex%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score%3A%20appState.score%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20totalTime%3A%20appState.totalTime%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20geofenceTime%3A%20appState.geofenceTime%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isTimerRunning%3A%20appState.isTimerRunning%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20teamName%3A%20appState.teamName%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20teamAvatar%3A%20appState.teamAvatar%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isTestModeEnabled%3A%20appState.isTestModeEnabled%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isManualMock%3A%20appState.isManualMock%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20routeCoordinates%3A%20appState.routeCoordinates%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20completedTasks%3A%20appState.completedTasks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20availableTasks%3A%20appState.availableTasks%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20taskOrder%3A%20appState.taskOrder%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tasks%3A%20appState.currentGame.tasks%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28getStorageKey%28appState.currentGame.id%29%2C%20JSON.stringify%28stateToSave%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Hiba%20az%20%E1llapot%20ment%E9sekor%3A%22%2C%20e%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0Afunction%20loadGameById%28gameId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20savedStateJson%20%3D%20localStorage.getItem%28getStorageKey%28gameId%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21savedStateJson%29%20return%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20BIZTONS%C1GI%20JAV%CDT%C1S%20%28CRASH%20FIX%29%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ellen%u0151rizz%FCk%2C%20hogy%20l%E9tezik-e%20m%E9g%20a%20j%E1t%E9k%20az%20Excel%20adatb%E1zisban%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21games%5BgameId%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.warn%28%60A%20mentett%20j%E1t%E9k%20%28%24%7BgameId%7D%29%20m%E1r%20nem%20tal%E1lhat%F3%20az%20adatb%E1zisban.%20Ment%E9s%20t%F6rl%E9se.%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20T%F6r%F6lj%FCk%20a%20beragadt%2C%20hib%E1s%20ment%E9st%2C%20hogy%20ne%20omoljon%20%F6ssze%20%FAjra%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20deleteSavedGame%28gameId%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20--------------------------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20state%20%3D%20JSON.parse%28savedStateJson%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21state.gameId%20%7C%7C%20state.gameId%20%21%3D%3D%20gameId%29%20return%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentGame%20%3D%20JSON.parse%28JSON.stringify%28games%5BgameId%5D%29%29%3B%0A%0A%0A%0A%0A//%20---%20%DAJ%20K%D3D%3A%20J%E1t%E9k%20fejl%E9c%20log%F3%20be%E1ll%EDt%E1sa%20%28Ment%E9sn%E9l%20is%21%29%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gameLogo%20%3D%20document.getElementById%28%27game-header-logo%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28gameLogo%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameLogo.src%20%3D%20appState.currentGame.headerLogo%20%7C%7C%20%22logo/MystiGo_logo.png%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20----%0A%0A%09%09window.currentGameId%20%3D%20gameId%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentTaskIndex%20%3D%20state.currentTaskIndex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.score%20%3D%20state.score%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.totalTime%20%3D%20state.totalTime%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.geofenceTime%20%3D%20state.geofenceTime%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.isTimerRunning%20%3D%20state.isTimerRunning%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.teamName%20%3D%20state.teamName%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.teamAvatar%20%3D%20state.teamAvatar%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.isTestModeEnabled%20%3D%20state.isTestModeEnabled%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.isManualMock%20%3D%20state.isManualMock%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.routeCoordinates%20%3D%20state.routeCoordinates%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.completedTasks%20%3D%20state.completedTasks%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.availableTasks%20%3D%20state.availableTasks%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20TaskOrder%20helyre%E1ll%EDt%E1sa%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.taskOrder%20%3D%20state.taskOrder%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentGame.taskOrder%20%3D%20state.taskOrder%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28state.tasks%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentGame.tasks%20%3D%20state.tasks%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showPage%28%27game-page%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20initializeMap%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28appState.map%29%20appState.map.invalidateSize%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28appState.isManualMock%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20toggleMapClickMock%28true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28manualMarker%29%20%7B%20manualMarker.remove%28%29%3B%20manualMarker%20%3D%20null%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20watchPosition%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateStatusDisplays%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.isTimerRunning%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.timerInterval%20%3D%20setInterval%28updateTimer%2C%201000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastTimeUpdate%20%3D%20new%20Date%28%29.getTime%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame.taskOrder%20%3D%3D%3D%20%27explore%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentTaskIndex%20%3D%3D%3D%200%20%26%26%20appState.isTimerRunning%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showTaskSelectionMap%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%22Visszat%E9r%E9s%22%2C%20%60%DCdv%20%FAjra%2C%20%24%7BappState.teamName%20%7C%7C%20%27%27%7D%21%20A%20j%E1t%E9k%20folytat%F3dik%20a%20t%E9rk%E9pes%20v%E1laszt%F3n%E1l.%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20loadTask%28appState.currentTaskIndex%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20msg%20%3D%20%60%DCdv%20%FAjra%2C%20%24%7BappState.teamName%20%7C%7C%20%27%27%7D%21%20A%20j%E1t%E9k%20folytat%F3dik.%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%22Folytat%E1s%22%2C%20msg%2C%20null%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20100%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Hiba%20az%20%E1llapot%20bet%F6lt%E9sekor%3A%22%2C%20e%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20deleteSavedGame%28gameId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20localStorage.removeItem%28getStorageKey%28gameId%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20JAV%CDT%C1S%3A%20Ellen%u0151rizz%FCk%2C%20hogy%20van-e%20akt%EDv%20URL%20sz%u0171r%E9s%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20urlParams%20%3D%20new%20URLSearchParams%28window.location.search%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20pGameId%20%3D%20urlParams.get%28%27game%27%29%20%7C%7C%20urlParams.get%28%27id%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20pLoc%20%3D%20urlParams.get%28%27location%27%29%20%7C%7C%20urlParams.get%28%27helyszin%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20pType%20%3D%20urlParams.get%28%27type%27%29%20%7C%7C%20urlParams.get%28%27tipus%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20b%E1rmilyen%20sz%u0171r%u0151%20param%E9ter%20van%20az%20URL-ben%2C%20akkor%20az%20URL%20sz%u0171r%u0151t%20futtatjuk%20%FAjra%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pGameId%20%7C%7C%20pLoc%20%7C%7C%20pType%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Ment%E9s%20t%F6r%F6lve%2C%20URL%20sz%u0171r%E9s%20friss%EDt%E9se...%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleInitialUrlFiltering%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20nincs%20URL%20param%E9ter%2C%20akkor%20a%20leg%F6rd%FCl%u0151%20men%FCk%20%28dropdown%29%20alapj%E1n%20friss%EDt%FCnk%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Ment%E9s%20t%F6r%F6lve%2C%20Dropdown%20sz%u0171r%E9s%20friss%EDt%E9se...%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20applyFilters%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20async%20function%20loadLocalXlsx%28filePath%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27loading-status%27%29.textContent%20%3D%20%60Adatb%E1zis%20bet%F6lt%E9se%20%28%24%7BfilePath%7D%29...%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20response%20%3D%20await%20fetch%28filePath%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21response.ok%29%20throw%20new%20Error%28%60Hiba%3A%20%24%7Bresponse.status%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20arrayBuffer%20%3D%20await%20response.arrayBuffer%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20data%20%3D%20new%20Uint8Array%28arrayBuffer%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20wb%20%3D%20XLSX.read%28data%2C%20%7Btype%3A%27array%27%7D%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20processExcelData%28wb%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27landing-page%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27content-wrapper%27%29.classList.add%28%27hidden%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27loading-status%27%29.textContent%20%3D%20%60Bet%F6lt%E9s%20sikertelen.%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20manualInputLabel%20%3D%20document.getElementById%28%27manual-file-select-label%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28manualInputLabel%29%20manualInputLabel.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20---%20I18N%20---%0A%20%20%20%20%20%20%20%20const%20I18N%20%3D%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20hu%3A%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20correct_title%3A%20%27Helyes%21%27%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20correct_body%3A%20%60%DCgyes%20vagy%21%20%28+%24%7BDEFAULT_SCORE_PER_TASK%7D%20pont%29%60%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20wrong_title%3A%20%27Sajnos%20nem%20j%F3.%27%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20wrong_body%3A%20%60Pr%F3b%E1ld%20%FAjra%21%20Rossz%20v%E1lasz%3A%20-%24%7BWRONG_ANSWER_PENALTY%7D%20pont.%60%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20far_title%3A%20%27M%E9g%20messze%20vagy%27%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20far_body%3A%20%27L%E9pj%20be%20a%20z%F3n%E1ba%20a%20megold%E1s%20bek%FCld%E9s%E9hez%2C%20vagy%20a%20seg%EDts%E9g%20k%E9r%E9s%E9hez%21%27%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20in_zone%3A%20%27A%20c%E9lter%FCleten%20vagy%21%27%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20out_zone%3A%20%28m%29%20%3D%3E%20%60M%E9g%20kb.%20%24%7Bm%7D%20m%E9terre%20vagy%20a%20c%E9lt%F3l.%60%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hint1_body%3A%20%28h%29%20%3D%3E%20%601.%20Seg%EDts%E9g%20%28-%24%7BHINT1_PENALTY%7D%20pont%29%3A%20%24%7Bh%7D%20%60%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hint2_body%3A%20%28h%29%20%3D%3E%20%602.%20Seg%EDts%E9g%20%28-%24%7BHINT2_PENALTY%7D%20pont%29%3A%20%24%7Bh%7D%20%60%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rescue_correct%3A%20%60Megker%FCl%u0151%20sikeres%21%20%28+%24%7BRESCUE_TASK_SCORE%7D%20pont%29%60%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rescue_wrong%3A%20%27Megker%FCl%u0151%20hib%E1s.%20Pr%F3b%E1ld%20%FAjra%21%27%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gps_required%3A%20%27K%E9rj%FCk%2C%20enged%E9lyezd%20a%20GPS-t%20az%20eszk%F6z%F6d%F6n%20a%20kaland%20elind%EDt%E1s%E1hoz.%20Normal%20m%F3dban%20a%20j%E1t%E9k%20csak%20m%u0171k%F6d%u0151%20GPS-szel%20indul%20el.%27%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20const%20t%20%3D%20%28key%2C%20...args%29%20%3D%3E%20I18N.hu%5Bkey%5D%20%3F%20%28typeof%20I18N.hu%5Bkey%5D%20%3D%3D%3D%20%27function%27%20%3F%20I18N.hu%5Bkey%5D%28...args%29%20%3A%20I18N.hu%5Bkey%5D%29%20%3A%20key%3B%0A%0A%20//%20---%20PDF%20GENERATION%20%28Avatarral%20kieg%E9sz%EDtve%29%20---%0A%20%20%20%20%20%20%20function%20downloadPDF%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20element%20%3D%20document.getElementById%28%27pdf-content%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21element%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28true%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27loading-status%27%29.textContent%20%3D%20%22Eredm%E9nylap%20gener%E1l%E1sa...%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20originalStyle%20%3D%20element.style.cssText%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20UNIVERZ%C1LIS%20JAV%CDT%C1S%20%28Desktop%20+%20Mobil%29%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20K%E9nyszer%EDtj%FCk%20a%20sz%E9less%E9get%20A4%20m%E9retre%20%28kb.%20800px%29%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%CDgy%20nem%20%22cs%FAszik%20el%22%20semmilyen%20k%E9perny%u0151n.%0A%20%20%20%20%20%20%20%20%20%20%20%20element.style.width%20%3D%20%27790px%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20element.style.margin%20%3D%20%270%20auto%27%3B%20//%20K%F6z%E9pre%20igaz%EDt%E1s%0A%20%20%20%20%20%20%20%20%20%20%20%20element.style.padding%20%3D%20%2720px%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20element.style.backgroundColor%20%3D%20%27%23ffffff%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20Biztons%E1gos%20bet%u0171t%EDpus%0A%20%20%20%20%20%20%20%20%20%20%20%20element.style.fontFamily%20%3D%20%27Arial%2C%20Helvetica%2C%20sans-serif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20element.style.lineHeight%20%3D%20%271.5%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---------------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20now%20%3D%20new%20Date%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20year%20%3D%20now.getFullYear%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20month%20%3D%20String%28now.getMonth%28%29%20+%201%29.padStart%282%2C%20%270%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20day%20%3D%20String%28now.getDate%28%29%29.padStart%282%2C%20%270%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20hour%20%3D%20String%28now.getHours%28%29%29.padStart%282%2C%20%270%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20minute%20%3D%20String%28now.getMinutes%28%29%29.padStart%282%2C%20%270%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20second%20%3D%20String%28now.getSeconds%28%29%29.padStart%282%2C%20%270%27%29%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20fileNameTimestamp%20%3D%20%60%24%7Byear%7D-%24%7Bmonth%7D-%24%7Bday%7D_%24%7Bhour%7D-%24%7Bminute%7D-%24%7Bsecond%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20safeTeamName%20%3D%20%28appState%20%26%26%20appState.teamName%29%20%3F%20appState.teamName%20%3A%20%27n%E9v%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20safeAvatar%20%3D%20%28appState%20%26%26%20appState.teamAvatar%29%20%3F%20appState.teamAvatar%20%3A%20%27nincs-avatar%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20gameId%20%3D%20window.currentGameId%20%7C%7C%20%27Eredm%E9ny%27%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20fileName%20%3D%20%60MystiGo_%24%7BgameId%7D_%24%7BsafeTeamName%7D_%24%7BsafeAvatar%7D_%24%7BfileNameTimestamp%7D.pdf%60%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20html2pdf%28%29.from%28element%29.set%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%2010%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20filename%3A%20fileName%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20image%3A%20%7B%20type%3A%20%27jpeg%27%2C%20quality%3A%200.98%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20html2canvas%3A%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scale%3A%202%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20logging%3A%20false%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20useCORS%3A%20true%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20letterRendering%3A%20false%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scrollY%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20KULCSFONTOSS%C1G%DA%3A%20A%20virtu%E1lis%20ablak%20sz%E9less%E9ge%20egyezzen%20meg%20az%20elem%20sz%E9less%E9g%E9vel%21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20windowWidth%3A%20800%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20800%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20jsPDF%3A%20%7B%20unit%3A%20%27mm%27%2C%20format%3A%20%27a4%27%2C%20orientation%3A%20%27portrait%27%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29.save%28%29.then%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20element.style.cssText%20%3D%20originalStyle%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27loading-status%27%29.textContent%20%3D%20%22%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29.catch%28err%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22PDF%20gener%E1l%E1si%20hiba%3A%22%2C%20err%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20element.style.cssText%20%3D%20originalStyle%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27loading-status%27%29.textContent%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20500%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0Aasync%20function%20sharePdfViaEmail%28%29%20%7B%0A%20%20%20%20const%20element%20%3D%20document.getElementById%28%27pdf-content%27%29%3B%0A%20%20%20%20if%20%28%21element%29%20return%3B%0A%0A%20%20%20%20const%20originalStyle%20%3D%20element.style.cssText%3B%0A%20%20%20%20%0A%20%20%20%20//%20---%20UNIVERZ%C1LIS%20JAV%CDT%C1S%20ITT%20IS%20---%0A%20%20%20%20element.style.width%20%3D%20%27790px%27%3B%20%0A%20%20%20%20element.style.margin%20%3D%20%270%20auto%27%3B%0A%20%20%20%20element.style.padding%20%3D%20%2720px%27%3B%0A%20%20%20%20element.style.backgroundColor%20%3D%20%27%23ffffff%27%3B%0A%20%20%20%20element.style.fontFamily%20%3D%20%27Arial%2C%20Helvetica%2C%20sans-serif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%27%3B%0A%20%20%20%20element.style.lineHeight%20%3D%20%271.5%27%3B%0A%20%20%20%20//%20----------------------------------%0A%0A%20%20%20%20const%20now%20%3D%20new%20Date%28%29%3B%0A%20%20%20%20const%20year%20%3D%20now.getFullYear%28%29%3B%0A%20%20%20%20const%20month%20%3D%20String%28now.getMonth%28%29%20+%201%29.padStart%282%2C%20%270%27%29%3B%0A%20%20%20%20const%20day%20%3D%20String%28now.getDate%28%29%29.padStart%282%2C%20%270%27%29%3B%0A%20%20%20%20const%20hour%20%3D%20String%28now.getHours%28%29%29.padStart%282%2C%20%270%27%29%3B%0A%20%20%20%20const%20minute%20%3D%20String%28now.getMinutes%28%29%29.padStart%282%2C%20%270%27%29%3B%0A%20%20%20%20const%20second%20%3D%20String%28now.getSeconds%28%29%29.padStart%282%2C%20%270%27%29%3B%20%0A%20%20%20%20%0A%20%20%20%20const%20fileNameTimestamp%20%3D%20%60%24%7Byear%7D-%24%7Bmonth%7D-%24%7Bday%7D_%24%7Bhour%7D-%24%7Bminute%7D-%24%7Bsecond%7D%60%3B%0A%20%20%20%20const%20safeTeamName%20%3D%20%28appState%20%26%26%20appState.teamName%29%20%3F%20appState.teamName%20%3A%20%27n%E9v%27%3B%0A%20%20%20%20const%20safeAvatar%20%3D%20%28appState%20%26%26%20appState.teamAvatar%29%20%3F%20appState.teamAvatar%20%3A%20%27nincs-avatar%27%3B%0A%20%20%20%20const%20gameId%20%3D%20window.currentGameId%20%7C%7C%20%27Eredm%E9ny%27%3B%0A%0A%20%20%20%20const%20fileName%20%3D%20%60MystiGo_%24%7BgameId%7D_%24%7BsafeTeamName%7D_%24%7BsafeAvatar%7D_%24%7BfileNameTimestamp%7D.pdf%60%3B%0A%0A%20%20%20%20showLoading%28true%29%3B%20%0A%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20pdfBlob%20%3D%20await%20html2pdf%28%29.from%28element%29.set%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%2010%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filename%3A%20fileName%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20image%3A%20%7B%20type%3A%20%27jpeg%27%2C%20quality%3A%200.98%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20html2canvas%3A%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scale%3A%202%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20logging%3A%20false%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20useCORS%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20letterRendering%3A%20false%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scrollY%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Fix%20800px%20sz%E9less%E9g%20itt%20is%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20windowWidth%3A%20800%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20800%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20jsPDF%3A%20%7B%20unit%3A%20%27mm%27%2C%20format%3A%20%27a4%27%2C%20orientation%3A%20%27portrait%27%20%7D%0A%20%20%20%20%20%20%20%20%7D%29.output%28%27blob%27%29%3B%0A%0A%20%20%20%20%20%20%20%20const%20file%20%3D%20new%20File%28%5BpdfBlob%5D%2C%20fileName%2C%20%7B%20type%3A%20%27application/pdf%27%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20element.style.cssText%20%3D%20originalStyle%3B%0A%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28navigator.canShare%20%26%26%20navigator.canShare%28%7B%20files%3A%20%5Bfile%5D%20%7D%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20navigator.share%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20files%3A%20%5Bfile%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20%27J%E1t%E9k%20Eredm%E9ny%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%60Sziasztok%21%20Itt%20van%20a%20J%E1t%E9kom%20eredm%E9nye.%20Kaland%3A%20%24%7BgameId%7D%2C%20N%E9v%3A%20%24%7BsafeTeamName%7D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28error.name%20%21%3D%3D%20%27AbortError%27%29%20console.error%28error%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20url%20%3D%20URL.createObjectURL%28pdfBlob%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20a%20%3D%20document.createElement%28%27a%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20a.href%20%3D%20url%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20a.download%20%3D%20fileName%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20a.click%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20URL.revokeObjectURL%28url%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20alert%28%27A%20PDF%20let%F6lt%E9sre%20ker%FClt.%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%20catch%20%28err%29%20%7B%0A%20%20%20%20%20%20%20%20console.error%28%22Hiba%3A%22%2C%20err%29%3B%0A%20%20%20%20%20%20%20%20element.style.cssText%20%3D%20originalStyle%3B%0A%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%0A%0A%0A%20%20%20%20%20%20%20%20//%20---%20CORE%20APP%20%26%20PAGE%20LOGIC%20---%0A%20%20%20%20%20%20%20%20function%20showPage%28pageId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20GA4%20Virtual%20Pageview%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20gtag%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gtag%28%27event%27%2C%20%27page_view%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27page_title%27%3A%20pageId%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27page_location%27%3A%20window.location.href%20+%20%27%23%27%20+%20pageId%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20POZ%CDCI%D3K%20BE%C1LL%CDT%C1SA%20%28JAV%CDTOTT%20-%20330px%29%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20contentWrapperEl%20%3D%20document.getElementById%28%27content-page-wrapper%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20headerEl%20%3D%20document.getElementById%28%27header%27%29%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20T%F6r%F6lj%FCk%20a%20kor%E1bbi%20oszt%E1lyokat%20%E9s%20st%EDlusokat%0A%20%20%20%20%20%20%20%20%20%20%20%20contentWrapperEl.classList.remove%28%27top-40%27%2C%20%27top-52%27%2C%20%27top-32%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20contentWrapperEl.style.top%20%3D%20%27%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20headerEl.style.paddingBottom%20%3D%20%27%27%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pageId%20%3D%3D%3D%20%27game-page%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20J%C1T%C9K%20N%C9ZET%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20headerEl.style.paddingBottom%20%3D%20%2760px%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20contentWrapperEl.style.top%20%3D%20%27115px%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28pageId%20%3D%3D%3D%20%27end-page%27%29%20%7B%0A%20%20%20%20//%20---%20JAV%CDT%C1S%3A%20330px%20helyett%20szabv%E1nyos%20160px%20---%0A%20%20%20%20//%20%CDgy%20a%20g%F6rgethet%u0151%20ter%FClet%20feljebb%20kezd%u0151dik%2C%20nem%20l%F3g%20ki%20a%20k%E9perny%u0151r%u0151l%20mobilon.%0A%20%20%20%20//%20A%20tartalom%20%28Sz%E9p%20munka%20felirat%29%20%EDgy%20is%20l%E1tsz%F3dni%20fog%2C%20de%20biztons%E1gosabb.%0A%20%20%20%20contentWrapperEl.style.top%20%3D%20%27160px%27%3B%20%0A%0A%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20MEN%DC%20%C9S%20EGY%C9B%20OLDALAK%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20contentWrapperEl.style.top%20%3D%20%27160px%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---------------------------------------------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20landingPage%20%3D%20document.getElementById%28%27landing-page%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20contentWrapper%20%3D%20document.getElementById%28%27content-wrapper%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pageId%20%3D%3D%3D%20%27landing-page%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20landingPage.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20contentWrapper.classList.add%28%27translate-y-full%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20landingPage.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20contentWrapper.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20contentWrapper.classList.remove%28%27translate-y-full%27%29%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showContentPage%28pageId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20showContentPage%28pageId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.querySelectorAll%28%27%23content-wrapper%20section%27%29.forEach%28p%20%3D%3E%20p.classList.add%28%27hidden%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28pageId%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20contentWrapper%20%3D%20document.getElementById%28%27content-page-wrapper%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28contentWrapper%29%20contentWrapper.scrollTo%28%7B%20top%3A%200%2C%20behavior%3A%20%27instant%27%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20mainHeader%20%3D%20document.getElementById%28%27main-header%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20statusBar%20%3D%20document.getElementById%28%27game-status-bar%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20exitButton%20%3D%20document.getElementById%28%27exit-game-btn%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20gameHeaderLogoContainer%20%3D%20document.getElementById%28%27game-header-logo-container%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20centerHeaderContent%20%3D%20document.getElementById%28%27center-header-content%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20teamNameContainer%20%3D%20document.getElementById%28%27team-name-container%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20teamNameDisplay%20%3D%20document.getElementById%28%27team-name-display%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20teamAvatarIcon%20%3D%20document.getElementById%28%27game-team-avatar-icon%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20testModeIndicator%20%3D%20document.getElementById%28%27test-mode-indicator%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20mainHeaderLogoRow%20%3D%20document.getElementById%28%27main-header-logo-row%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20titleEl%20%3D%20document.getElementById%28%27page-title%27%29%3B%20//%20%3C---%20ITT%20DEFINI%C1LJUK%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pageId%20%3D%3D%3D%20%27game-page%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mainHeader.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20statusBar.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20exitButton.classList.remove%28%27hidden%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameHeaderLogoContainer.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20centerHeaderContent.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20testModeIndicator.classList.toggle%28%27hidden%27%2C%20%21appState.isTestModeEnabled%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.teamName%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20avatarIcon%20%3D%20AVATAR_ICONS%5BappState.teamAvatar%5D%20%7C%7C%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20teamAvatarIcon.textContent%20%3D%20avatarIcon%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20teamNameDisplay.textContent%20%3D%20appState.teamName%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20teamNameContainer.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20teamNameContainer.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28mainHeaderLogoRow%29%20mainHeaderLogoRow.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mainHeader.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20statusBar.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20exitButton.classList.add%28%27hidden%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameHeaderLogoContainer.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20centerHeaderContent.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20testModeIndicator.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28mainHeaderLogoRow%29%20mainHeaderLogoRow.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20M%D3DOS%CDT%C1S%3A%20C%CDM%20KEZEL%C9SE%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pageId%20%3D%3D%3D%20%27end-page%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20a%20j%E1t%E9k%20v%E9g%E9n%20vagyunk%2C%20ELREJTJ%DCK%20a%20c%EDmet%2C%20csak%20a%20log%F3%20marad%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28titleEl%29%20titleEl.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Minden%20m%E1s%20oldalon%20%28pl.%20Kalandv%E1laszt%F3%29%20MEGJELEN%CDTJ%DCK%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28titleEl%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20titleEl.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20titles%20%3D%20%7B%20%27game-list-page%27%3A%20%27V%E1lassz%20Kalandot%27%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20titleEl.textContent%20%3D%20titles%5BpageId%5D%20%7C%7C%20%27MystiGo%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20-------------------------------%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pageId%20%3D%3D%3D%20%27game-list-page%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Log%F3%20vissza%E1ll%EDt%E1sa%20a%20f%u0151men%FCben%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20mainHeaderLogo%20%3D%20document.getElementById%28%27main-header-logo%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28mainHeaderLogo%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Megn%E9zz%FCk%2C%20hogy%20be%20van-e%20kapcsolva%20a%20Kids%20m%F3d%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isKidsMode%20%3D%20localStorage.getItem%28%27mystigo_pref_kidsMode%27%29%20%3D%3D%3D%20%27true%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ennek%20megfelel%u0151en%20%E1ll%EDtjuk%20be%20a%20k%E9pet%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mainHeaderLogo.src%20%3D%20isKidsMode%20%3F%20%22logo/MystiGo_logo_cat.png%22%20%3A%20%22logo/MystiGo_logo.png%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Object.keys%28games%29.length%20%3E%200%29%20applyFilters%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Object.keys%28games%29.length%20%3E%200%29%20document.getElementById%28%27team-setup%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Titkos%20kapcsol%F3%20vissza%E1ll%EDt%E1sa%20a%20c%EDm%20mell%E9%20%28csak%20ha%20van%20c%EDm%20elem%20%E9s%20l%E1that%F3%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28titleEl%20%26%26%20%21titleEl.classList.contains%28%27hidden%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20secretTrigger%20%3D%20document.createElement%28%27span%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secretTrigger.id%20%3D%20%27secret-trigger%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secretTrigger.className%20%3D%20%27text-brand-orange-500%20cursor-pointer%20ml-1%20font-extrabold%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secretTrigger.textContent%20%3D%20%27%21%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20titleEl.appendChild%28secretTrigger%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27secret-switches-container%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20function%20resetApp%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28speechSynth.speaking%29%20speechSynth.cancel%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.geoWatchId%29%20navigator.geolocation.clearWatch%28appState.geoWatchId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.timerInterval%29%20clearInterval%28appState.timerInterval%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.geofenceTimerInterval%29%20clearInterval%28appState.geofenceTimerInterval%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20J%E1t%E9k%20t%E9rk%E9p%20takar%EDt%E1sa%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.map%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20toggleMapClickMock%28false%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.map.remove%28%29%3B%20appState.map%20%3D%20null%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28manualMarker%29%20%7B%20manualMarker.remove%28%29%3B%20manualMarker%20%3D%20null%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20JAV%CDT%C1S%20KEZDTE%3A%20GPS%20Teszt%20takar%EDt%E1sa%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20gpsContainer%20%3D%20document.getElementById%28%27gps-test-container%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28gpsContainer%29%20gpsContainer.classList.add%28%27hidden%27%29%3B%20//%20Elrejtj%FCk%20a%20dobozt%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Le%E1ll%EDtjuk%20a%20teszt%20figyel%E9s%E9t%2C%20ha%20futna%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20finishGpsTest%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishGpsTest%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20T%F6r%F6lj%FCk%20a%20teszt%20t%E9rk%E9pet%20a%20mem%F3ri%E1b%F3l%2C%20hogy%20legk%F6zelebb%20tiszt%E1n%20induljon%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28gpsTestMap%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gpsTestMap.remove%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gpsTestMap%20%3D%20null%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20gpsTestMarker%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gpsTestCircle%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20JAV%CDT%C1S%20V%C9GE%20---%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27developer-options%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27secret-switches-container%27%29.classList.add%28%27hidden%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20initializeState%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27landing-page%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27content-wrapper%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27content-wrapper%27%29.classList.remove%28%27translate-y-full%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20loadLocalXlsx%28DEFAULT_GAME_FILE%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20showPage%28%27game-list-page%27%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20const%20showLoading%20%3D%20%28show%29%20%3D%3E%20document.getElementById%28%27loading-overlay%27%29.classList.toggle%28%27hidden%27%2C%20%21show%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20showMessage%28title%2C%20body%2C%20onClose%2C%20showCancel%20%3D%20false%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20iPad%20/%20Mobil%20FIX%20KEZDIDE%20---%0A%20%20%20%20%09%09%20%20%20%20%20%20%20%20//%201.%20Ha%20nyitva%20a%20billenty%u0171zet%20%28mert%20a%20beviteli%20mez%u0151n%20van%20a%20f%F3kusz%29%2C%20bez%E1rjuk%0A%20%09%09%20%20%20%20%20%20%20%20%20%20%20if%20%28document.activeElement%20instanceof%20HTMLElement%29%20%7B%0A%20%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.activeElement.blur%28%29%3B%0A%20%20%20%20%20%09%09%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%09%09%09%20%20%20%20%20//%202.%20Azonnal%20a%20tartalom%20tetej%E9re%20g%F6rget%FCnk%2C%20hogy%20az%20ablak%20biztosan%20l%E1that%F3%20legyen%0A%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20window.scrollTo%280%2C%200%29%3B%0A%20%20%20%09%09%09%09%20%20%20%20%20%20%20%20%20const%20contentWrapper%20%3D%20document.getElementById%28%27content-page-wrapper%27%29%3B%0A%20%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20if%20%28contentWrapper%29%20%7B%0A%20%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20contentWrapper.scrollTo%28%7B%20top%3A%200%2C%20behavior%3A%20%27instant%27%20%7D%29%3B%0A%20%20%20%20%09%09%09%09%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%09%09%09%09%20%20//%20---%20iPad%20/%20Mobil%20FIX%20V%C9GE%20---%0A%09%20%20%20%20document.getElementById%28%27message-title%27%29.textContent%20%3D%20title%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27message-body%27%29.innerHTML%20%3D%20DOMPurify.sanitize%28body%2C%20%7B%20ADD_ATTR%3A%20%5B%27style%27%5D%2C%20ADD_TAGS%3A%20%5B%27strong%27%2C%20%27em%27%2C%20%27p%27%2C%20%27br%27%5D%20%7D%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20okButton%20%3D%20document.getElementById%28%27modal-ok-button%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20cancelButton%20%3D%20document.getElementById%28%27modal-cancel-button%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20okButton.textContent%20%3D%20%27Rendben%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cancelButton.classList.add%28%27hidden%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28showCancel%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20okButton.textContent%20%3D%20%27Igen%27%3B%20cancelButton.textContent%20%3D%20%27Nem%27%3B%20cancelButton.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20okButton.onclick%20%3D%20%28%29%20%3D%3E%20%7B%20hideMessage%28%29%3B%20if%28typeof%20onClose%20%3D%3D%3D%20%27function%27%29%20onClose%28%29%3B%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cancelButton.onclick%20%3D%20hideMessage%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20okButton.onclick%20%3D%20%28%29%20%3D%3E%20%7B%20hideMessage%28%29%3B%20if%28typeof%20onClose%20%3D%3D%3D%20%27function%27%29%20onClose%28%29%3B%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20modalCloseCallback%20%3D%20null%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27message-modal%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20hideMessage%28%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27message-modal%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28typeof%20modalCloseCallback%20%3D%3D%3D%20%27function%27%29%20%7B%20modalCloseCallback%28%29%3B%20modalCloseCallback%20%3D%20null%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27modal-ok-button%27%29.onclick%20%3D%20hideMessage%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20showReportModal%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.currentGame%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20checkGeofence%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27report-error-modal%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27error-description-input%27%29.value%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20hideReportModal%28%29%20%7B%20document.getElementById%28%27report-error-modal%27%29.classList.add%28%27hidden%27%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20handleSubmitError%28%29%20%7B%0A%20%20%20%20if%20%28%21appState.currentGame%29%20return%3B%0A%20%20%20%20const%20currentTask%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20appState.currentTaskIndex%29%3B%20%0A%20%20%20%20if%20%28%21currentTask%29%20return%3B%0A%0A%20%20%20%20//%20---%20M%D3DOS%CDT%C1S%20KEZDETE%20---%0A%20%20%20%20//%20Ha%20a%200.%20feladatot%20%28Start%20pont%29%20ugorjuk%20%E1t%2C%20akkor%20el%20kell%20ind%EDtani%20a%20rendszert%21%0A%20%20%20%20if%20%28currentTask.index%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20//%20Ez%20a%20f%FCggv%E9ny%20elind%EDtja%20az%20id%u0151t%2C%20a%20GPS%20r%F6gz%EDt%E9st%2C%20%E9s%20bet%F6lti%20a%20k%F6vetkez%u0151%20feladatot%20%28Task%201%29%0A%20%20%20%20%20%20%20%20startTimersAndGPS%28%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20hideReportModal%28%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20Jelz%FCnk%20a%20felhaszn%E1l%F3nak%2C%20de%20NEM%20h%EDvjuk%20meg%20a%20handleCorrectAnswer-t%2C%0A%20%20%20%20%20%20%20%20//%20mert%20a%20startTimersAndGPS%28%29%20m%E1r%20elv%E9gezte%20a%20lapoz%E1st.%0A%20%20%20%20%20%20%20%20showMessage%28%22J%E1t%E9k%20Elind%EDtva%22%2C%20%22A%20kezd%u0151pontot%20%E1tugrottad.%20A%20j%E1t%E9k%20%E9s%20az%20id%u0151m%E9r%E9s%20elindult%21%22%2C%20null%29%3B%0A%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%7D%0A%20%20%20%20//%20---%20M%D3DOS%CDT%C1S%20V%C9GE%20---%0A%0A%20%20%20%20//%20Ez%20marad%20a%20r%E9gi%20a%20t%F6bbi%20feladathoz%3A%0A%20%20%20%20currentTask.taskScore%20%3D%200%3B%0A%20%20%20%20currentTask.skipped%20%3D%20true%3B%20%0A%20%20%20%20updateStatusDisplays%28%29%3B%20hideReportModal%28%29%3B%0A%20%20%20%20showMessage%28%22%C1tugorva%22%2C%20%22A%20feladatot%20teljes%EDtettnek%20jel%F6lt%FCk%20%280%20pont%29.%20A%20j%E1t%E9k%20folytat%F3dik.%22%2C%20%28%29%20%3D%3E%20%7B%20handleCorrectAnswer%28%29%3B%20%7D%29%3B%0A%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20handleExitGame%28%29%20%7B%20resetApp%28%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20showExitConfirmation%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27Kil%E9p%E9s%27%2C%20%27Biztosan%20vissza%20l%E9psz%20a%20f%u0151men%FCbe%3F%20A%20j%E1t%E9k%20%E1ll%E1sa%20elment%E9sre%20ker%FCl.%27%2C%20handleExitGame%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20---%20DATA%20PROCESSING%20---%0A%20%20%20%20%20%20%20%20function%20assertCols%28obj%2C%20req%2C%20ctx%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20missing%20%3D%20req.filter%28k%20%3D%3E%20%21%28k%20in%20obj%29%20%7C%7C%20obj%5Bk%5D%20%3D%3D%3D%20null%20%7C%7C%20String%28obj%5Bk%5D%29.trim%28%29%20%3D%3D%3D%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28missing.length%20%3E%200%29%20throw%20new%20Error%28%60%27%24%7Bctx%7D%27%20munkalap%20hiba%3A%20A%28z%29%20%24%7Bmissing.map%28m%20%3D%3E%20%60%22%24%7Bm%7D%22%60%29.join%28%27%2C%20%27%29%7D%20mez%u0151%28k%29%20hi%E1nyzik/%FCres.%60%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%0A%20%20%20%20%20%20%20%20function%20processExcelData%28workbook%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gamesSheet%20%3D%20workbook.Sheets%5B%27games%27%5D%2C%20tasksSheet%20%3D%20workbook.Sheets%5B%27tasks%27%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21gamesSheet%20%7C%7C%20%21tasksSheet%29%20throw%20new%20Error%28%22A%20%27games%27%20vagy%20%27tasks%27%20munkalap%20hi%E1nyzik.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20parsedGames%20%3D%20XLSX.utils.sheet_to_json%28gamesSheet%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20parsedTasks%20%3D%20XLSX.utils.sheet_to_json%28tasksSheet%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20combinedGames%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parsedGames.forEach%28game%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Rejtett%20j%E1t%E9k%20flag%20sz%E1m%EDt%E1sa%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isHiddenGame%20%3D%20%28game.isHidden%20%3D%3D%201%20%7C%7C%20String%28game.isHidden%29.trim%28%29.toLowerCase%28%29%20%3D%3D%3D%20%27true%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20assertCols%28game%2C%20%5B%27id%27%2C%20%27title%27%2C%20%27type%27%2C%20%27startLocationLat%27%2C%20%27startLocationLng%27%5D%2C%20%27games%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20lat%20%3D%20parseFloat%28game.startLocationLat%29%2C%20lng%20%3D%20parseFloat%28game.startLocationLng%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20cleanId%20%3D%20String%28game.id%29.trim%28%29%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20JAV%CDT%C1S%3A%20Keres%E9s%20kis/nagybet%u0171%20f%FCggetlen%FCl%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20MaxPlayCount%20%28Helyi%20limit%29%20keres%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20maxPlayKey%20%3D%20Object.keys%28game%29.find%28key%20%3D%3E%20key.toLowerCase%28%29.trim%28%29%20%3D%3D%3D%20%27maxplaycount%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20rawMaxPlayVal%20%3D%20%28maxPlayKey%29%20%3F%20game%5BmaxPlayKey%5D%20%3A%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20maxPlayVal%20%3D%200%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28rawMaxPlayVal%20%21%3D%3D%20undefined%20%26%26%20rawMaxPlayVal%20%21%3D%3D%20null%20%26%26%20String%28rawMaxPlayVal%29.trim%28%29%20%21%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20parsed%20%3D%20parseInt%28rawMaxPlayVal%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isNaN%28parsed%29%29%20maxPlayVal%20%3D%20%28parsed%20%3D%3D%3D%200%29%20%3F%20-1%20%3A%20parsed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20GlobalLimit%20%28Glob%E1lis%20limit%29%20keres%E9se%20-%20EZ%20VOLT%20A%20HIBA%20OKA%21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20globalLimitKey%20%3D%20Object.keys%28game%29.find%28key%20%3D%3E%20key.toLowerCase%28%29.trim%28%29%20%3D%3D%3D%20%27globallimit%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20rawGlobalVal%20%3D%20%28globalLimitKey%29%20%3F%20game%5BglobalLimitKey%5D%20%3A%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20globalLimitVal%20%3D%200%3B%20//%200%20%3D%20Korl%E1tlan%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28rawGlobalVal%20%21%3D%3D%20undefined%20%26%26%20rawGlobalVal%20%21%3D%3D%20null%20%26%26%20String%28rawGlobalVal%29.trim%28%29%20%21%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20parsedGlobal%20%3D%20parseInt%28rawGlobalVal%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isNaN%28parsedGlobal%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20globalLimitVal%20%3D%20parsedGlobal%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%60J%E1t%E9k%20%24%7BcleanId%7D%3A%20Glob%E1lis%20limit%20be%E1ll%EDtva%3A%20%24%7BglobalLimitVal%7D%20f%u0151%60%29%3B%20//%20Logoljuk%20a%20konzolra%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---------------------------------------------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20combinedGames%5BcleanId%5D%20%3D%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20...game%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20cleanId%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isHidden%3A%20isHiddenGame%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20String%28game.type%20%7C%7C%20%27normal%27%29.trim%28%29.toLowerCase%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startLocation%3A%20%7B%20lat%2C%20lng%20%7D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20price%3A%20parseInt%28game.price%20%7C%7C%200%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20headerLogo%3A%20game.headerLogo%20%3F%20String%28game.headerLogo%29.trim%28%29%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reviewUrl%3A%20game.reviewUrl%20%3F%20String%28game.reviewUrl%29.trim%28%29%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20maxPlayCount%3A%20maxPlayVal%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20globalLimit%3A%20globalLimitVal%2C%20//%20Most%20m%E1r%20biztosan%20beker%FCl%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tasks%3A%20%5B%5D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parsedTasks.forEach%28task%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21combinedGames%5Btask.gameId%5D%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20lat%20%3D%20parseFloat%28task.locationLat%29%2C%20lng%20%3D%20parseFloat%28task.locationLng%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20allSolutions%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28task.solution%29%20allSolutions.push%28...String%28task.solution%29.split%28%27%3B%27%29.map%28s%20%3D%3E%20s.trim%28%29%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28task.accepted_answers%29%20allSolutions.push%28...String%28task.accepted_answers%29.split%28%27%3B%27%29.map%28s%20%3D%3E%20s.trim%28%29%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28task.synonyms%29%20allSolutions.push%28...String%28task.synonyms%29.split%28%27%3B%27%29.map%28s%20%3D%3E%20s.trim%28%29%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20acceptedAnswers%20%3D%20Array.from%28new%20Set%28allSolutions.filter%28Boolean%29.map%28a%20%3D%3E%20normalizeAnswer%28a%29%29%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20combinedGames%5Btask.gameId%5D.tasks.push%28%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20...task%2C%20index%3A%20parseInt%28task.index%2C%2010%29%2C%20isStartTask%3A%20false%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20story%3A%20DOMPurify.sanitize%28task.story%20%7C%7C%20%27%27%29%2C%20location%3A%20%7B%20lat%2C%20lng%20%7D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20geofenceRadius%3A%20parseFloat%28task.geofenceRadius%20%7C%7C%20GEOFENCE_DEFAULT_RADIUS%29%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hints%3A%20%5Btask.hint1%2C%20task.hint2%5D.filter%28Boolean%29.map%28h%20%3D%3E%20DOMPurify.sanitize%28h%29%29%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20solution%3A%20String%28task.solution%20%7C%7C%20%27%27%29%2C%20acceptedAnswers%3A%20acceptedAnswers%2C%0A%09%09disableSolution%3A%20%28task.disableSolution%20%3D%3D%201%20%7C%7C%20String%28task.disableSolution%29.toLowerCase%28%29%20%3D%3D%3D%20%27true%27%29%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hintsUsed%3A%200%2C%20timeSpent%3A%200%2C%20taskScore%3A%200%2C%20isTaskTimerActive%3A%20false%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20validatedGames%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20HIBAKERES%C9S%3A%20Sz%E1moljuk%2C%20h%E1ny%20j%E1t%E9kot%20dobunk%20el%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20droppedCount%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28const%20gameId%20in%20combinedGames%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20game%20%3D%20combinedGames%5BgameId%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ellen%u0151rizz%FCk%2C%20hogy%20%E9rv%E9nyes-e%20a%20t%EDpusa%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21%5B%27normal%27%2C%20%27kids%27%2C%20%27team%27%2C%20%27explore%27%5D.includes%28game.type%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.warn%28%60J%E1t%E9k%20kihagyva%20%28%24%7BgameId%7D%29%3A%20%C9rv%E9nytelen%20t%EDpus%20%28%22%24%7Bgame.type%7D%22%29%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20droppedCount++%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.tasks.length%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.warn%28%60J%E1t%E9k%20kihagyva%20%28%24%7BgameId%7D%29%3A%20Nincsenek%20feladatok%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20droppedCount++%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game.tasks.sort%28%28a%2C%20b%29%20%3D%3E%20a.index%20-%20b.index%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20validatedGames%5BgameId%5D%20%3D%20game%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20games%20%3D%20validatedGames%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20DIAGNOSZTIKAI%20ABLAK%20%28Ez%20megmondja%20az%20igazat%21%29%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20loadedIds%20%3D%20Object.keys%28games%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28loadedIds.length%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert%28%22HIBA%3A%20Egyetlen%20j%E1t%E9kot%20sem%20siker%FClt%20bet%F6lteni%21%20Ellen%u0151rizd%20az%20Excel%20f%E1jlt.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Megn%E9zz%FCk%2C%20benne%20van-e%20a%20keresett%20ID%20a%20URL-ben%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20urlParams%20%3D%20new%20URLSearchParams%28window.location.search%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20searchedId%20%3D%20urlParams.get%28%27game%27%29%20%7C%7C%20urlParams.get%28%27id%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28searchedId%20%26%26%20%21games%5BsearchedId.trim%28%29%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert%28%60HIBAKERES%C9S%3A%5CnA%20rendszer%20bet%F6lt%F6tt%20%24%7BloadedIds.length%7D%20db%20j%E1t%E9kot%2C%20de%20a%20keresett%20%22%24%7BsearchedId%7D%22%20NINCS%20k%F6zt%FCk.%5Cn%5CnBet%F6lt%F6tt%20ID-k%3A%5Cn%60%20+%20loadedIds.join%28%22%5Cn%22%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20-----------------------------------------------------%0A%0A%0A//%20---%20SZ%u0170R%u0150%20DOBOZ%20LENYIT%C1SA%20/%20BECSUK%C1SA%20---%0A%20%20%20%20%20%20%20%20window.toggleFilterSection%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20content%20%3D%20document.getElementById%28%27filter-content%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20icon%20%3D%20document.getElementById%28%27filter-toggle-icon%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21content%20%7C%7C%20%21icon%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28content.classList.contains%28%27hidden%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Kinyit%E1s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20icon.textContent%20%3D%20%27%u2013%27%3B%20//%20M%EDnusz%20jel%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20icon.classList.remove%28%27text-brand-orange-500%27%29%3B%20//%20Opcion%E1lis%20sz%EDnv%E1lt%E1s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20icon.classList.add%28%27text-brand-blue%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Bez%E1r%E1s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20icon.textContent%20%3D%20%27+%27%3B%20//%20Plusz%20jel%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20icon.classList.add%28%27text-brand-orange-500%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20icon.classList.remove%28%27text-brand-blue%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20populateLocationFilter%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Most%20h%EDvjuk%20meg%20a%20sz%u0171r%u0151t%20-%20biztosan%20van%20m%E1r%20adat%21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28window.checkUrlParametersAndFilter%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20checkUrlParametersAndFilter%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showPage%28%27game-list-page%27%29%3B%0A%09%09handleInitialUrlFiltering%28%29%3B%0A%09%09autoSortGamesByDistance%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27Feldolgoz%E1si%20Hiba%27%2C%20%60Hiba%3A%20%24%7Berror.message%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20---%20UI%20RENDERING%20---%0A%20%20%20%20%20%20%20%20function%20renderGameList%28gamesToRender%20%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20listEl%20%3D%20document.getElementById%28%27game-list%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20listEl.innerHTML%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20...%20%28A%20rendez%E9si%20%E9s%20sz%u0171r%E9si%20logika%20v%E1ltozatlan%20marad%29%20...%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20...%20%28sourceData%2C%20rawArray%2C%20displayableGames%20stb.%29%20...%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20sourceData%20%3D%20gamesToRender%20%7C%7C%20games%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20rawArray%20%3D%20Object.values%28sourceData%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28rawArray.length%20%3E%200%20%26%26%20typeof%20rawArray%5B0%5D._calculatedDistance%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rawArray.sort%28%28a%2C%20b%29%20%3D%3E%20a._calculatedDistance%20-%20b._calculatedDistance%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20displayableGames%20%3D%20rawArray.filter%28game%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20...%20%28itt%20marad%20a%20megl%E9v%u0151%20sz%u0171r%E9si%20logik%E1d%29%20...%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%28csak%20a%20helytakar%E9koss%E1g%20miatt%20nem%20m%E1solom%20be%20az%20eg%E9szet%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28gamesToRender%29%20return%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28window.showHiddenGames%29%20return%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.isHidden%29%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20playCount%20%3D%20parseInt%28localStorage.getItem%28%27MystiGo_Perm_Count_%27%20+%20game.id%29%20%7C%7C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20oldBooleanSave%20%3D%20localStorage.getItem%28%27MystiGo_Perm_Completed_%27%20+%20game.id%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28playCount%20%3D%3D%3D%200%20%26%26%20oldBooleanSave%20%3D%3D%3D%20%27true%27%29%20playCount%20%3D%201%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isManuallyDisabled%20%3D%20%28game.maxPlayCount%20%3D%3D%3D%20-1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isLimitReached%20%3D%20%28game.maxPlayCount%20%3E%200%20%26%26%20playCount%20%3E%3D%20game.maxPlayCount%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isManuallyDisabled%20%7C%7C%20isLimitReached%29%20return%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28displayableGames.length%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20...%20%28%FCres%20lista%20kezel%E9se%20marad%29%20...%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20listEl.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22text-center%20p-8%20bg-gray-50%20rounded-xl%20border%20border-gray-200%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-gray-500%20font-semibold%22%3ENincs%20a%20sz%u0171r%E9snek%20megfelel%u0151%20j%E1t%E9k.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22applyFilters%28%29%22%20class%3D%22text-brand-blue%20underline%20mt-2%20text-sm%22%3ESz%u0171r%u0151k%20friss%EDt%E9se%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21gamesToRender%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20populateLocationFilter%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20currentLimit%20%3D%20appState.visibleGamesLimit%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20visibleGames%20%3D%20displayableGames.slice%280%2C%20currentLimit%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20visibleGames.forEach%28game%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20hasSave%20%3D%20localStorage.getItem%28getStorageKey%28game.id%29%29%20%21%3D%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20placeholderImage%20%3D%20%60https%3A//placehold.co/600x300/%24%7Bgame.type%20%3D%3D%3D%20%27kids%27%20%3F%20%27FFF8E1%27%20%3A%20%27E0F7FA%27%7D/%24%7Bgame.type%20%3D%3D%3D%20%27kids%27%20%3F%20%27F57C00%27%20%3A%20%270A2B4C%27%7D%3Ftext%3D%24%7BencodeURIComponent%28game.title%29%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20...%20%28t%EDpus%20badge%2C%20priceText%2C%20locationBadge%20logika%20v%E1ltozatlan%29%20...%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20gameTypeBadge%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.type%20%3D%3D%3D%20%27kids%27%29%20gameTypeBadge%20%3D%20%60%3Cspan%20class%3D%22inline-flex%20items-center%20rounded-full%20bg-yellow-100%20px-3%20py-0.5%20text-xs%20font-medium%20text-yellow-800%22%3EKids%20%uD83D%uDC08%3C/span%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28game.type%20%3D%3D%3D%20%27team%27%29%20gameTypeBadge%20%3D%20%60%3Cspan%20class%3D%22inline-flex%20items-center%20rounded-full%20bg-indigo-100%20px-3%20py-0.5%20text-xs%20font-medium%20text-indigo-800%22%3ETeam%20%uD83E%uDDD1%u200D%uD83E%uDD1D%u200D%uD83E%uDDD1%3C/span%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28game.type%20%3D%3D%3D%20%27explore%27%29%20gameTypeBadge%20%3D%20%60%3Cspan%20class%3D%22inline-flex%20items-center%20rounded-full%20bg-cyan-100%20px-3%20py-0.5%20text-xs%20font-medium%20text-cyan-800%22%3EExplore%20%uD83C%uDF0D%3C/span%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20gameTypeBadge%20%3D%20%60%3Cspan%20class%3D%22inline-flex%20items-center%20rounded-full%20bg-green-100%20px-3%20py-0.5%20text-xs%20font-medium%20text-green-800%22%3ENormal%20%uD83E%uDDED%3C/span%3E%60%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20priceText%20%3D%20game.price%20%3E%200%20%3F%20%60%24%7Bgame.price.toLocaleString%28%27hu-HU%27%29%7D%20Ft%60%20%3A%20%27Ingyenes%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gameTitleForMessage%20%3D%20game.title.replace%28/%27/g%2C%20%22%5C%5C%27%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20locationBadge%20%3D%20game.location%20%3F%20%60%3Cspan%20class%3D%22text-xs%20text-gray-500%20font-semibold%20flex%20items-center%20mt-1%22%3E%3Csvg%20class%3D%22w-3%20h-3%20mr-1%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22currentColor%22%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M17.657%2016.657L13.414%2020.9a1.998%201.998%200%2001-2.827%200l-4.244-4.243a8%208%200%201111.314%200z%22%20/%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M15%2011a3%203%200%2011-6%200%203%203%200%20016%200z%22%20/%3E%3C/svg%3E%24%7Bgame.location%7D%3C/span%3E%60%20%3A%20%27%27%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20...%20%28playCount%2C%20contentOpacityClass%2C%20saveIndicator%20logika%20v%E1ltozatlan%29%20...%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20playCount%20%3D%20parseInt%28localStorage.getItem%28%27MystiGo_Perm_Count_%27%20+%20game.id%29%20%7C%7C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20oldBooleanSave%20%3D%20localStorage.getItem%28%27MystiGo_Perm_Completed_%27%20+%20game.id%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28playCount%20%3D%3D%3D%200%20%26%26%20oldBooleanSave%20%3D%3D%3D%20%27true%27%29%20playCount%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isManuallyDisabled%20%3D%20%28game.maxPlayCount%20%3D%3D%3D%20-1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isLimitReached%20%3D%20%28game.maxPlayCount%20%3E%200%20%26%26%20playCount%20%3E%3D%20game.maxPlayCount%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20contentOpacityClass%20%3D%20%22%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20completedBadge%20%3D%20%22%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21window.showHiddenGames%20%26%26%20%28isLimitReached%20%7C%7C%20isManuallyDisabled%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20contentOpacityClass%20%3D%20%22opacity-40%20grayscale%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isManuallyDisabled%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20completedBadge%20%3D%20%60%3Cdiv%20class%3D%22bg-gray-600%20text-white%20text-xs%20font-bold%20px-2%20py-1%20rounded%20absolute%20top-2%20right-2%20shadow-md%20z-20%22%3E%uD83D%uDD12%20JELENLEG%20NEM%20EL%C9RHET%u0150%3C/div%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20completedBadge%20%3D%20%60%3Cdiv%20class%3D%22bg-green-600%20text-white%20text-xs%20font-bold%20px-2%20py-1%20rounded%20absolute%20top-2%20right-2%20shadow-md%20z-20%22%3ETELJES%CDTVE%20%28%24%7BplayCount%7D/%24%7Bgame.maxPlayCount%7D%29%20%u2705%3C/div%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20saveIndicator%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20cardBorder%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasSave%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20saveIndicator%20%3D%20%60%3Cdiv%20class%3D%22bg-brand-orange%20text-white%20text-xs%20font-bold%20px-2%20py-1%20rounded%20absolute%20top-2%20left-2%20shadow-md%20z-20%22%3EMENTVE%3C/div%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cardBorder%20%3D%20%22border-2%20border-brand-orange%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20T%E1vols%E1g%20badge%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20distanceBadge%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game._calculatedDistance%20%21%3D%3D%20undefined%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20distText%20%3D%20game._calculatedDistance%20%3E%20100%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20Math.round%28game._calculatedDistance%29%20+%20%22%20km%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20game._calculatedDistance.toFixed%281%29%20+%20%22%20km%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distanceBadge%20%3D%20%60%3Cdiv%20class%3D%22bg-blue-600%20text-white%20text-xs%20font-bold%20px-2%20py-1%20rounded%20absolute%20bottom-2%20left-2%20shadow-md%20z-20%20flex%20items-center%20gap-1%22%3E%uD83D%uDCCD%20%24%7BdistText%7D%3C/div%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20-----------------------------------------------------%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20%DAJ%20K%D3D%3A%20LIMIT%20JELV%C9NY%20%28Jobb%20als%F3%20sarok%20a%20k%E9pen%29%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20-----------------------------------------------------%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20limitBadgeHtml%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.globalLimit%20%26%26%20game.globalLimit%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20limitBadgeHtml%20%3D%20%60%3Cdiv%20id%3D%22limit-badge-%24%7Bgame.id%7D%22%20class%3D%22bg-grey-200%20text-white%20text-xs%20font-bold%20px-2%20py-1%20rounded%20absolute%20bottom-2%20right-2%20shadow-md%20z-20%20flex%20items-center%20gap-1%20backdrop-blur-sm%20bg-opacity-20%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22text-%5B10px%5D%22%3E%uD83D%uDC65%3C/span%3E%20%3Cspan%20class%3D%22loading-dots%22%3E...%3C/span%3E%20/%20%24%7Bgame.globalLimit%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20-----------------------------------------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20deleteButtonHtml%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasSave%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20deleteButtonHtml%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22event.stopPropagation%28%29%3B%20deleteSavedGame%28%27%24%7Bgame.id%7D%27%29%3B%22%20class%3D%22absolute%20top-2%20right-2%20bg-red-500%20text-white%20p-1%20rounded-full%20hover%3Abg-red-600%20shadow-md%20z-30%22%20title%3D%22%DAjrakezd%E9s%20%28Ment%E9s%20t%F6rl%E9se%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-4%20h-4%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22currentColor%22%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M19%207l-.867%2012.142A2%202%200%200116.138%2021H7.862a2%202%200%2001-1.995-1.858L5%207m5%204v6m4-6v6m1-10V4a1%201%200%2000-1-1h-4a1%201%200%2000-1%201v3M4%207h16%22%20/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20leaderboardBtnHtml%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22event.stopPropagation%28%29%3B%20openLeaderboardModal%28%27%24%7Bgame.id%7D%27%29%3B%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20class%3D%22absolute%20bottom-4%20right-4%20bg-white%20text-brand-blue%20border%20border-gray-200%20p-2%20rounded-full%20shadow-lg%20hover%3Abg-brand-orange%20hover%3Atext-white%20hover%3Ascale-110%20transition-all%20z-30%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20title%3D%22Ranglista%20megtekint%E9se%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%uD83C%uDFC6%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20listEl.innerHTML%20+%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22content-card%20overflow-hidden%20cursor-pointer%20hover%3Ashadow-xl%20transition-shadow%20relative%20%24%7BcardBorder%7D%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onclick%3D%22handleGameSelect%28%27%24%7Bgame.id%7D%27%2C%20%27%24%7BgameTitleForMessage%7D%27%2C%20%27%24%7Bgame.type%7D%27%2C%20%27%24%7BpriceText%7D%27%2C%20%24%7BhasSave%7D%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BsaveIndicator%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BcompletedBadge%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BdeleteButtonHtml%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BleaderboardBtnHtml%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22relative%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20src%3D%22%24%7Bgame.imageUrl%20%7C%7C%20placeholderImage%7D%22%20alt%3D%22%24%7Bgame.title%7D%22%20class%3D%22h-40%20w-full%20object-cover%20%24%7BcontentOpacityClass%7D%22%20onerror%3D%22this.onerror%3Dnull%3Bthis.src%3D%27%24%7BplaceholderImage%7D%27%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BdistanceBadge%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BlimitBadgeHtml%7D%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-5%20%24%7BcontentOpacityClass%7D%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20justify-between%20items-start%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%20class%3D%22text-xl%20font-bold%20text-text-heading%22%3E%24%7Bgame.title%7D%3C/h3%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BgameTypeBadge%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BlocationBadge%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-text-dark%20mt-1%20text-sm%22%3E%24%7Bgame.description%20%7C%7C%20%27Nincs%20le%EDr%E1s%20megadva.%27%7D%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-xs%20font-semibold%20mt-3%20text-brand-orange-500%20pr-10%22%3E%24%7BpriceText%7D%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BhasSave%20%3F%20%27%3Cp%20class%3D%22text-xs%20font-bold%20text-green-600%20mt-2%22%3EKattints%20a%20folytat%E1shoz%21%3C/p%3E%27%20%3A%20%27%27%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%22Tov%E1bbiak%20bet%F6lt%E9se%22%20gomb%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28displayableGames.length%20%3E%20currentLimit%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20remaining%20%3D%20displayableGames.length%20-%20currentLimit%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20listEl.innerHTML%20+%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-center%20pt-4%20pb-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22loadMoreGames%28%29%22%20class%3D%22bg-white%20border-2%20border-gray-200%20text-gray-500%20hover%3Atext-brand-blue%20hover%3Aborder-brand-blue%20font-bold%20py-3%20px-6%20rounded-full%20shadow-sm%20transition%20w-full%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Tov%E1bbi%20kalandok%20bet%F6lt%E9se%20%28%24%7Bremaining%7D%20db%29%20%u25BC%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20----------------------------------------------------------------%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20%DAJ%20K%D3D%3A%20Adatok%20bet%F6lt%E9se%20a%20gener%E1l%E1s%20ut%E1n%20%28ASZINKRON%29%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20----------------------------------------------------------------%0A%20%20%20%20%20%20%20%20%20%20%20%20visibleGames.forEach%28game%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Csak%20akkor%20k%E9rdezz%FCk%20le%2C%20ha%20van%20limit%2C%20k%FCl%F6nben%20felesleges%20terhel%E9s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.globalLimit%20%26%26%20game.globalLimit%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28window.getGameCurrentCount%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window.getGameCurrentCount%28game.id%29.then%28count%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20badgeEl%20%3D%20document.getElementById%28%60limit-badge-%24%7Bgame.id%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28badgeEl%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isFull%20%3D%20count%20%3E%3D%20game.globalLimit%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Tartalom%20friss%EDt%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20badgeEl.innerHTML%20%3D%20%60%3Cspan%20class%3D%22text-%5B10px%5D%22%3E%uD83D%uDC65%3C/span%3E%20%24%7Bcount%7D%20/%20%24%7Bgame.globalLimit%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20betelt%2C%20pirosra%20v%E1ltjuk%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isFull%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20badgeEl.classList.remove%28%27bg-grey-200%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20badgeEl.classList.add%28%27bg-red-600%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20badgeEl.title%20%3D%20%22A%20limit%20betelt%21%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20----------------------------------------------------------------%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%0A%0A%0A%0A//%20---%20%DAJ%20SZ%u0170R%u0150%20F%DCGGV%C9NYEK%20---%0A%20%20%20%20%20%20%20function%20populateLocationFilter%28%29%20%7B%0A%20%20%20%20const%20locationSelect%20%3D%20document.getElementById%28%27filter-location%27%29%3B%0A%20%20%20%20if%20%28%21locationSelect%29%20return%3B%0A%0A%20%20%20%20//%20Megjegyezz%FCk%2C%20mi%20volt%20kiv%E1lasztva%0A%20%20%20%20const%20currentValue%20%3D%20locationSelect.value%3B%0A%20%20%20%20const%20locations%20%3D%20new%20Set%28%29%3B%0A%20%20%20%20%0A%20%20%20%20Object.values%28games%29.forEach%28game%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20//%20---%20M%D3DOS%CDT%C1S%3A%20Ha%20nem%20vagyunk%20fejleszt%u0151i%20m%F3dban%2C%20rejtj%FCk%20a%20rejtetteket%20---%0A%20%20%20%20%20%20%20%20if%20%28%21window.showHiddenGames%20%26%26%20game.isHidden%29%20return%3B%20%0A%20%20%20%20%20%20%20%20//%20------------------------------------------------------------------------%0A%0A%20%20%20%20%20%20%20%20const%20rawLocation%20%3D%20String%28game.location%20%7C%7C%20%22%22%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28rawLocation%20%26%26%20rawLocation%20%21%3D%3D%20%27Egy%E9b%27%20%26%26%20rawLocation%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20parts%20%3D%20rawLocation.split%28%27%2C%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20parts.forEach%28part%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20cleanLoc%20%3D%20part.trim%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28cleanLoc%29%20locations.add%28cleanLoc%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20//%20Opci%F3k%20%FAjra%E9p%EDt%E9se%0A%20%20%20%20locationSelect.innerHTML%20%3D%20%27%3Coption%20value%3D%22all%22%3E%D6sszes%20Helysz%EDn%3C/option%3E%27%3B%0A%20%20%20%20Array.from%28locations%29.sort%28%28a%2C%20b%29%20%3D%3E%20a.localeCompare%28b%2C%20%27hu%27%29%29.forEach%28loc%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20option%20%3D%20document.createElement%28%27option%27%29%3B%0A%20%20%20%20%20%20%20%20option.value%20%3D%20loc%3B%0A%20%20%20%20%20%20%20%20option.textContent%20%3D%20loc%3B%0A%20%20%20%20%20%20%20%20locationSelect.appendChild%28option%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20//%20Vissza%E1ll%EDtjuk%20a%20kiv%E1laszt%E1st%0A%20%20%20%20if%20%28Array.from%28locationSelect.options%29.some%28option%20%3D%3E%20option.value%20%3D%3D%3D%20currentValue%29%29%20%7B%0A%20%20%20%20%20%20%20%20locationSelect.value%20%3D%20currentValue%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20locationSelect.value%20%3D%20%27all%27%3B%0A%20%20%20%20%7D%0A%7D%0A%0A//%20---%20EZ%20HI%C1NYZOTT%3A%20Sz%u0171r%E9s%20v%E9grehajt%E1sa%20---%0Afunction%20applyFilters%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20locSelect%20%3D%20document.getElementById%28%27filter-location%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20typeSelect%20%3D%20document.getElementById%28%27filter-type%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20searchInput%20%3D%20document.getElementById%28%27filter-search%27%29%3B%20//%20%DAJ%20MEZ%u0150%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21locSelect%20%7C%7C%20%21typeSelect%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20location%20%3D%20locSelect.value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20type%20%3D%20typeSelect.value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Keres%E9si%20sz%F6veg%20kisbet%u0171s%EDtve%20%E9s%20sz%F3k%F6z%F6k%20n%E9lk%FCl%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20searchTerm%20%3D%20searchInput%20%3F%20searchInput.value.toLowerCase%28%29.trim%28%29%20%3A%20%27%27%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20MINDIG%20vissza%E1ll%EDtjuk%20a%20limitet%205-re%20%FAj%20sz%u0171r%E9skor%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.visibleGamesLimit%20%3D%205%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20HA%20MINDEN%20ALAP%C9RTELMEZETT%20%28Nincs%20sz%u0171r%E9s%20%E9s%20nincs%20keres%E9s%20sem%29%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28location%20%3D%3D%3D%20%27all%27%20%26%26%20type%20%3D%3D%3D%20%27all%27%20%26%26%20searchTerm%20%3D%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentFilteredGames%20%3D%20null%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20renderGameList%28null%29%3B%20//%20Alap%20lista%20%285%20db%20+%20load%20more%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20filteredGames%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.values%28games%29.forEach%28game%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21window.showHiddenGames%20%26%26%20game.isHidden%29%20return%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20Helysz%EDn%20sz%u0171r%E9s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20locMatch%20%3D%20%28location%20%3D%3D%3D%20%27all%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21locMatch%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gameLocs%20%3D%20game.location%20%3F%20String%28game.location%29.split%28%27%2C%27%29.map%28s%20%3D%3E%20s.trim%28%29%29%20%3A%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20locMatch%20%3D%20gameLocs.includes%28location%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20T%EDpus%20sz%u0171r%E9s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20typeMatch%20%3D%20%28type%20%3D%3D%3D%20%27all%27%20%7C%7C%20game.type%20%3D%3D%3D%20type%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%203.%20%DAJ%3A%20Sz%F6veges%20keres%E9s%20%28ID%2C%20C%EDm%2C%20Helysz%EDn%2C%20T%EDpus%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20searchMatch%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28searchTerm%20%21%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%D6sszef%u0171zz%FCk%20a%20kereshet%u0151%20mez%u0151ket%20egy%20hossz%FA%20stringg%E9%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20searchableText%20%3D%20%60%24%7Bgame.id%7D%20%24%7Bgame.title%7D%20%24%7Bgame.location%7D%20%24%7Bgame.type%7D%60.toLowerCase%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Megn%E9zz%FCk%2C%20benne%20van-e%20a%20keresett%20sz%F3%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20searchMatch%20%3D%20searchableText.includes%28searchTerm%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Csak%20akkor%20adjuk%20hozz%E1%2C%20ha%20MINDEN%20felt%E9tel%20igaz%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28locMatch%20%26%26%20typeMatch%20%26%26%20searchMatch%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20filteredGames%5Bgame.id%5D%20%3D%20game%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Elmentj%FCk%20%E9s%20kirajzoljuk%20a%20tal%E1latokat%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.currentFilteredGames%20%3D%20filteredGames%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20renderGameList%28filteredGames%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A//%20---%20%DAJ%20AUTOMATIKUS%20RENDEZ%u0150%20F%DCGGV%C9NY%20---%0A%20%20%20%20%20%20%20%20//%20---%20JAV%CDTOTT%20GPS%20RENDEZ%C9S%20%28WatchPosition%20tr%FCkk%29%20---%0Awindow.autoSortGamesByDistance%20%3D%20function%28%29%20%7B%0A%20%20%20%20if%20%28%21navigator.geolocation%29%20return%3B%0A%0A%20%20%20%20console.log%28%22%uD83D%uDCCD%20Automatikus%20GPS%20rendez%E9s%20ind%EDt%E1sa...%22%29%3B%0A%0A%20%20%20%20//%20Ez%20a%20tr%FCkk%3A%20watchPosition-t%20haszn%E1lunk%2C%20mert%20az%20er%u0151sebben%20%22k%E9nyszer%EDti%22%20a%20telefont%0A%20%20%20%20//%20a%20poz%EDci%F3%20friss%EDt%E9s%E9re%2C%20mint%20a%20sima%20getCurrentPosition.%0A%20%20%20%20const%20geoOptions%20%3D%20%7B%0A%20%20%20%20%20%20%20%20enableHighAccuracy%3A%20true%2C%20//%20Megpr%F3b%E1ljuk%20a%20pontos%20helyet%0A%20%20%20%20%20%20%20%20timeout%3A%2010000%2C%20%20%20%20%20%20%20%20%20%20%20//%2010%20m%E1sodpercig%20pr%F3b%E1lkozunk%0A%20%20%20%20%20%20%20%20maximumAge%3A%200%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Nem%20fogadunk%20el%20r%E9gi%20%28cache-elt%29%20adatot%2C%20frisset%20k%E9r%FCnk%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20const%20watchId%20%3D%20navigator.geolocation.watchPosition%28%0A%20%20%20%20%20%20%20%20%28position%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20SIKERES%20POZ%CDCI%D3SZERZ%C9S%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20userLat%20%3D%20position.coords.latitude%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20userLng%20%3D%20position.coords.longitude%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20accuracy%20%3D%20position.coords.accuracy%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%60%uD83D%uDCCD%20Poz%EDci%F3%20megvan%21%20Pontoss%E1g%3A%20%24%7Baccuracy%7Dm%60%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Mivel%20megvan%20a%20poz%EDci%F3%2C%20azonnal%20le%E1ll%EDtjuk%20a%20figyel%E9st%2C%20hogy%20ne%20fogyassza%20az%20akkut%0A%20%20%20%20%20%20%20%20%20%20%20%20navigator.geolocation.clearWatch%28watchId%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20T%E1vols%E1gok%20kisz%E1m%EDt%E1sa%20minden%20j%E1t%E9khoz%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.values%28games%29.forEach%28game%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.startLocation%20%26%26%20game.startLocation.lat%20%26%26%20game.startLocation.lng%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20dist%20%3D%20haversineDistance%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20lat%3A%20userLat%2C%20lng%3A%20userLng%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20lat%3A%20game.startLocation.lat%2C%20lng%3A%20game.startLocation.lng%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game._calculatedDistance%20%3D%20dist%20/%201000%3B%20//%20km%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game._calculatedDistance%20%3D%2099999%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Lista%20%FAjrarajzol%E1sa%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Fontos%3A%20Az%20%E9ppen%20aktu%E1lis%20sz%u0171r%E9st%20%28appState.currentFilteredGames%29%20adjuk%20%E1t%20neki%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20hogy%20ne%20%E1ll%EDtsa%20vissza%20a%20list%E1t%20alap%E1llapotba%2C%20ha%20a%20user%20k%F6zben%20sz%u0171rt.%0A%20%20%20%20%20%20%20%20%20%20%20%20renderGameList%28appState.currentFilteredGames%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%28error%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Hiba%20eset%E9n%20%28pl.%20timeout%20vagy%20letilt%E1s%29%20csak%20logolunk%2C%20nem%20zavarjuk%20a%20felhaszn%E1l%F3t%0A%20%20%20%20%20%20%20%20%20%20%20%20console.warn%28%22Automatikus%20GPS%20rendez%E9s%20nem%20siker%FClt%3A%22%2C%20error.message%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20timeout%20volt%20%28k%F3d%3A%203%29%2C%20megpr%F3b%E1lhatjuk%20%FAjra%20laz%E1bb%20be%E1ll%EDt%E1sokkal%20%28opcion%E1lis%29%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28error.code%20%3D%3D%3D%203%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22%DAjrapr%F3b%E1lkoz%E1s%20alacsonyabb%20pontoss%E1ggal...%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20navigator.geolocation.getCurrentPosition%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28pos%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20itt%20siker%FCl%2C%20ugyanaz%20a%20logika%20fut%20le...%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%28Egyszer%u0171s%EDt%E9s%20v%E9gett%20itt%20most%20nem%20duplik%E1lom%20a%20k%F3dot%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20a%20watchPosition%20%E1ltal%E1ban%20megoldja%20a%20gondot%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20enableHighAccuracy%3A%20false%2C%20timeout%3A%2015000%2C%20maximumAge%3A%2060000%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20geoOptions%0A%20%20%20%20%29%3B%0A%7D%3B%0A%0A//%20---%20%DAJ%20F%DCGGV%C9NY%3A%20T%E1vols%E1g%20alap%FA%20rendez%E9s%20%28JAV%CDTVA%3A%20L%E1that%F3s%E1g%20sz%u0171r%E9ssel%29%20---%0A%20%20%20%20%20%20%20%20window.sortGamesNearby%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20btn%20%3D%20document.getElementById%28%27btn-sort-nearby%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20status%20%3D%20document.getElementById%28%27nearby-status%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21navigator.geolocation%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert%28%22A%20b%F6ng%E9sz%u0151d%20nem%20t%E1mogatja%20a%20helymeghat%E1roz%E1st.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20UI%20visszajelz%E9s%0A%20%20%20%20%20%20%20%20%20%20%20%20btn.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22animate-spin%20h-4%20w-4%20border-2%20border-brand-blue%20border-t-transparent%20rounded-full%22%3E%3C/div%3E%20Helyzet%20lek%E9r%E9se...%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20btn.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20status.textContent%20%3D%20%22GPS%20jel%20keres%E9se...%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20status.classList.remove%28%27hidden%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20navigator.geolocation.getCurrentPosition%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28position%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20userLat%20%3D%20position.coords.latitude%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20userLng%20%3D%20position.coords.longitude%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status.textContent%20%3D%20%22T%E1vols%E1gok%20sz%E1m%EDt%E1sa%20%E9s%20sz%u0171r%E9s...%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gamesArray%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20sortedGames%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20J%E1t%E9kok%20feldolgoz%E1sa%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Object.values%28games%29.forEach%28game%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20JAV%CDT%C1S%20ITT%3A%20Sz%u0171r%E9s%20a%20l%E1that%F3s%E1g%20alapj%E1n%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20NEM%20vagyunk%20fejleszt%u0151i%20m%F3dban%20%28showHiddenGames%20hamis%29%2C%20akkor%20sz%u0171r%FCnk%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21window.showHiddenGames%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20Rejtett%20j%E1t%E9kok%20kisz%u0171r%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.isHidden%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20Nem%20j%E1tszhat%F3%20%28Letiltott%29%20j%E1t%E9kok%20kisz%u0171r%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.maxPlayCount%20%3D%3D%3D%20-1%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20------------------------------------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.startLocation%20%26%26%20game.startLocation.lat%20%26%26%20game.startLocation.lng%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20dist%20%3D%20haversineDistance%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20lat%3A%20userLat%2C%20lng%3A%20userLng%20%7D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20lat%3A%20game.startLocation.lat%2C%20lng%3A%20game.startLocation.lng%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game._calculatedDistance%20%3D%20dist%20/%201000%3B%20//%20km%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game._calculatedDistance%20%3D%2099999%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gamesArray.push%28game%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Rendez%E9s%20%28legkisebb%20el%u0151l%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gamesArray.sort%28%28a%2C%20b%29%20%3D%3E%20a._calculatedDistance%20-%20b._calculatedDistance%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Visszaalak%EDt%E1s%20objektumm%E1%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gamesArray.forEach%28game%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sortedGames%5Bgame.id%5D%20%3D%20game%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Be%E1ll%EDtjuk%2C%20hogy%20ez%20a%20%22sz%u0171rt%22%20lista%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentFilteredGames%20%3D%20sortedGames%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.visibleGamesLimit%20%3D%205%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%DAjrarajzol%E1s%20%28Most%20m%E1r%20csak%20a%20sz%u0171rt%20elemeket%20tartalmazza%20a%20sortedGames%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20renderGameList%28sortedGames%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20UI%20vissza%E1ll%EDt%E1s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20btn.innerHTML%20%3D%20%60%uD83D%uDCCD%20J%E1t%E9kok%20a%20k%F6zelemben%20%28Friss%EDtve%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20btn.classList.add%28%27bg-green-50%27%2C%20%27border-green-500%27%2C%20%27text-green-700%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20btn.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status.textContent%20%3D%20%60Sikeres%20rendez%E9s%20a%20poz%EDci%F3d%20alapj%E1n.%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20btn.innerHTML%20%3D%20%60%uD83D%uDCCD%20J%E1t%E9kok%20a%20k%F6zelemben%20%28T%E1vols%E1g%20szerint%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20btn.classList.remove%28%27bg-green-50%27%2C%20%27border-green-500%27%2C%20%27text-green-700%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%205000%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28error%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22GPS%20Hiba%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert%28%22Nem%20siker%FClt%20lek%E9rni%20a%20helyzeted.%20K%E9rlek%2C%20enged%E9lyezd%20a%20GPS-t%21%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20btn.innerHTML%20%3D%20%60%uD83D%uDCCD%20J%E1t%E9kok%20a%20k%F6zelemben%20%28T%E1vols%E1g%20szerint%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20btn.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20enableHighAccuracy%3A%20true%2C%20timeout%3A%2010000%2C%20maximumAge%3A%2060000%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%0A%0A%0A%20%20//%20---%20%DAJ%2C%20BIZTOSABB%20URL%20SZ%u0170R%u0150%20LOGIKA%20%28Adat-vez%E9relt%29%20---%0A%20%20%20%20%20%20%20%20function%20handleInitialUrlFiltering%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20urlParams%20%3D%20new%20URLSearchParams%28window.location.search%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Param%E9terek%20kiolvas%E1sa%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20pGameId%20%3D%20urlParams.get%28%27game%27%29%20%7C%7C%20urlParams.get%28%27id%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20pLoc%20%3D%20urlParams.get%28%27location%27%29%20%7C%7C%20urlParams.get%28%27helyszin%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20pType%20%3D%20urlParams.get%28%27type%27%29%20%7C%7C%20urlParams.get%28%27tipus%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20nincs%20semmilyen%20param%E9ter%2C%20nem%20csin%E1lunk%20semmit%20%28minden%20l%E1tszik%29%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21pGameId%20%26%26%20%21pLoc%20%26%26%20%21pType%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22%uD83D%uDD0D%20URL%20Sz%u0171r%E9s%20akt%EDv%3A%22%2C%20%7B%20pGameId%2C%20pLoc%2C%20pType%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20filteredGames%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20matchFound%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20%DAJ%20BLOKK%20KEZDETE%20%28Rejtett%20j%E1t%E9kok%20list%E1z%E1sa%29%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pType%20%3D%3D%3D%20%27hidden%27%20%7C%7C%20pType%20%3D%3D%3D%20%27rejtett%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Object.values%28games%29.forEach%28game%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.isHidden%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20filteredGames%5Bgame.id%5D%20%3D%20game%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20matchFound%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28matchFound%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Rejtett%20j%E1t%E9kok%20list%E1z%E1sa...%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20FONTOS%3A%20Itt%20is%20el%20kell%20menteni%20az%20%E1llapotot%21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentFilteredGames%20%3D%20filteredGames%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20renderGameList%28filteredGames%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateFilterUI%28null%2C%20%27hidden%27%2C%20null%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert%28%22Nincsenek%20rejtett%20j%E1t%E9kok%20az%20adatb%E1zisban.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20----------------------------------------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20ESET%3A%20Konkr%E9t%20j%E1t%E9k%20ID%20keres%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pGameId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20searchKey%20%3D%20pGameId.trim%28%29.toLowerCase%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20realId%20%3D%20Object.keys%28games%29.find%28id%20%3D%3E%20id.trim%28%29.toLowerCase%28%29%20%3D%3D%3D%20searchKey%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28realId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20filteredGames%5BrealId%5D%20%3D%20games%5BrealId%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20matchFound%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22%u2705%20J%E1t%E9k%20megtal%E1lva%3A%22%2C%20realId%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28games%5BrealId%5D.headerLogo%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20mainHeaderLogo%20%3D%20document.getElementById%28%27main-header-logo%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28mainHeaderLogo%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mainHeaderLogo.src%20%3D%20games%5BrealId%5D.headerLogo%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.warn%28%22%u274C%20A%20keresett%20j%E1t%E9k%20ID%20nem%20tal%E1lhat%F3%3A%22%2C%20pGameId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert%28%60A%20k%E9rt%20j%E1t%E9k%20%28%24%7BpGameId%7D%29%20nem%20tal%E1lhat%F3.%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20ESET%3A%20Helysz%EDn%20%E9s/vagy%20T%EDpus%20sz%u0171r%E9s%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Object.values%28games%29.forEach%28game%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20locMatch%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20typeMatch%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pLoc%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gameLocs%20%3D%20%28game.location%20%7C%7C%20%22%22%29.toLowerCase%28%29.split%28%27%2C%27%29.map%28s%20%3D%3E%20s.trim%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20searchLoc%20%3D%20pLoc.toLowerCase%28%29.trim%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20locMatch%20%3D%20gameLocs.some%28l%20%3D%3E%20l.includes%28searchLoc%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pType%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.type%20%21%3D%3D%20pType.toLowerCase%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20typeMatch%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28locMatch%20%26%26%20typeMatch%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20filteredGames%5Bgame.id%5D%20%3D%20game%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20matchFound%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%203.%20EREDM%C9NY%20KIRAJZOL%C1SA%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28matchFound%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20EZT%20A%20SORT%20KELLETT%20HOZZ%C1ADNI%3A%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentFilteredGames%20%3D%20filteredGames%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20--------------------------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20renderGameList%28filteredGames%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateFilterUI%28pLoc%2C%20pType%2C%20pGameId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20nincs%20tal%E1lat%2C%20null%E1zzuk%20a%20sz%u0171rt%20%E1llapotot%20is%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentFilteredGames%20%3D%20null%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27game-list%27%29.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-center%20p-8%20bg-red-50%20rounded-xl%20border%20border-red-200%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-red-600%20font-bold%22%3ENincs%20tal%E1lat%20a%20megadott%20felt%E9telekre.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22window.location.href%3Dwindow.location.pathname%22%20class%3D%22text-brand-blue%20underline%20mt-2%20text-sm%22%3E%D6sszes%20j%E1t%E9k%20mutat%E1sa%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%0A%20%20%20%20%20%20%20%20//%20Seg%E9df%FCggv%E9ny%20a%20Dropdown-ok%20be%E1ll%EDt%E1s%E1hoz%20%28Csak%20vizu%E1lis%21%29%0A%20%20%20%20%20%20%20%20function%20updateFilterUI%28locParam%2C%20typeParam%2C%20gameIdParam%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20filterContainer%20%3D%20document.getElementById%28%27filter-container%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20locSelect%20%3D%20document.getElementById%28%27filter-location%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20typeSelect%20%3D%20document.getElementById%28%27filter-type%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20M%D3DOS%CDT%C1S%3A%20Ha%20b%E1rmilyen%20URL%20param%E9ter%20van%2C%20ELREJTJ%DCK%20a%20dobozt%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28gameIdParam%20%7C%7C%20locParam%20%7C%7C%20typeParam%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28filterContainer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20filterContainer.classList.add%28%27hidden%27%29%3B%20//%20Teljesen%20elt%FCnteti%20a%20sz%u0171r%u0151%20dobozt%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Mivel%20elrejtett%FCk%2C%20nem%20kell%20tov%E1bb%20%E1ll%EDtgatni%20a%20select-eket%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20NINCS%20param%E9ter%2C%20biztos%EDtjuk%2C%20hogy%20l%E1that%F3%20legyen%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28filterContainer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20filterContainer.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20INNENT%u0150L%20A%20R%C9GI%20LOGIKA%20%28Csak%20akkor%20fut%20le%2C%20ha%20nincs%20URL%20sz%u0171r%E9s%29%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Helysz%EDn%20be%E1ll%EDt%E1sa%20%28ha%20manu%E1lisan%20h%EDvn%E1nk%20meg%20k%E9s%u0151bb%29%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28locParam%20%26%26%20locSelect%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20option%20%3D%20Array.from%28locSelect.options%29.find%28opt%20%3D%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opt.value.toLowerCase%28%29.includes%28locParam.toLowerCase%28%29%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28option%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20locSelect.value%20%3D%20option.value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20T%EDpus%20be%E1ll%EDt%E1sa%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeParam%20%26%26%20typeSelect%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20typeSelect.value%20%3D%20typeParam.toLowerCase%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20async%20function%20handleGameSelect%28gameId%2C%20title%2C%20type%2C%20price%2C%20hasSave%2C%20skipConfirmation%20%3D%20false%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%201.%20MENT%C9S%20KEZEL%C9SE%20%28Els%u0151dleges%20priorit%E1s%29%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasSave%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20loadGameById%28gameId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%202.%20%DAJ%20J%C1T%C9K%20IND%CDT%C1SI%20LOGIKA%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20gameConfig%20%3D%20games%5BgameId%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20A.%20J%E1t%E9k%20korl%E1t%20%E9s%20tilt%E1s%20ellen%u0151rz%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21window.showHiddenGames%20%26%26%20gameConfig%20%26%26%20gameConfig.maxPlayCount%20%3D%3D%3D%20-1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27Nem%20el%E9rhet%u0151%20%uD83D%uDD12%27%2C%20%60Ez%20a%20kaland%20%28%24%7Btitle%7D%29%20jelenleg%20nem%20el%E9rhet%u0151%20vagy%20fejleszt%E9s%20alatt%20%E1ll.%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Sz%E1ml%E1l%F3%20lek%E9r%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20playCount%20%3D%20parseInt%28localStorage.getItem%28%27MystiGo_Perm_Count_%27%20+%20gameId%29%20%7C%7C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20oldBooleanSave%20%3D%20localStorage.getItem%28%27MystiGo_Perm_Completed_%27%20+%20gameId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28playCount%20%3D%3D%3D%200%20%26%26%20oldBooleanSave%20%3D%3D%3D%20%27true%27%29%20%7B%20playCount%20%3D%201%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20B.%20Limit%20ellen%u0151rz%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21window.showHiddenGames%20%26%26%20gameConfig%20%26%26%20gameConfig.maxPlayCount%20%3E%200%20%26%26%20playCount%20%3E%3D%20gameConfig.maxPlayCount%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27Limit%20El%E9rve%21%20%uD83C%uDFC6%27%2C%20%60Ezt%20a%20kalandot%20%28%24%7Btitle%7D%29%20%F6sszesen%20%24%7BgameConfig.maxPlayCount%7D%20alkalommal%20lehet%20v%E9gigj%E1tszani%2C%20%E9s%20te%20m%E1r%20%24%7BplayCount%7D-szer%20teljes%EDtetted.%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20C.%20Adatok%20valid%E1l%E1sa%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20nameInput%20%3D%20document.getElementById%28%27team-name-input%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20avatarSelect%20%3D%20document.getElementById%28%27team-avatar-select%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20lowerName%20%3D%20nameInput.value.toLowerCase%28%29%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%DCres%20n%E9v%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21nameInput.value.trim%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27Hi%E1nyz%F3%20Adat%27%2C%20%27K%E9rlek%2C%20adj%20meg%20egy%20%3Cstrong%3ENevet%3C/strong%3E%20a%20j%E1t%E9k%20ind%EDt%E1s%E1hoz%21%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20a%20t%E9rk%E9pr%u0151l%20j%F6v%FCnk%2C%20be%20kell%20z%E1rni%20a%20modalt%2C%20hogy%20l%E1ssa%20a%20mez%u0151t%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28skipConfirmation%29%20window.closeGameMap%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nameInput.scrollIntoView%28%7Bbehavior%3A%20%22smooth%22%2C%20block%3A%20%22center%22%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nameInput.focus%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Tr%E1g%E1r%20sz%u0171r%E9s%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20containsBadWord%20%3D%20badWordsList.some%28word%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28word.length%20%3C%3D%203%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20regex%20%3D%20new%20RegExp%28%60%5C%5Cb%24%7Bword%7D%5C%5Cb%60%2C%20%27i%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20regex.test%28lowerName%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20lowerName.includes%28word%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28containsBadWord%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27Nem%20megfelel%u0151%20n%E9v%27%2C%20%27A%20v%E1lasztott%20n%E9v%20nem%20enged%E9lyezett%20kifejez%E9st%20tartalmaz.%3Cbr%3EK%E9rlek%2C%20v%E1lassz%20m%E1sikat%21%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28skipConfirmation%29%20window.closeGameMap%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nameInput.scrollIntoView%28%7Bbehavior%3A%20%22smooth%22%2C%20block%3A%20%22center%22%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nameInput.focus%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nameInput.classList.add%28%27border-red-500%27%2C%20%27ring-2%27%2C%20%27ring-red-500%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20nameInput.classList.remove%28%27border-red-500%27%2C%20%27ring-2%27%2C%20%27ring-red-500%27%29%2C%203000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Avatar%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21avatarSelect.value%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27Hi%E1nyz%F3%20Adat%27%2C%20%27K%E9rlek%2C%20v%E1lassz%20egy%20%3Cstrong%3EAvatart%3C/strong%3E%20a%20j%E1t%E9k%20ind%EDt%E1s%E1hoz%21%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28skipConfirmation%29%20window.closeGameMap%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20avatarSelect.scrollIntoView%28%7Bbehavior%3A%20%22smooth%22%2C%20block%3A%20%22center%22%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20avatarSelect.focus%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20//%20D.%20FIREBASE%20LIMIT%20ELLEN%u0150RZ%C9S%20%28CSAK%20OLVAS%C1S%20-%20EL%u0150SZ%u0170R%C9S%29%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20limitFromExcel%20%3D%20gameConfig.globalLimit%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20van%20limit%20megadva%2C%20azt%20haszn%E1ljuk%2C%20ha%20nincs%2C%20akkor%201%20milli%F3t%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20MAX_PLAYERS%20%3D%20%28limitFromExcel%20%26%26%20limitFromExcel%20%3E%200%29%20%3F%20parseInt%28limitFromExcel%29%20%3A%201000000%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20MINDIG%20ellen%u0151rizz%FCk%20a%20Firebase-t%2C%20kiv%E9ve%20ha%20m%E1r%20ment%E9sb%u0151l%20t%F6lt%FCnk%20vissza%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28window.checkGameLimitOnly%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27loading-status%27%29.textContent%20%3D%20%22Szabad%20helyek%20ellen%u0151rz%E9se...%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20ITT%20AZ%20%DAJ%20F%DCGGV%C9NYT%20H%CDVJUK%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20allowed%20%3D%20await%20window.checkGameLimitOnly%28gameId%2C%20MAX_PLAYERS%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27loading-status%27%29.textContent%20%3D%20%22%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21allowed%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27A%20j%E1t%E9k%20betelt%21%20%uD83C%uDFAB%27%2C%20%60Sajn%E1ljuk%2C%20a%28z%29%20%3Cstrong%3E%24%7Btitle%7D%3C/strong%3E%20kaland%20jelenleg%20el%E9rte%20a%20maxim%E1lisan%20j%E1tszhat%F3%20sz%E1mot%20%28%24%7BMAX_PLAYERS%7D%20j%E1t%E9kos%29.%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20//%20Itt%20meg%E1ll%EDtjuk%20a%20folyamatot%2C%20nem%20t%F6lt%20be%20a%20t%E9rk%E9p%20sem%21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Hiba%20az%20el%u0151sz%u0171r%E9sn%E9l%3A%22%2C%20e%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27Hiba%27%2C%20%27Nem%20siker%FClt%20ellen%u0151rizni%20a%20szabad%20helyeket.%20Internetkapcsolat%20sz%FCks%E9ges%21%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20E.%20V%E9gs%u0151%20meger%u0151s%EDt%E9s%20%E9s%20Ind%EDt%E1s%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20ITT%20A%20V%C1LTOZ%C1S%3A%20Ha%20skipConfirmation%20igaz%2C%20r%F6gt%F6n%20ind%EDtunk%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28skipConfirmation%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20requestGpsAndStart%28gameId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27Kaland%20Ind%EDt%E1sa%27%2C%20%60Biztosan%20elind%EDtod%20a%28z%29%20%3Cstrong%3E%24%7Btitle%7D%3C/strong%3E%20kalandot%3F%60%2C%20%28%29%20%3D%3E%20requestGpsAndStart%28gameId%29%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20formatTime%28seconds%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20minutes%20%3D%20String%28Math.floor%28seconds%20/%2060%29%29.padStart%282%2C%20%270%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20secs%20%3D%20String%28seconds%20%25%2060%29.padStart%282%2C%20%270%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%60%24%7Bminutes%7D%3A%24%7Bsecs%7D%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A//%20---%20JAV%CDTOTT%20ID%u0150Z%CDT%u0150%20LOGIKA%20%28PONTOSABB%20+%20SZINKRONIZ%C1LT%29%20---%0A%20%20%20%20%20%20%20%20let%20lastTimeUpdate%20%3D%200%3B%0A%20%20%20%20%20%20%20%20let%20timeAccumulator%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20function%20updateTimer%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.isTimerRunning%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20now%20%3D%20Date.now%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21lastTimeUpdate%29%20lastTimeUpdate%20%3D%20now%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20dt%20%3D%20now%20-%20lastTimeUpdate%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20lastTimeUpdate%20%3D%20now%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20timeAccumulator%20+%3D%20dt%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20eltelt%20legal%E1bb%201%20m%E1sodperc%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28timeAccumulator%20%3E%3D%201000%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20secondsToAdd%20%3D%20Math.floor%28timeAccumulator%20/%201000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20timeAccumulator%20%25%3D%201000%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20Teljes%20id%u0151%20n%F6vel%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.totalTime%20+%3D%20secondsToAdd%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20Feladat%20id%u0151%20n%F6vel%E9se%20%28csak%20ha%20a%20feladat%20akt%EDv%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20currentTask%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20appState.currentTaskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentTask%20%26%26%20currentTask.isTaskTimerActive%20%26%26%20%21currentTask.isStartTask%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.geofenceTime%20+%3D%20secondsToAdd%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20currentTask.timeSpent%20%3D%3D%3D%20%27undefined%27%29%20currentTask.timeSpent%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentTask.timeSpent%20+%3D%20secondsToAdd%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20geoTimerDisplay%20%3D%20document.getElementById%28%27geofence-timer-display%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28geoTimerDisplay%29%20geoTimerDisplay.textContent%20%3D%20formatTime%28appState.geofenceTime%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20BIZTONS%C1GI%20SZINKRONIZ%C1CI%D3%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ez%20jav%EDtja%20a%20hib%E1t%3A%20A%20teljes%20id%u0151%20sosem%20lehet%20kevesebb%2C%20mint%20a%20r%E9szid%u0151%21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.totalTime%20%3C%20appState.geofenceTime%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.totalTime%20%3D%20appState.geofenceTime%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---------------------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20UI%20Friss%EDt%E9s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20timerDisplay%20%3D%20document.getElementById%28%27timer-display%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28timerDisplay%29%20timerDisplay.textContent%20%3D%20formatTime%28appState.totalTime%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ritk%E1bb%20ment%E9s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.totalTime%20%25%205%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20saveGameState%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%0A%20%20%20//%20ASYNC%20lett%20a%20f%FCggv%E9ny%2C%20mert%20v%E1rni%20kell%20a%20Firebase-re%0A%20%20%20%20%20%20async%20function%20startTimersAndGPS%28%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20Hang%20felold%E1sa%20%28iOS%20kompatibilit%E1s%29%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28window.AudioContext%20%7C%7C%20window.webkitAudioContext%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20AudioCtxt%20%3D%20window.AudioContext%20%7C%7C%20window.webkitAudioContext%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20ctx%20%3D%20new%20AudioCtxt%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.resume%28%29.then%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20osc%20%3D%20ctx.createOscillator%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gain%20%3D%20ctx.createGain%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gain.gain.value%20%3D%200.001%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20osc.connect%28gain%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gain.connect%28ctx.destination%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20osc.start%280%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20osc.stop%280.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%20console.log%28%22Audio%20unlock%20hiba%20%28nem%20kritikus%29%3A%22%2C%20e%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.isTimerRunning%29%20return%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20TOKEN%20LEVON%C1S%20%28SZIGOR%DA%20%C9S%20MINDIG%20FUT%D3%20VERZI%D3%29%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20limitFromExcel%20%3D%20appState.currentGame.globalLimit%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%200%20vagy%20%FCres%2C%20akkor%20v%E9gtelen%20%281%20milli%F3%29%2C%20egy%E9bk%E9nt%20a%20be%EDrt%20sz%E1m%20%28pl.%2010%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20MAX_PLAYERS%20%3D%20%28limitFromExcel%20%26%26%20limitFromExcel%20%3E%200%29%20%3F%20parseInt%28limitFromExcel%29%20%3A%201000000%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20JAV%CDT%C1S%3A%20KIVETT%DCK%20A%20FELT%C9TELEKET%21%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Mostant%F3l%20MINDEN%20ind%EDt%E1sn%E1l%20fut%20a%20tranzakci%F3.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ez%20l%E9trehozza%20a%20%27count%27%20v%E1ltoz%F3t%20a%20Firebase-ben%20%E9s%20n%F6veli%201-gyel.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20window.checkGameLimitAndIncrement%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27loading-status%27%29.textContent%20%3D%20%22Token%20%E9rv%E9nyes%EDt%E9se...%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Tranzakci%F3%20h%EDv%E1sa%3A%20Megpr%F3b%E1ljuk%20n%F6velni%20a%20sz%E1ml%E1l%F3t%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20allowed%20%3D%20await%20window.checkGameLimitAndIncrement%28appState.currentGame.id%2C%20MAX_PLAYERS%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27loading-status%27%29.textContent%20%3D%20%22%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21allowed%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20HA%20A%20LIMIT%20BETELT%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27Sajnos%20elk%E9st%E9l%21%20%uD83D%uDE14%27%2C%20%60A%20j%E1t%E9k%20kerete%20betelt%20%28Max%3A%20%24%7BMAX_PLAYERS%7D%20f%u0151%29.%20Sajnos%20nem%20tudod%20elind%EDtani.%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20//%20MEG%C1LLJ%21%20Nem%20indul%20az%20%F3ra%2C%20nem%20indul%20a%20j%E1t%E9k.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Ind%EDt%E1si%20hiba%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20h%E1l%F3zati%20hiba%20van%2C%20NEM%20engedj%FCk%20tov%E1bb%2C%20mert%20akkor%20megker%FClhet%u0151%20lenne%20a%20limit%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27Hiba%20t%F6rt%E9nt%27%2C%20%27Nem%20siker%FClt%20%E9rv%E9nyes%EDteni%20a%20j%E1t%E9k%20ind%EDt%E1s%E1t%20%28Limit%20vagy%20H%E1l%F3zat%29.%20Pr%F3b%E1ld%20%FAjra%21%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20//%20MEG%C1LLJ%21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---------------------------------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%203.%20J%C1T%C9K%20START%20LOGIKA%20%28Csak%20akkor%20fut%20le%2C%20ha%20a%20fenti%20token%20levon%E1s%20sikeres%20volt%29%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22J%E1t%E9k%20ind%EDt%E1sa...%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.startTime%20%3D%20new%20Date%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.isTimerRunning%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20T%F6r%F6lj%FCk%20a%20r%E9gi%20id%u0151z%EDt%u0151ket%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.timerInterval%29%20clearInterval%28appState.timerInterval%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Azonnal%20ind%EDtjuk%20az%20id%u0151z%EDt%u0151t%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.timerInterval%20%3D%20setInterval%28updateTimer%2C%201000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Id%u0151z%EDt%u0151%20v%E1ltoz%F3k%20null%E1z%E1sa%0A%20%20%20%20%20%20%20%20%20%20%20%20lastTimeUpdate%20%3D%20Date.now%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20timeAccumulator%20%3D%200%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20UI%20friss%EDt%E9sek%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame.taskOrder%20%3D%3D%3D%20%27explore%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.completedTasks.indexOf%280%29%20%3D%3D%3D%20-1%29%20appState.completedTasks.push%280%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showTaskSelectionMap%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Norm%E1l%20m%F3d%3A%20ugr%E1s%20az%201.%20feladatra%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame.tasks.length%20%3E%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20nextTaskIndex%20%3D%20appState.currentGame.tasks%5B1%5D.index%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentTaskIndex%20%3D%20nextTaskIndex%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20loadTask%28appState.currentTaskIndex%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%22Hiba%22%2C%20%22Ehhez%20a%20j%E1t%E9khoz%20nincsenek%20feladatok%20t%F6ltve.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.map%29%20checkGeofence%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStatusDisplays%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20saveGameState%28%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20updateStatusDisplays%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.currentGame%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27score-display%27%29.textContent%20%3D%20appState.score%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20totalTasks%20%3D%20appState.currentGame.tasks.length%20-%201%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20displayedTask%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame.taskOrder%20%3D%3D%3D%20%27explore%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayedTask%20%3D%20appState.completedTasks.filter%28index%20%3D%3E%20index%20%3E%200%29.length%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20currentIndexInArray%20%3D%20appState.currentGame.tasks.findIndex%28t%20%3D%3E%20t.index%20%3D%3D%3D%20appState.currentTaskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayedTask%20%3D%20%28currentIndexInArray%20%3E%200%29%20%3F%20currentIndexInArray%20%3A%200%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27task-progress-display%27%29.textContent%20%3D%20%60%24%7BdisplayedTask%7D%20/%20%24%7BtotalTasks%7D%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20shuffleArray%28array%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28let%20i%20%3D%20array.length%20-%201%3B%20i%20%3E%200%3B%20i--%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20j%20%3D%20Math.floor%28Math.random%28%29%20*%20%28i%20+%201%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Barray%5Bi%5D%2C%20array%5Bj%5D%5D%20%3D%20%5Barray%5Bj%5D%2C%20array%5Bi%5D%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20array%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20startGame%28gameId%2C%20modeOverride%20%3D%20null%29%20%7B%0A//%20---%20GOOGLE%20ANALYTICS%20M%C9R%C9S%20BEILLESZT%C9SE%20---%0A%20%20%20%20if%20%28typeof%20gtag%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20gtag%28%27event%27%2C%20%27game_start%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%27game_id%27%3A%20gameId%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%27game_mode%27%3A%20modeOverride%20%7C%7C%20%27normal%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%27team_name%27%3A%20document.getElementById%28%27team-name-input%27%29.value%20%7C%7C%20%27unknown%27%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%09window.currentGameId%20%3D%20gameId%3B%0A%09%09if%20%28speechSynth.speaking%29%20speechSynth.cancel%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20gameMode%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28modeOverride%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameMode%20%3D%20modeOverride%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20selectedMode%20%3D%20document.querySelector%28%27input%5Bname%3D%22game_mode_selection%22%5D%3Achecked%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameMode%20%3D%20selectedMode%20%3F%20selectedMode.value%20%3A%20%27normal%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.isTestModeEnabled%20%3D%20%28gameMode%20%3D%3D%3D%20%27test%27%20%7C%7C%20gameMode%20%3D%3D%3D%20%27mock%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.isManualMock%20%3D%20%28gameMode%20%3D%3D%3D%20%27mock%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.isManualMock%20%26%26%20manualMarker%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20manualMarker.remove%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20manualMarker%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.currentGame%20%3D%20JSON.parse%28JSON.stringify%28games%5BgameId%5D%29%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A//%20---%20%DAJ%20K%D3D%3A%20J%E1t%E9k%20fejl%E9c%20log%F3%20be%E1ll%EDt%E1sa%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20gameLogo%20%3D%20document.getElementById%28%27game-header-logo%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28gameLogo%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20van%20egyedi%20logo%2C%20azt%20haszn%E1ljuk%2C%20ha%20nincs%2C%20vissza%E1llunk%20a%20cic%E1sra%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameLogo.src%20%3D%20appState.currentGame.headerLogo%20%7C%7C%20%22logo/MystiGo_logo.png%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20--------------------------------------------%0A%0A%09%20%20%20%20appState.taskOrder%20%3D%20document.getElementById%28%27task-order-select%27%29.value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame.type%20%3D%3D%3D%20%27team%27%20%26%26%20appState.taskOrder%20%21%3D%3D%20%27explore%27%29%20appState.taskOrder%20%3D%20%27random%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28appState.currentGame.type%20%3D%3D%3D%20%27explore%27%29%20appState.taskOrder%20%3D%20%27explore%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.currentGame.taskOrder%20%3D%20appState.taskOrder%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.taskOrder%20%3D%3D%3D%20%27explore%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.completedTasks%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.availableTasks%20%3D%20appState.currentGame.tasks.filter%28t%20%3D%3E%20t.index%20%3E%200%29.map%28t%20%3D%3E%20t.index%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.taskMarkers%20%3D%20%7B%7D%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.currentTaskIndex%20%3D%200%3B%20appState.score%20%3D%200%3B%20appState.totalTime%20%3D%200%3B%20appState.geofenceTime%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.startTime%20%3D%20null%3B%20appState.isTimerRunning%20%3D%20false%3B%20appState.routeCoordinates%20%3D%20%5B%5D%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.teamName%20%3D%20document.getElementById%28%27team-name-input%27%29.value.trim%28%29%20%7C%7C%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.teamAvatar%20%3D%20document.getElementById%28%27team-avatar-select%27%29.value%20%7C%7C%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20startTaskTemplate%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20index%3A%200%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isStartTask%3A%20true%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20location%3A%20appState.currentGame.startLocation%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20geofenceRadius%3A%20GEOFENCE_DEFAULT_RADIUS%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20JAV%CDTOTT%20T%D6RT%C9NET%20FORMAT%C1L%C1S%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20story%3A%20%60%3Cspan%20class%3D%22text-lg%20font-bold%20text-brand-blue%22%3E%24%7BappState.currentGame.title%7D%3C/span%3E%3Cbr%3E%3Cbr%3E%24%7BappState.currentGame.description%7D%3Cbr%3E%3Cbr%3EIndulj%20el%20a%20megjel%F6lt%20Start%20Helysz%EDnre.%20Amikor%20el%E9red%20a%20z%F3n%E1t%2C%20nyomd%20meg%20a%20%3Cstrong%3EKaland%20Ind%EDt%E1sa%3C/strong%3E%20gombot.%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prompt%3A%20%27%27%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hints%3A%20%5B%5D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20solution%3A%20%27%27%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20acceptedAnswers%3A%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hintsUsed%3A%200%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20timeSpent%3A%200%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20taskScore%3A%200%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isTaskTimerActive%3A%20false%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20realTasks%20%3D%20appState.currentGame.tasks.filter%28t%20%3D%3E%20t.index%20%3E%200%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.taskOrder%20%3D%3D%3D%20%27random%27%20%26%26%20realTasks.length%20%3E%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20maxIndex%20%3D%20realTasks.reduce%28%28max%2C%20task%29%20%3D%3E%20Math.max%28max%2C%20task.index%29%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20finalTask%20%3D%20realTasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20maxIndex%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20tasksToShuffle%20%3D%20realTasks.filter%28t%20%3D%3E%20t.index%20%21%3D%3D%20maxIndex%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tasksToShuffle%20%3D%20shuffleArray%28tasksToShuffle%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentGame.tasks%20%3D%20%5B%20startTaskTemplate%2C%20...tasksToShuffle%2C%20...%28finalTask%20%3F%20%5BfinalTask%5D%20%3A%20%5B%5D%29%20%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentGame.tasks%20%3D%20%5BstartTaskTemplate%2C%20...realTasks%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.currentTaskIndex%20%3D%20startTaskTemplate.index%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27timer-display%27%29.textContent%20%3D%20%27%u2014%3A%u2014%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27geofence-timer-display%27%29.textContent%20%3D%20%27%u2014%3A%u2014%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27task-progress-display%27%29.textContent%20%3D%20%600%20/%20%24%7BappState.currentGame.tasks.length%20-%201%7D%60%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval%28appState.timerInterval%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27test-mode-indicator%27%29.classList.toggle%28%27hidden%27%2C%20%21appState.isTestModeEnabled%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20showPage%28%27game-page%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20initializeMap%28%29%3B%0A%09%09if%28appState.map%29%20appState.map.invalidateSize%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20loadTask%28appState.currentTaskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20watchPosition%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateStatusDisplays%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20saveGameState%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20100%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20updateHintButtons%28task%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20hint1Btn%20%3D%20document.getElementById%28%27hint1-btn%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20hint2Btn%20%3D%20document.getElementById%28%27hint2-btn%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20solutionBtn%20%3D%20document.getElementById%28%27solution-btn%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28task.isStartTask%29%20%7B%20hint1Btn.disabled%20%3D%20true%3B%20hint2Btn.disabled%20%3D%20true%3B%20solutionBtn.disabled%20%3D%20true%3B%20return%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20hasHint1%20%3D%20task.hints%20%26%26%20task.hints.length%20%3E%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20hasHint2%20%3D%20task.hints%20%26%26%20task.hints.length%20%3E%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20maxHints%20%3D%20task.hints.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20applyHintState%20%3D%20%28btn%2C%20index%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28task.hintsUsed%20%3E%3D%20index%29%20btn.classList.add%28%27used%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20btn.classList.remove%28%27used%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20btn.disabled%20%3D%20%28index%20%3E%201%20%26%26%20task.hintsUsed%20%3C%20index%20-%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20btn.disabled%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20hint1Btn.disabled%20%3D%20%21hasHint1%20%7C%7C%20applyHintState%28hint1Btn%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20hint2Btn.disabled%20%3D%20%21hasHint2%20%7C%7C%20applyHintState%28hint2Btn%2C%202%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20isFinalTaskInExplore%20%3D%20appState.currentGame.taskOrder%20%3D%3D%3D%20%27explore%27%20%26%26%20appState.availableTasks.length%20%3D%3D%3D%201%3B%20%0A%0A%09%20%20%20%20if%20%28task.disableSolution%29%20%7B%0A%20%20%20%20%20%20%20%20solutionBtn.style.display%20%3D%20%27none%27%3B%20//%20Teljesen%20elt%FCnteti%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20solutionBtn.style.display%20%3D%20%27inline-block%27%3B%20//%20Megjelen%EDti%0A%20%20%20%20%20%20%20%20//%20Csak%20akkor%20akt%EDv%2C%20ha%20elfogytak%20a%20seg%EDts%E9gek%0A%20%20%20%20%20%20%20%20solutionBtn.disabled%20%3D%20%28task.hintsUsed%20%3C%20maxHints%20%7C%7C%20isFinalTaskInExplore%29%3B%0A%20%20%20%20%7D%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.isTestModeEnabled%20%26%26%20%21task.isTaskTimerActive%29%20%7B%20%0A%20%20%20%20%20%20%20%20hint1Btn.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20hint2Btn.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20solutionBtn.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20loadTask%28taskIndex%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28speechSynth.speaking%29%20speechSynth.cancel%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27content-page-wrapper%27%29.scrollTo%28%7B%20top%3A%200%2C%20behavior%3A%20%27instant%27%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20task%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20taskIndex%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21task%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.currentTaskIndex%20%3D%20taskIndex%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20isStartTask%20%3D%20task.isStartTask%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20task.isTaskTimerActive%20%3D%3D%3D%20%27undefined%27%29%20task.isTaskTimerActive%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isStartTask%20%26%26%20task.taskScore%20%21%3D%3D%20DEFAULT_SCORE_PER_TASK%20%26%26%20task.taskScore%20%3D%3D%3D%200%20%26%26%20task.hintsUsed%20%3D%3D%3D%200%29%20task.taskScore%20%3D%20DEFAULT_SCORE_PER_TASK%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28isStartTask%29%20task.taskScore%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27normal-task-content%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27explore-selection-container%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27start-task-button-container%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27google-maps-btn%27%29.classList.remove%28%27hidden%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27report-error-btn%27%29.classList.remove%28%27hidden%27%29%3B%0A%0Aconst%20backBtn%20%3D%20document.getElementById%28%27back-to-map-btn%27%29%3B%0A%20%20%20%20if%20%28backBtn%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28appState.currentGame.taskOrder%20%3D%3D%3D%20%27explore%27%20%26%26%20%21isStartTask%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20backBtn.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20backBtn.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20speakBtn%20%3D%20document.getElementById%28%27speak-story-btn%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28speakBtn%20%26%26%20%28%27speechSynthesis%27%20in%20window%29%29%20speakBtn.style.display%20%3D%20%27block%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28speakBtn%20%26%26%20speakBtn.parentElement%29%20speakBtn.remove%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isStartTask%29%20task.startTime%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27story%27%29.innerHTML%20%3D%20task.story%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27prompt%27%29.innerHTML%20%3D%20task.prompt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27answer-input%27%29.value%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27story-details%27%29.open%20%3D%20true%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28typeof%20task.hintsUsed%20%3D%3D%3D%20%27undefined%27%29%20task.hintsUsed%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isStartTask%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27submit-answer-btn%27%29.disabled%20%3D%20true%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27answer-input%27%29.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateHintButtons%28task%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27answer-input-container%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27hint-buttons-container%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27prompt%27%29.classList.remove%28%27hidden%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27submit-answer-btn%27%29.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27answer-input%27%29.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27hint1-btn%27%29.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27hint2-btn%27%29.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27solution-btn%27%29.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27answer-input-container%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27hint-buttons-container%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27prompt%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame.taskOrder%20%3D%3D%3D%20%27explore%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27start-game-btn%27%29.disabled%20%3D%20false%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27start-task-button-container%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.map%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateTaskMarker%28task.location%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Object.values%28appState.taskMarkers%29.forEach%28m%20%3D%3E%20m.remove%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.taskMarkers%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20checkGeofence%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStatusDisplays%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20handleCorrectAnswer%28%29%20%7B%0A//%20---%20GOOGLE%20ANALYTICS%20M%C9R%C9S%20BEILLESZT%C9SE%20---%0A%20%20%20%20if%20%28typeof%20gtag%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20gtag%28%27event%27%2C%20%27level_up%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%27level%27%3A%20appState.currentTaskIndex%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%27character%27%3A%20appState.teamAvatar%20%7C%7C%20%27none%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%27score%27%3A%20appState.score%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%20%20%20%20%20%20%20%20%20%20%20%20%0A%09%20%20%20%20if%20%28speechSynth.speaking%29%20speechSynth.cancel%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20currentTask%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20appState.currentTaskIndex%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21currentTask%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentTask.timeSpent%20%3D%20appState.geofenceTime%20-%20%28currentTask.startTime%20%7C%7C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentTask.isTaskTimerActive%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentTask.taskScore%20%3E%200%20%26%26%20%21currentTask.isStartTask%29%20appState.score%20+%3D%20currentTask.taskScore%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame.taskOrder%20%3D%3D%3D%20%27explore%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28currentTask%20%26%26%20%21currentTask.isStartTask%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20indexToRemove%20%3D%20appState.availableTasks.indexOf%28appState.currentTaskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28indexToRemove%20%3E%20-1%29%20appState.availableTasks.splice%28indexToRemove%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.completedTasks.indexOf%28currentTask.index%29%20%3D%3D%3D%20-1%29%20appState.completedTasks.push%28currentTask.index%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28appState.availableTasks.length%20%3D%3D%3D%200%29%20endGame%28%29%3B%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentTaskIndex%20%3D%200%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20IDE%20SZ%DARD%20BE%20AZ%20%DAJ%20SORT%3A%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20appState.lastAutoZoomTime%20%3D%200%3B%20//%20K%E9nyszer%EDtett%20zoomol%E1s%20feladat%20megold%E1sa%20ut%E1n%0A%20%20%20%20%20%20%20%20%20%20%20%20%20//%20--------------------------------%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20showTaskSelectionMap%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20currentIndexInArray%20%3D%20appState.currentGame.tasks.findIndex%28t%20%3D%3E%20t.index%20%3D%3D%3D%20appState.currentTaskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20nextIndexInArray%20%3D%20currentIndexInArray%20+%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28nextIndexInArray%20%3C%20appState.currentGame.tasks.length%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20nextTaskIndex%20%3D%20appState.currentGame.tasks%5BnextIndexInArray%5D.index%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20loadTask%28nextTaskIndex%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20endGame%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStatusDisplays%28%29%3B%0A%09%20%20%20%20saveGameState%28%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A//%20---%20JAV%CDTOTT%20ENDGAME%20F%DCGGV%C9NY%20---%0A%20%20%20%20%20%20%20%20function%20endGame%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20GOOGLE%20ANALYTICS%20M%C9R%C9S%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20gtag%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gtag%28%27event%27%2C%20%27game_complete%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27game_id%27%3A%20appState.currentGame%20%3F%20appState.currentGame.id%20%3A%20%27unknown%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27score%27%3A%20appState.score%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27total_time%27%3A%20appState.totalTime%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27team_name%27%3A%20appState.teamName%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20window.currentGameId%20%3D%20appState.currentGame%20%3F%20appState.currentGame.id%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.currentScoreForHighlight%20%3D%20appState.score%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20%DAJ%20R%C9SZ%3A%20Tart%F3s%20teljes%EDt%E9s%20sz%E1ml%E1l%F3%20n%F6vel%E9se%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20countKey%20%3D%20%27MystiGo_Perm_Count_%27%20+%20appState.currentGame.id%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20currentCount%20%3D%20parseInt%28localStorage.getItem%28countKey%29%20%7C%7C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentCount%20%3D%3D%3D%200%20%26%26%20localStorage.getItem%28%27MystiGo_Perm_Completed_%27%20+%20appState.currentGame.id%29%20%3D%3D%3D%20%27true%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentCount%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28countKey%2C%20currentCount%20+%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28%27MystiGo_Perm_Completed_%27%20+%20appState.currentGame.id%2C%20%27true%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28speechSynth.speaking%29%20speechSynth.cancel%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20JAV%CDT%C1S%3A%20A%20GLOB%C1LIS%20SZ%C1ML%C1L%D3KAT%20HASZN%C1LJUK%20%28NEM%20SZ%C1MOLJUK%20%DAJRA%29%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%CDgy%20pont%20ugyanazt%20l%E1tja%20a%20v%E9g%E9n%2C%20mint%20j%E1t%E9k%20k%F6zben%20a%20kijelz%u0151n%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20finalTotalTime%20%3D%20appState.totalTime%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20finalTaskTime%20%3D%20appState.geofenceTime%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20Ment%E9s%20a%20Firebase%20Ranglist%E1ra%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame%20%26%26%20window.saveScoreToFirebase%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window.saveScoreToFirebase%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameId%3A%20appState.currentGame.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20teamName%3A%20appState.teamName%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20teamAvatar%3A%20appState.teamAvatar%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score%3A%20appState.score%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20totalTime%3A%20finalTotalTime%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20geofenceTime%3A%20finalTaskTime%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28window.incrementGameCompletion%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window.incrementGameCompletion%28appState.currentGame.id%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Jelenlegi%20id%u0151%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20endTime%20%3D%20new%20Date%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20formattedEndTime%20%3D%20%60%24%7BendTime.getFullYear%28%29%7D.%24%7BString%28endTime.getMonth%28%29+1%29.padStart%282%2C%270%27%29%7D.%24%7BString%28endTime.getDate%28%29%29.padStart%282%2C%270%27%29%7D%20%24%7BString%28endTime.getHours%28%29%29.padStart%282%2C%270%27%29%7D%3A%24%7BString%28endTime.getMinutes%28%29%29.padStart%282%2C%270%27%29%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Le%E1ll%EDt%E1s%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval%28appState.timerInterval%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.geoWatchId%29%20navigator.geolocation.clearWatch%28appState.geoWatchId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.map%29%20%7B%20appState.map.remove%28%29%3B%20appState.map%20%3D%20null%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28manualMarker%29%20%7B%20manualMarker.remove%28%29%3B%20manualMarker%20%3D%20null%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Log%F3%20csere%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20endPageLogo%20%3D%20document.getElementById%28%27end-page-logo%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28endPageLogo%29%20endPageLogo.src%20%3D%20appState.currentGame.headerLogo%20%7C%7C%20%22logo/MystiGo_logo.png%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20mainHeaderLogo%20%3D%20document.getElementById%28%27main-header-logo%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28mainHeaderLogo%29%20mainHeaderLogo.src%20%3D%20appState.currentGame.headerLogo%20%7C%7C%20%22logo/MystiGo_logo.png%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20HTML%20elemek%20kit%F6lt%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27end-story%27%29.innerHTML%20%3D%20appState.currentGame.endStory%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27final-score%27%29.textContent%20%3D%20appState.score%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27final-team-display%27%29.textContent%20%3D%20appState.teamName%20%7C%7C%20%22N%E9vtelen%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27final-team-avatar-icon%27%29.textContent%20%3D%20AVATAR_ICONS%5BappState.teamAvatar%5D%20%7C%7C%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27end-timestamp%27%29.textContent%20%3D%20%60Befejez%E9s%3A%20%24%7BformattedEndTime%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20JAV%CDTOTT%20ID%u0150KI%CDR%C1S%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27final-time%27%29.textContent%20%3D%20formatTime%28finalTotalTime%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27final-geofence-time%27%29.textContent%20%3D%20formatTime%28finalTaskTime%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20showContentPage%28%27end-page%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Review%20gomb%20kezel%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20reviewBtn%20%3D%20document.getElementById%28%27game-review-btn%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28reviewBtn%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame%20%26%26%20appState.currentGame.reviewUrl%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reviewBtn.href%20%3D%20appState.currentGame.reviewUrl%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reviewBtn.classList.remove%28%27hidden%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reviewBtn.classList.add%28%27block%27%29%3B%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reviewBtn.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reviewBtn.classList.remove%28%27block%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20K%E9zi%20let%F6lt%E9s%20gomb%20l%E1that%F3v%E1%20t%E9tele%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20manualPdfBtn%20%3D%20document.querySelector%28%27button%5Bonclick%3D%22downloadPDF%28%29%22%5D%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28manualPdfBtn%29%20manualPdfBtn.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20T%E9rk%E9p%20rajzol%E1sa%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20oldMapDiv%20%3D%20document.getElementById%28%27route-map%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28oldMapDiv%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20parent%20%3D%20oldMapDiv.parentNode%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20newMapDiv%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newMapDiv.id%20%3D%20%27route-map%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newMapDiv.style.cssText%20%3D%20%22height%3A%20300px%3B%20width%3A%2085%25%3B%20max-width%3A%20500px%3B%20border-radius%3A%201rem%3B%20border%3A%203px%20solid%20%23E0F7FA%3B%20margin%3A%2020px%20auto%3B%20display%3A%20block%3B%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parent.replaceChild%28newMapDiv%2C%20oldMapDiv%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.routeCoordinates.length%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20originalAny3d%20%3D%20L.Browser.any3d%3B%20const%20originalIelt9%20%3D%20L.Browser.ielt9%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20L.Browser.any3d%20%3D%20false%3B%20L.Browser.ielt9%20%3D%20true%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20endMap%20%3D%20L.map%28%27route-map%27%2C%20%7B%20zoomControl%3A%20false%2C%20dragging%3A%20false%2C%20touchZoom%3A%20false%2C%20scrollWheelZoom%3A%20false%2C%20doubleClickZoom%3A%20false%2C%20boxZoom%3A%20false%2C%20keyboard%3A%20false%2C%20tap%3A%20false%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20endMap.attributionControl.setPrefix%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20L.Browser.any3d%20%3D%20originalAny3d%3B%20L.Browser.ielt9%20%3D%20originalIelt9%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20L.tileLayer%28%27https%3A//api.maptiler.com/maps/streets/%7Bz%7D/%7Bx%7D/%7By%7D.png%3Fkey%3DkKSQCwzDF42YIfRHO4T5%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20crossOrigin%3A%20true%2C%20tileSize%3A%20512%2C%20zoomOffset%3A%20-1%2C%20maxZoom%3A%2020%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29.addTo%28endMap%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20polyline%20%3D%20L.polyline%28appState.routeCoordinates%2C%20%7B%20color%3A%20%27var%28--brand-orange%29%27%2C%20weight%3A%205%2C%20opacity%3A%200.8%20%7D%29.addTo%28endMap%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20endMap.fitBounds%28polyline.getBounds%28%29.pad%280.2%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%20endMap.invalidateSize%28%29%3B%20endMap.fitBounds%28polyline.getBounds%28%29%2C%20%7B%20padding%3A%20%5B20%2C%2020%5D%2C%20maxZoom%3A%2019%2C%20animate%3A%20false%20%7D%29%3B%20%7D%20catch%28e%29%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20800%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20startLoc%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%200%29.location%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20L.marker%28%5BstartLoc.lat%2C%20startLoc.lng%5D%2C%20%7B%20title%3A%20%27Start%27%20%7D%29.addTo%28endMap%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentGame.tasks.filter%28t%20%3D%3E%20%21t.isStartTask%29.forEach%28task%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28task.location%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isCompleted%20%3D%20appState.currentGame.taskOrder%20%3D%3D%3D%20%27explore%27%20%3F%20appState.completedTasks.includes%28task.index%29%20%3A%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isSkipped%20%3D%20%28task.skipped%20%3D%3D%3D%20true%20%7C%7C%20task.taskScore%20%3D%3D%3D%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20iconContent%20%3D%20isCompleted%20%3F%20%27%u2705%27%20%3A%20task.index.toString%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20bgClass%20%3D%20isCompleted%20%3F%20%27%21bg-green-500%27%20%3A%20%27%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isSkipped%29%20%7B%20iconContent%20%3D%20%27%u274C%27%3B%20bgClass%20%3D%20%27%21bg-red-500%20%21border-white%27%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20taskMarkerIcon%20%3D%20L.divIcon%28%7B%20className%3A%20%60task-selector-marker%20%24%7BbgClass%7D%60%2C%20html%3A%20iconContent%2C%20iconSize%3A%20%5B30%2C%2030%5D%2C%20iconAnchor%3A%20%5B15%2C%2030%5D%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20L.marker%28%5Btask.location.lat%2C%20task.location.lng%5D%2C%20%7B%20icon%3A%20taskMarkerIcon%20%7D%29.addTo%28endMap%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28err%29%20%7B%20console.error%28%22T%E9rk%E9p%20hiba%3A%22%2C%20err%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%20downloadPDF%28%29%3B%20%7D%2C%201000%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28appState.currentGame%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20deleteSavedGame%28appState.currentGame.id%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.currentGame%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%0A%0A%20%20%0A%20%20%20%20%20%20%20%20function%20toggleMapClickMock%28enable%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.map%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame%20%26%26%20appState.currentGame.taskOrder%20%3D%3D%3D%20%27explore%27%20%26%26%20appState.currentTaskIndex%20%3D%3D%3D%200%20%26%26%20appState.isTimerRunning%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.map.clickHandler%29%20%7B%20appState.map.off%28%27click%27%2C%20appState.map.clickHandler%29%3B%20appState.map.clickHandler%20%3D%20null%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28enable%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.geoWatchId%29%20navigator.geolocation.clearWatch%28appState.geoWatchId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.geoWatchId%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.map.clickHandler%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.map.clickHandler%20%3D%20%28e%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20latLng%20%3D%20e.latlng%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20mockIcon%20%3D%20L.divIcon%28%7B%20className%3A%20%27player-marker%27%2C%20iconSize%3A%20%5B20%2C%2020%5D%2C%20html%3A%20%27%uD83D%uDCCD%27%2C%20style%3A%20%27background-color%3A%20blue%3B%20border-color%3A%20white%3B%27%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28manualMarker%29%20manualMarker.setLatLng%28latLng%29%3B%20else%20manualMarker%20%3D%20L.marker%28latLng%2C%20%7B%20icon%3A%20mockIcon%20%7D%29.addTo%28appState.map%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.userPosition%20%3D%20%7B%20lat%3A%20latLng.lat%2C%20lng%3A%20latLng.lng%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.isTimerRunning%29%20%7B%20appState.routeCoordinates.push%28%5BlatLng.lat%2C%20latLng.lng%5D%29%3B%20saveGameState%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20checkGeofence%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20currentTask%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20appState.currentTaskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20bounds%20%3D%20L.latLngBounds%28manualMarker.getLatLng%28%29%2C%20L.latLng%28currentTask.location.lat%2C%20currentTask.location.lng%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.map.fitBounds%28bounds.pad%280.2%29%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.map.on%28%27click%27%2C%20appState.map.clickHandler%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.map.clickHandler%29%20%7B%20appState.map.off%28%27click%27%2C%20appState.map.clickHandler%29%3B%20appState.map.clickHandler%20%3D%20null%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28manualMarker%29%20%7B%20manualMarker.remove%28%29%3B%20manualMarker%20%3D%20null%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.isManualMock%29%20%7B%20appState.userPosition%20%3D%20null%3B%20watchPosition%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20initializeMap%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.map%29%20appState.map.remove%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20startLoc%20%3D%20appState.currentGame.startLocation%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20ZoomControl%20false%20marad%2C%20de%20a%20fadeAnimation-t%20bekapcsoljuk%20a%20szebb%20mozg%E1s%E9rt%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.map%20%3D%20L.map%28%27map%27%2C%20%7B%20zoomControl%3A%20false%2C%20fadeAnimation%3A%20true%7D%29.setView%28%5BstartLoc.lat%2C%20startLoc.lng%5D%2C%2016%29%3B%0A%09%20%20%20%20appState.map.attributionControl.setPrefix%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20L.tileLayer%28%27https%3A//api.maptiler.com/maps/streets/%7Bz%7D/%7Bx%7D/%7By%7D.png%3Fkey%3DkKSQCwzDF42YIfRHO4T5%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20attribution%3A%20%27%3Ca%20href%3D%22https%3A//www.maptiler.com/copyright/%22%20target%3D%22_blank%22%3E%A9%20MapTiler%3C/a%3E%20%3Ca%20href%3D%22https%3A//www.openstreetmap.org/copyright%22%20target%3D%22_blank%22%3E%A9%20OpenStreetMap%20contributors%3C/a%3E%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20crossOrigin%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tileSize%3A%20512%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20zoomOffset%3A%20-1%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20JAV%CDTOTT%20BE%C1LL%CDT%C1SOK%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20minZoom%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20maxZoom%3A%2020%2C%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20maxNativeZoom%3A%2018%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateWhenIdle%3A%20false%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateWhenZooming%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20keepBuffer%3A%204%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---------------------------%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29.addTo%28appState.map%29%3B%20%20//%20%3C---%20EDDIG%20TARTOTT%20A%20R%C9GI%20K%D3DOD%20%28ez%20a%20TILELAYER%20v%E9ge%29%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20IDE%20ILLESZD%20BE%20AZ%20%DAJ%20R%C9SZT%20%282.%20L%C9P%C9S%29%3A%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20userActionHandler%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.lastMapInteraction%20%3D%20Date.now%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Figyelj%FCk%20a%20h%FAz%E1st%2C%20zoomol%E1st%20%E9s%20a%20kattint%E1st/%E9rint%E9st%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.map.on%28%27mousedown%20touchstart%20dragstart%20zoomstart%27%2C%20userActionHandler%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20----------------------------------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%20//%20---%20%DAJ%3A%20ZOOM%20KIJELZ%u0150%20BEK%D6T%C9SE%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20updateZoomDisplay%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20el%20%3D%20document.getElementById%28%27zoom-level-indicator%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28el%20%26%26%20appState.map%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ki%EDrjuk%20a%20zoom%20szintet%201%20tizedesjegy%20pontoss%E1ggal%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el.textContent%20%3D%20%27Zoom%3A%20%27%20+%20appState.map.getZoom%28%29.toFixed%281%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Minden%20zoomol%E1sn%E1l%20friss%EDtj%FCk%20a%20sz%E1mot%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.map.on%28%27zoomend%27%2C%20updateZoomDisplay%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.map.on%28%27moveend%27%2C%20updateZoomDisplay%29%3B%20//%20Mozgat%E1skor%20is%20friss%EDt%FCnk%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Azonnal%20ki%EDrjuk%20az%20indul%F3%20%E9rt%E9ket%0A%20%20%20%20%20%20%20%20%20%20%20%20updateZoomDisplay%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---------------------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20toggleMapClickMock%28appState.isManualMock%29%3B%0A%0A%0A%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%0A%0A%20%20%20%20%20%20%20%20function%20updatePlayerMarker%28lat%2C%20lng%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.map%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20Poz%EDci%F3%20ment%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.userPosition%20%3D%20%7B%20lat%3A%20lat%2C%20lng%3A%20lng%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%DAtvonal%20r%F6gz%EDt%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.isTimerRunning%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.routeCoordinates.push%28%5Blat%2C%20lng%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.isTestModeEnabled%20%26%26%20%21appState.isManualMock%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20latLng%20%3D%20new%20L.LatLng%28lat%2C%20lng%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20Marker%20%28k%E9k/s%E1rga%20p%F6tty%29%20kezel%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.playerMarker%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.playerMarker.setLatLng%28latLng%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20playerIcon%20%3D%20L.divIcon%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20className%3A%20%27player-marker%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20html%3A%20%27%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iconSize%3A%20%5B20%2C%2020%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iconAnchor%3A%20%5B10%2C%2010%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20popupAnchor%3A%20%5B0%2C%20-10%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.playerMarker%20%3D%20L.marker%28latLng%2C%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20icon%3A%20playerIcon%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20zIndexOffset%3A%201000%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29.addTo%28appState.map%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%203.%20T%E9rk%E9p%20igaz%EDt%E1sa%20%28Zoom%20logika%29%20-%20SPECI%C1LIS%20JAV%CDT%C1S%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Megn%E9zz%FCk%2C%20mennyi%20id%u0151%20telt%20el%20az%20utols%F3%20k%E9zi%20mozgat%E1s%20%F3ta%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20now%20%3D%20Date.now%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20timeSinceLastInteraction%20%3D%20now%20-%20%28appState.lastMapInteraction%20%7C%7C%200%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20%DAJ%20R%C9SZ%20KEZDETE%3A%20EXPLORE%20M%D3D%20KEZEL%C9SE%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ellen%u0151rizz%FCk%2C%20hogy%20%E9pp%20az%20Explore%20v%E1laszt%F3%20k%E9perny%u0151n%20vagyunk-e%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isExploreSelection%20%3D%20%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentGame%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentGame.taskOrder%20%3D%3D%3D%20%27explore%27%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%21document.getElementById%28%27explore-selection-container%27%29.classList.contains%28%27hidden%27%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isExploreSelection%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20HA%20Explore%20v%E1laszt%F3%20n%E9zetben%20vagyunk%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20Ha%20a%20felhaszn%E1l%F3%20%E9pp%20mozgatja%20%28vagy%20az%20elm%FAlt%205%20mp-ben%20mozgatta%29%2C%20NEM%20csin%E1lunk%20semmit.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Hagyjuk%2C%20hadd%20n%E9zel%u0151dj%F6n%20szabadon.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28timeSinceLastInteraction%20%3C%205000%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20Ha%20eltelt%205%20m%E1sodperc%20interakci%F3%20n%E9lk%FCl%2C%20vissza%E1ll%EDtjuk%20a%20%22Teljes%20N%E9zetet%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%D6sszegy%u0171jtj%FCk%20az%20%F6sszes%20marker%20poz%EDci%F3j%E1t%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20markerKeys%20%3D%20Object.keys%28appState.taskMarkers%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28markerKeys.length%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20bounds%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Hozz%E1adjuk%20a%20feladatokat%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20markerKeys.forEach%28key%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28appState.taskMarkers%5Bkey%5D%29%20bounds.push%28appState.taskMarkers%5Bkey%5D.getLatLng%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Hozz%E1adjuk%20a%20j%E1t%E9kos%20poz%EDci%F3j%E1t%20is%2C%20hogy%20%u0151%20is%20rajta%20legyen%20a%20k%E9pen%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bounds.push%28latLng%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Finom%20igaz%EDt%E1s%20%28animate%3A%20true%29%2C%20hogy%20ne%20legyen%20darabos%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.map.fitBounds%28L.latLngBounds%28bounds%29.pad%280.1%29%2C%20%7B%20animate%3A%20true%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20KIL%C9P%DCNK%2C%20hogy%20a%20lenti%20%28r%E9gi%29%20zoom%20logika%20NE%20fusson%20le%2C%20ami%20r%E1h%FAzna%20a%20j%E1t%E9kosra%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20checkGeofence%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20%DAJ%20R%C9SZ%20V%C9GE%20---%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20R%C9GI%20LOGIKA%20%28Norm%E1l%20j%E1t%E9kmenethez%29%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20CSAK%20akkor%20igaz%EDtjuk%20a%20kamer%E1t%2C%20ha%20eltelt%203%20m%E1sodperc%20%283000%20ms%29%20%E9s%20NEM%20Explore%20v%E1laszt%F3ban%20vagyunk%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28timeSinceLastInteraction%20%3E%203000%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.geofenceCircle%20%26%26%20appState.playerMarker%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20targetLatLng%20%3D%20appState.geofenceCircle.getLatLng%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20distance%20%3D%20latLng.distanceTo%28targetLatLng%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20radius%20%3D%20appState.geofenceCircle.getRadius%28%29%3B%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20K%D6ZELI%20N%C9ZET%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28distance%20%3C%3D%20radius%20+%2020%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.map.setView%28latLng%2C%2018%2C%20%7B%20animate%3A%20true%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20T%C1VOLABBI%20N%C9ZET%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20bounds%20%3D%20L.latLngBounds%28latLng%2C%20targetLatLng%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.map.fitBounds%28bounds.pad%280.1%29%2C%20%7B%20maxZoom%3A%2019%2C%20animate%3A%20true%20%7D%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.map.setView%28latLng%2C%2018%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20checkGeofence%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%0A%0A%20%20%20%20%20%20%20%20function%20updateTaskMarker%28location%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.map%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20currentTask%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20appState.currentTaskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21currentTask%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20currentTaskLoc%20%3D%20L.latLng%28location.lat%2C%20location.lng%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20currentRadius%20%3D%20currentTask.geofenceRadius%20%7C%7C%20GEOFENCE_DEFAULT_RADIUS%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.geofenceCircle%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.geofenceCircle.setLatLng%28currentTaskLoc%29%3B%20appState.geofenceCircle.setRadius%28currentRadius%29%3B%20appState.geofenceCircle.addTo%28appState.map%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.geofenceCircle%20%3D%20L.circle%28currentTaskLoc%2C%20%7B%20radius%3A%20currentRadius%2C%20color%3A%20%27red%27%2C%20fillColor%3A%20%27red%27%2C%20fillOpacity%3A%200.1%2C%20weight%3A%202%2C%20className%3A%20%27geofence-circle%27%20%7D%29.addTo%28appState.map%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20playerMarkerForBounds%20%3D%20appState.isManualMock%20%3F%20manualMarker%20%3A%20appState.playerMarker%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28playerMarkerForBounds%29%20%7B%0A%09%09%20%20%20%20const%20bounds%20%3D%20L.latLngBounds%28playerMarkerForBounds.getLatLng%28%29%2C%20currentTaskLoc%29%3B%0A%09%09%20%20%20%20//%20Itt%20is%20add%20hozz%E1%20a%20maxZoom-ot%3A%0A%09%09%20%20%20%20appState.map.fitBounds%28bounds.pad%280.2%29%2C%20%7B%20maxZoom%3A%2019%2C%20animate%3A%20true%20%7D%29%3B%20%0A%09%09%7D%20else%20%7B%0A%09%09%20%20%20%20//%20Ez%20az%20alap%20zoom%2C%20ha%20m%E9g%20nincs%20GPS%20jel%20%28pl.%2016%29%3A%0A%09%09%20%20%20%20appState.map.setView%28currentTaskLoc%2C%2016%29%3B%20%0A%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20watchPosition%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.geoWatchId%29%20navigator.geolocation.clearWatch%28appState.geoWatchId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.isTestModeEnabled%20%26%26%20%21appState.isManualMock%20%26%26%20%27geolocation%27%20in%20navigator%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.geoWatchId%20%3D%20navigator.geolocation.watchPosition%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28pos%29%20%3D%3E%20%7B%20updatePlayerMarker%28pos.coords.latitude%2C%20pos.coords.longitude%29%3B%20%7D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28err%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.warn%28%60GEO%20ERROR%28%24%7Berr.code%7D%29%3A%20%24%7Berr.message%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.isTestModeEnabled%29%20%7B%20showLoading%28false%29%3B%20showMessage%28%27GPS%20Hiba%27%2C%20t%28%27gps_required%27%29%2C%20%28%29%20%3D%3E%20%7B%20resetApp%28%29%3B%20%7D%29%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%20showMessage%28%27GPS%20Hiba%27%2C%20%27Nem%20siker%FClt%20lek%E9rni%20a%20helyzeted.%20Teszt%20M%F3d%20folytat%F3dik.%27%29%3B%20checkGeofence%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20enableHighAccuracy%3A%20true%2C%20timeout%3A%2010000%2C%20maximumAge%3A%205000%2C%20frequency%3A%203000%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28appState.isTestModeEnabled%20%26%26%20%21appState.isManualMock%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20task%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20appState.currentTaskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.userPosition%20%3D%20task%20%3F%20%7B%20lat%3A%20task.location.lat%2C%20lng%3A%20task.location.lng%20%7D%20%3A%20%7B%20lat%3A%20appState.currentGame.startLocation.lat%2C%20lng%3A%20appState.currentGame.startLocation.lng%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20checkGeofence%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28appState.isManualMock%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.userPosition%20%3D%20%28manualMarker%29%20%3F%20%7B%20lat%3A%20manualMarker.getLatLng%28%29.lat%2C%20lng%3A%20manualMarker.getLatLng%28%29.lng%20%7D%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20checkGeofence%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20haversineDistance%28c1%2C%20c2%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20R%20%3D%206371e3%3B%20const%20toRad%20%3D%20x%20%3D%3E%20x*Math.PI/180%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20p1%3DtoRad%28c1.lat%29%2C%20p2%3DtoRad%28c2.lat%29%2C%20dp%3DtoRad%28c2.lat-c1.lat%29%2C%20dl%3DtoRad%28c2.lng-c1.lng%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20a%20%3D%20Math.sin%28dp/2%29*Math.sin%28dp/2%29+Math.cos%28p1%29*Math.cos%28p2%29*Math.sin%28dl/2%29*Math.sin%28dl/2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20R%20*%202%20*%20Math.atan2%28Math.sqrt%28a%29%2C%20Math.sqrt%281%20-%20a%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20checkGeofence%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20taskInteractionArea%20%3D%20document.getElementById%28%27task-interaction-area%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20distEl%20%3D%20document.getElementById%28%27distance-info%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20startButtonContainer%20%3D%20document.getElementById%28%27start-task-button-container%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20exploreSelectionContainer%20%3D%20document.getElementById%28%27explore-selection-container%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20currentLocation%20%3D%20%28appState.isManualMock%20%26%26%20manualMarker%29%20%3F%20%7B%20lat%3A%20manualMarker.getLatLng%28%29.lat%2C%20lng%3A%20manualMarker.getLatLng%28%29.lng%20%7D%20%3A%20appState.userPosition%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20currentTask%20%3D%20appState.currentGame%20%3F%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20appState.currentTaskIndex%29%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21currentTask%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20currentRadius%20%3D%20currentTask.geofenceRadius%20%7C%7C%20GEOFENCE_DEFAULT_RADIUS%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20isStartTask%20%3D%20currentTask.isStartTask%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame.taskOrder%20%3D%3D%3D%20%27explore%27%20%26%26%20isStartTask%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startButtonContainer.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27start-game-btn%27%29.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20taskInteractionArea.classList.remove%28%27hidden%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27prompt%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.textContent%20%3D%20%22Kaland%20ind%EDthat%F3%20b%E1rhol%21%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.className%20%3D%20%27text-center%20text-xs%20font-bold%20mt-2%20text-green-600%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.geofenceCircle%29%20%7B%20appState.geofenceCircle.remove%28%29%3B%20appState.geofenceCircle%20%3D%20null%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.isTimerRunning%29%20showTaskSelectionMap%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame.taskOrder%20%3D%3D%3D%20%27explore%27%20%26%26%20appState.isTimerRunning%20%26%26%20appState.currentTaskIndex%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20taskInteractionArea.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20exploreSelectionContainer.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20renderTaskMarkers%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21document.getElementById%28%27report-error-modal%27%29.classList.contains%28%27hidden%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentLocation%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20distance%20%3D%20haversineDistance%28currentLocation%2C%20currentTask.location%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.isInZone%20%3D%20distance%20%3C%3D%20currentRadius%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.textContent%20%3D%20appState.isInZone%20%3F%20t%28%27in_zone%27%29%20%3A%20t%28%27out_zone%27%2C%20Math.round%28distance%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20startButtonContainer.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20exploreSelectionContainer.classList.add%28%27hidden%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.isTestModeEnabled%20%26%26%20%21appState.isManualMock%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.isInZone%20%3D%20true%3B%0A%09%09%20%20%20%20%20%20%20%20playArrivalNotification%28%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21currentTask.isTaskTimerActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentTask.isTaskTimerActive%20%3D%20true%3B%0A%09%09%20%20%20%20%20%20%20%20%20%20%20%20playArrivalNotification%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.isTimerRunning%20%26%26%20%21isStartTask%29%20currentTask.startTime%20%3D%20appState.geofenceTime%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isStartTask%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startButtonContainer.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20taskInteractionArea.classList.remove%28%27hidden%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27prompt%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27submit-answer-btn%27%29.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27answer-input%27%29.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20taskInteractionArea.classList.remove%28%27hidden%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27prompt%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.textContent%20%3D%20%22A%20Geo-fence%20inakt%EDv%20%28TESZT%20M%D3D%29%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.className%3D%27text-center%20text-xs%20font-bold%20mt-2%20text-green-600%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.geofenceCircle%29%20%7B%20appState.geofenceCircle.setRadius%28currentRadius%29%3B%20appState.geofenceCircle.setStyle%28%7B%20color%3A%20%27%2304b36c%27%2C%20fillColor%3A%20%27%2304b36c%27%2C%20fillOpacity%3A%200.1%20%7D%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21currentLocation%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.isInZone%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27submit-answer-btn%27%29.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27answer-input%27%29.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isStartTask%20%26%26%20%21currentTask.isTaskTimerActive%29%20taskInteractionArea.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%20taskInteractionArea.classList.remove%28%27hidden%27%29%3B%20document.getElementById%28%27prompt%27%29.classList.remove%28%27hidden%27%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.isManualMock%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.textContent%20%3D%20%22Kattints%20a%20t%E9rk%E9pre%20a%20poz%EDci%F3%20be%E1ll%EDt%E1s%E1hoz%21%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.className%3D%27text-center%20text-xs%20font-bold%20mt-2%20text-brand-orange-500%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.textContent%20%3D%20%22Helyzet%20meghat%E1roz%E1sa...%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.className%3D%27text-center%20text-xs%20font-bold%20mt-2%20text-gray-500%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.geofenceCircle%29%20%7B%20appState.geofenceCircle.setRadius%28currentRadius%29%3B%20appState.geofenceCircle.setStyle%28%7B%20color%3A%20%27red%27%2C%20fillColor%3A%20%27red%27%2C%20fillOpacity%3A%200.1%20%7D%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20distance%20%3D%20haversineDistance%28currentLocation%2C%20currentTask.location%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.isInZone%20%3D%20distance%20%3C%3D%20currentRadius%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.isInZone%20%26%26%20%21currentTask.isTaskTimerActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentTask.isTaskTimerActive%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playArrivalNotification%28%29%3B%0A%09%09%09%20%20%20%20%20%20%20%20if%20%28appState.isTimerRunning%20%26%26%20%21isStartTask%29%20currentTask.startTime%20%3D%20appState.geofenceTime%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.isInZone%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.textContent%20%3D%20t%28%27in_zone%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.className%3D%27text-center%20text-xs%20font-bold%20mt-2%20text-green-600%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.geofenceCircle.setRadius%28currentRadius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.geofenceCircle.setStyle%28%7B%20color%3A%20%27%2304b36c%27%2C%20fillColor%3A%20%27%2304b36c%27%2C%20fillOpacity%3A%200.1%20%7D%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27submit-answer-btn%27%29.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27answer-input%27%29.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20taskInteractionArea.classList.remove%28%27hidden%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isStartTask%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startButtonContainer.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27submit-answer-btn%27%29.disabled%20%3D%20true%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27answer-input%27%29.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20taskInteractionArea.classList.remove%28%27hidden%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27prompt%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.textContent%20%3D%20t%28%27out_zone%27%2C%20Math.round%28distance%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.className%3D%27text-center%20text-xs%20font-bold%20mt-2%20text-brand-orange-500%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.geofenceCircle.setRadius%28currentRadius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.geofenceCircle.setStyle%28%7B%20color%3A%20%27red%27%2C%20fillColor%3A%20%27red%27%2C%20fillOpacity%3A%200.1%20%7D%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isStartTask%20%26%26%20%21currentTask.isTaskTimerActive%29%20taskInteractionArea.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%20taskInteractionArea.classList.remove%28%27hidden%27%29%3B%20document.getElementById%28%27prompt%27%29.classList.remove%28%27hidden%27%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21currentTask.isStartTask%29%20updateHintButtons%28currentTask%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentTask%20%26%26%20currentTask.isTaskTimerActive%20%26%26%20%21isStartTask%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27submit-answer-btn%27%29.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27answer-input%27%29.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20saveGameState%28%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20exploreSelectionMapMarkerSelectHandler%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21e.target%20%7C%7C%20%21e.target.options%20%7C%7C%20e.target.options.taskIndex%20%3D%3D%3D%20undefined%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20loadTask%28e.target.options.taskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27explore-selection-container%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.isManualMock%29%20toggleMapClickMock%28true%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A//%20---%20%DAJ%20F%DCGGV%C9NY%3A%20Visszal%E9p%E9s%20a%20t%E9rk%E9pre%20---%0Afunction%20backToExploreMap%28%29%20%7B%0A%20%20%20%20//%20Csak%20Explore%20m%F3dban%20%E9rtelmezett%0A%20%20%20%20if%20%28appState.currentGame.taskOrder%20%21%3D%3D%20%27explore%27%29%20return%3B%0A%0A%20%20%20%20//%20Elrejtj%FCk%20a%20feladat%20interakci%F3s%20fel%FCletet%0A%20%20%20%20document.getElementById%28%27task-interaction-area%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%0A%20%20%20%20//%20Megjelen%EDtj%FCk%20a%20v%E1laszt%F3%20fel%FCletet%0A%20%20%20%20document.getElementById%28%27explore-selection-container%27%29.classList.remove%28%27hidden%27%29%3B%0A%0A%20%20%20%20//%20---%20%DAJ%20SOR%3A%20A%20vissza%20gomb%20elrejt%E9se%20---%0A%20%20%20%20document.getElementById%28%27back-to-map-btn%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%0A%20%20%20%20//%20---%20IDE%20SZ%DARD%20BE%20AZ%20%DAJ%20SORT%3A%20---%0A%20%20%20%20appState.lastAutoZoomTime%20%3D%200%3B%20//%20K%E9nyszer%EDtett%20zoomol%E1s%20gombnyom%E1skor%0A%20%20%20%20//%20--------------------------------%0A%20%20%20%20%0A%20%20%20%20//%20T%E9rk%E9p%20vissza%E1ll%EDt%E1sa%20v%E1laszt%F3%20m%F3dba%0A%20%20%20%20showTaskSelectionMap%28%29%3B%0A%20%20%20%20%0A%20%20%20%20//%20Az%20aktu%E1lis%20task%20index%E9t%20vissza%E1ll%EDtjuk%200-ra%20%28vagyis%20%22v%E1laszt%E1s%20alatt%22%20%E1llapotra%29%0A%20%20%20%20appState.currentTaskIndex%20%3D%200%3B%0A%20%20%20%20%0A%20%20%20%20//%20T%E9rk%E9p%20friss%EDt%E9se%20%28hogy%20a%20mock%20click%20handler%20rendben%20legyen%29%0A%20%20%20%20if%20%28appState.isManualMock%29%20%7B%0A%20%20%20%20%20%20%20%20toggleMapClickMock%28true%29%3B%0A%20%20%20%20%7D%0A%7D%0A%0A%0A%0A%20%20%20%20%20%20%20%20function%20renderTaskMarkers%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.map%20%7C%7C%20appState.currentGame.taskOrder%20%21%3D%3D%20%27explore%27%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.values%28appState.taskMarkers%29.forEach%28m%20%3D%3E%20m.remove%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.taskMarkers%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.geofenceCircle%29%20appState.geofenceCircle.remove%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20bounds%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.availableTasks.forEach%28taskIndex%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20task%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20taskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21task%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20taskIcon%20%3D%20L.divIcon%28%7B%20className%3A%20%27task-selector-marker%27%2C%20html%3A%20task.index.toString%28%29%2C%20iconSize%3A%20%5B30%2C%2030%5D%2C%20iconAnchor%3A%20%5B15%2C%2030%5D%2C%20popupAnchor%3A%20%5B0%2C%20-30%5D%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20marker%20%3D%20L.marker%28%5Btask.location.lat%2C%20task.location.lng%5D%2C%20%7B%20icon%3A%20taskIcon%2C%20title%3A%20%60Feladat%20%24%7Btask.index%7D%20-%20V%E1lassz%60%2C%20taskIndex%3A%20task.index%20%7D%29.addTo%28appState.map%29.bindPopup%28%60%3Cb%3EFeladat%20%24%7Btask.index%7D%3C/b%3E%3Cbr%3EKattints%20a%20kiv%E1laszt%E1shoz%21%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20marker.on%28%27click%27%2C%20exploreSelectionMapMarkerSelectHandler%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.taskMarkers%5Btask.index%5D%20%3D%20marker%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bounds.push%28%5Btask.location.lat%2C%20task.location.lng%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20playerMarkerForBounds%20%3D%20appState.isManualMock%20%3F%20manualMarker%20%3A%20appState.playerMarker%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28playerMarkerForBounds%29%20bounds.push%28playerMarkerForBounds.getLatLng%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28appState.userPosition%29%20bounds.push%28%5BappState.userPosition.lat%2C%20appState.userPosition.lng%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28bounds.length%20%3E%200%20%26%26%20appState.isTimerRunning%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20now%20%3D%20Date.now%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28now%20-%20appState.lastAutoZoomTime%20%3E%2010000%20%7C%7C%20appState.lastAutoZoomTime%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.map.fitBounds%28L.latLngBounds%28bounds%29.pad%280.2%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.lastAutoZoomTime%20%3D%20now%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28bounds.length%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20startLoc%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%200%29.location%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.map.setView%28%5BstartLoc.lat%2C%20startLoc.lng%5D%2C%2016%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.map.invalidateSize%28true%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20showTaskSelectionMap%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.currentGame.taskOrder%20%21%3D%3D%20%27explore%27%20%7C%7C%20%21appState.map%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.geofenceCircle%29%20appState.geofenceCircle.remove%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27task-interaction-area%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27start-task-button-container%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20backBtn%20%3D%20document.getElementById%28%27back-to-map-btn%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28backBtn%29%20backBtn.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27explore-selection-container%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20%DAJ%20R%C9SZ%3A%20T%E1vols%E1g%20inf%F3%20t%F6rl%E9se%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20distEl%20%3D%20document.getElementById%28%27distance-info%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28distEl%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.textContent%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20distEl.className%20%3D%20%27%27%3B%20//%20A%20st%EDlust%20is%20leszedj%FCk%2C%20hogy%20biztosan%20elt%u0171nj%F6n%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20--------------------------------------%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20renderTaskMarkers%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20startNavigation%28%29%20%7B%0A%20%20%20%20if%20%28%21appState.currentGame%29%20return%20showMessage%28%27Hiba%27%2C%20%27Nincs%20aktu%E1lis%20kaland%20elind%EDtva.%27%29%3B%0A%20%20%20%20%0A%20%20%20%20let%20lat%2C%20lng%3B%0A%20%20%20%20//%20Ha%20m%E9g%20a%200.%20feladatn%E1l%20vagyunk%20%28Start%29%2C%20akkor%20oda%20navig%E1lunk%0A%20%20%20%20if%20%28appState.currentTaskIndex%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20startLoc%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%200%29.location%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20lat%20%3D%20startLoc.lat%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20lng%20%3D%20startLoc.lng%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27Navig%E1l%E1s%20a%20kezd%u0151ponthoz%27%2C%20%27A%20t%E9rk%E9p%20megnyit%E1sa%20a%20Start%20Helysz%EDnre...%27%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Egy%E9bk%E9nt%20az%20aktu%E1lis%20feladathoz%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20task%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20appState.currentTaskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21task%29%20return%20showMessage%28%27Hiba%27%2C%20%27Nincs%20aktu%E1lis%20feladat%20a%20navig%E1ci%F3hoz.%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20lat%20%3D%20task.location.lat%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20lng%20%3D%20task.location.lng%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20Mobil-bar%E1t%2C%20univerz%E1lis%20Google%20Maps%20URL%0A%20%20%20%20//%20Ez%20megpr%F3b%E1lja%20megnyitni%20az%20alkalmaz%E1st%2C%20ha%20van%2C%20k%FCl%F6nben%20b%F6ng%E9sz%u0151ben%20nyitja%20meg.%0A%20%20%20%20window.open%28%60https%3A//www.google.com/maps/dir/%3Fapi%3D1%26destination%3D%24%7Blat%7D%2C%24%7Blng%7D%60%2C%20%27_blank%27%29%3B%0A%7D%0A%0A%20%20%20%20%20%20%20%20function%20speakStory%28event%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20event.preventDefault%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21%28%27speechSynthesis%27%20in%20window%29%29%20return%20showMessage%28%27Felolvas%E1si%20hiba%27%2C%20%27A%20b%F6ng%E9sz%u0151je%20nem%20t%E1mogatja%20a%20be%E9p%EDtett%20hangfelolvas%E1st%20%28Web%20Speech%20API%29.%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28speechSynth.speaking%29%20%7B%20speechSynth.cancel%28%29%3B%20return%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20storyElement%20%3D%20document.getElementById%28%27story%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21storyElement%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20storyText%20%3D%20storyElement.textContent.trim%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28storyText%20%3D%3D%3D%20%22%22%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20utterance%20%3D%20new%20SpeechSynthesisUtterance%28storyText%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20hungarianVoice%20%3D%20speechSynth.getVoices%28%29.find%28voice%20%3D%3E%20voice.lang.startsWith%28%27hu-%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hungarianVoice%29%20utterance.voice%20%3D%20hungarianVoice%3B%20else%20utterance.lang%20%3D%20%27hu-HU%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20speechSynth.speak%28utterance%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20playArrivalNotification%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20AudioContext%20%3D%20window.AudioContext%20%7C%7C%20window.webkitAudioContext%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21AudioContext%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20ctx%20%3D%20new%20AudioContext%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20osc%20%3D%20ctx.createOscillator%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20gain%20%3D%20ctx.createGain%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20osc.type%20%3D%20%27sine%27%3B%20osc.frequency.setValueAtTime%28500%2C%20ctx.currentTime%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20osc.frequency.exponentialRampToValueAtTime%281000%2C%20ctx.currentTime%20+%200.1%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20gain.gain.setValueAtTime%280.1%2C%20ctx.currentTime%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gain.gain.exponentialRampToValueAtTime%280.001%2C%20ctx.currentTime%20+%200.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20osc.connect%28gain%29%3B%20gain.connect%28ctx.destination%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20osc.start%28%29%3B%20osc.stop%28ctx.currentTime%20+%200.5%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20shareResult%28platform%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20finalScore%20%3D%20document.getElementById%28%27final-score%27%29.textContent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20finalTime%20%3D%20document.getElementById%28%27final-time%27%29.textContent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20teamName%20%3D%20appState.teamName%20%7C%7C%20%22N%E9v%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20gameTitle%20%3D%20appState.currentGame%20%3F%20appState.currentGame.title%20%3A%20%22Kaland%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20text%20%3D%20%60%C9ppen%20most%20fejeztem%20be%20a%28z%29%20%24%7BgameTitle%7D%20kalandot%20a%28z%29%20%24%7BteamName%7D%20n%E9ven%21%20%uD83C%uDFC6%20Pontsz%E1m%3A%20%24%7BfinalScore%7D%2C%20Teljes%20id%u0151%3A%20%24%7BfinalTime%7D.%20Pr%F3b%E1ld%20ki%20te%20is%21%20%23MystiGo%20%23V%E1rosiKaland%20%23KalandJ%E1t%E9k%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20url%20%3D%20%27https%3A//www.mystigo.hu/%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20shareUrl%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20switch%20%28platform%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27facebook%27%3A%20shareUrl%20%3D%20%60https%3A//www.facebook.com/sharer/sharer.php%3Fu%3D%24%7BencodeURIComponent%28url%29%7D%26quote%3D%24%7BencodeURIComponent%28text%29%7D%60%3B%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27system%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28navigator.share%29%20%7B%20navigator.share%28%7B%20title%3A%20%27MystiGo%20Kaland%20Teljes%EDtve%21%27%2C%20text%3A%20text%2C%20url%3A%20url%20%7D%29.catch%28error%20%3D%3E%20console.log%28%27Megoszt%E1s%20megszak%EDtva%20vagy%20hiba%20t%F6rt%E9nt%27%2C%20error%29%29%3B%20return%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20shareUrl%20%3D%20%60mailto%3A%3Fsubject%3DMystiGo%20Kaland%26body%3D%24%7BencodeURIComponent%28text%20+%20%22%20%22%20+%20url%29%7D%60%3B%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28shareUrl%29%20window.open%28shareUrl%2C%20%27_blank%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20normalizeAnswer%28str%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20str%20%21%3D%3D%20%27string%27%29%20return%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20str.trim%28%29.toLowerCase%28%29.normalize%28%22NFD%22%29.replace%28/%5B%5Cu0300-%5Cu036f%5D/g%2C%20%22%22%29.replace%28/%5B%5Ea-z0-9%5D/g%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A//%20---%20GPS%20TESZT%20GLOB%C1LIS%20V%C1LTOZ%D3K%20---%0Alet%20gpsTestMap%20%3D%20null%3B%0Alet%20gpsTestMarker%20%3D%20null%3B%0Alet%20gpsTestCircle%20%3D%20null%3B%0Alet%20gpsTestWatchId%20%3D%20null%3B%0Alet%20gpsTestInterval%20%3D%20null%3B%0Alet%20bestAccuracy%20%3D%2099999%3B%0Alet%20lastTestLat%20%3D%20null%3B%0Alet%20lastTestLng%20%3D%20null%3B%20%0A%0A//%20---%20%DAJ%20GPS%20TESZT%20F%DCGGV%C9NY%20---%0Awindow.testGpsConnection%20%3D%20function%28%29%20%7B%0A%20%20%20%20//%20UI%20elemek%20el%u0151k%E9sz%EDt%E9se%0A%20%20%20%20const%20container%20%3D%20document.getElementById%28%27gps-test-container%27%29%3B%0A%20%20%20%20const%20statusText%20%3D%20document.getElementById%28%27gps-test-status%27%29%3B%0A%20%20%20%20const%20resultMsg%20%3D%20document.getElementById%28%27gps-result-message%27%29%3B%0A%20%20%20%20const%20accValue%20%3D%20document.getElementById%28%27gps-accuracy-value%27%29%3B%0A%20%20%20%20const%20testBtn%20%3D%20document.getElementById%28%27gps-test-btn%27%29%3B%0A%0A%20%20%20%20//%20Resetel%E9s%0A%20%20%20%20container.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20resultMsg.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20statusText.innerHTML%20%3D%20%60%uD83D%uDCE1%20Jel%20keres%E9se...%20%3Cspan%20id%3D%22gps-countdown%22%3E15%3C/span%3Emp%60%3B%0A%20%20%20%20accValue.textContent%20%3D%20%22-%22%3B%0A%20%20%20%20bestAccuracy%20%3D%2099999%3B%0A%20%20%20%20lastTestLat%20%3D%20null%3B%20//%20T%F6r%F6lj%FCk%20az%20el%u0151z%u0151t%0A%20%20%20%20lastTestLng%20%3D%20null%3B%0A%20%20%20%20testBtn.disabled%20%3D%20true%3B%0A%0A%20%20%20%20//%201.%20T%E9rk%E9p%20inicializ%E1l%E1sa%0A%20%20%20%20if%20%28%21gpsTestMap%29%20%7B%0A%20%20%20%20%20%20%20%20gpsTestMap%20%3D%20L.map%28%27gps-test-map%27%2C%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20zoomControl%3A%20false%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20attributionControl%3A%20false%20%0A%20%20%20%20%20%20%20%20%7D%29.setView%28%5B47.4979%2C%2019.0402%5D%2C%2013%29%3B%0A%0A%20%20%20%20%20%20%20%20L.tileLayer%28%27https%3A//api.maptiler.com/maps/streets/%7Bz%7D/%7Bx%7D/%7By%7D.png%3Fkey%3DkKSQCwzDF42YIfRHO4T5%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20maxZoom%3A%2020%0A%20%20%20%20%20%20%20%20%7D%29.addTo%28gpsTestMap%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%20gpsTestMap.invalidateSize%28%29%3B%20%7D%2C%20200%29%3B%0A%0A%20%20%20%20if%20%28%21navigator.geolocation%29%20%7B%0A%20%20%20%20%20%20%20%20finishGpsTest%28false%2C%20%22A%20b%F6ng%E9sz%u0151%20nem%20t%E1mogatja%20a%20GPS-t.%22%29%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%202.%20Visszasz%E1ml%E1l%F3%20%2815%20mp%29%0A%20%20%20%20let%20timeLeft%20%3D%2015%3B%0A%20%20%20%20if%20%28gpsTestInterval%29%20clearInterval%28gpsTestInterval%29%3B%0A%0A%20%20%20%20gpsTestInterval%20%3D%20setInterval%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20timeLeft--%3B%0A%20%20%20%20%20%20%20%20const%20counterEl%20%3D%20document.getElementById%28%27gps-countdown%27%29%3B%0A%20%20%20%20%20%20%20%20if%28counterEl%29%20counterEl.textContent%20%3D%20timeLeft%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28timeLeft%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20finishGpsTest%28%29%3B%20//%20Id%u0151%20lej%E1rt%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%201000%29%3B%0A%0A%20%20%20%20//%203.%20Poz%EDci%F3%20figyel%E9se%0A%20%20%20%20gpsTestWatchId%20%3D%20navigator.geolocation.watchPosition%28%0A%20%20%20%20%20%20%20%20%28pos%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20lat%20%3D%20pos.coords.latitude%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20lng%20%3D%20pos.coords.longitude%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20accuracy%20%3D%20Math.round%28pos.coords.accuracy%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%DAJ%3A%20Ments%FCk%20el%20a%20poz%EDci%F3t%2C%20hogy%20a%20v%E9g%E9n%20tudjunk%20vele%20sz%E1molni%0A%20%20%20%20%20%20%20%20%20%20%20%20lastTestLat%20%3D%20lat%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20lastTestLng%20%3D%20lng%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Legjobb%20pontoss%E1g%20ment%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28accuracy%20%3C%20bestAccuracy%29%20bestAccuracy%20%3D%20accuracy%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20accValue.textContent%20%3D%20accuracy%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20T%E9rk%E9pelem%20friss%EDt%E9se%0A%20%20%20%20%20%20%20%20%20%20%20%20updateTestMapMarker%28lat%2C%20lng%2C%20accuracy%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20JAV%CDTOTT%20GYORS%20LE%C1LL%CDT%C1S%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20A%20legjobb%20%E9rt%E9ket%20n%E9zz%FCk%2C%20%E9s%20ha%20az%20j%F3%2C%20azonnal%20meg%E1llunk%21%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28bestAccuracy%20%3C%3D%2010%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22J%F3%20jel%20tal%E1lva%3A%22%2C%20bestAccuracy%29%3B%20//%20Debug%20info%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishGpsTest%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%28err%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.warn%28%22GPS%20Teszt%20hiba%3A%22%2C%20err%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20enableHighAccuracy%3A%20true%2C%20maximumAge%3A%200%2C%20timeout%3A%205000%20%7D%0A%20%20%20%20%29%3B%0A%7D%3B%0A%0A//%20Seg%E9df%FCggv%E9ny%20a%20t%E9rk%E9prajzol%E1shoz%0Afunction%20updateTestMapMarker%28lat%2C%20lng%2C%20accuracy%29%20%7B%0A%20%20%20%20if%20%28%21gpsTestMap%29%20return%3B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20latLng%20%3D%20%5Blat%2C%20lng%5D%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28%21gpsTestMarker%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20icon%20%3D%20L.divIcon%28%7B%20className%3A%20%27player-marker%27%2C%20iconSize%3A%20%5B15%2C%2015%5D%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gpsTestMarker%20%3D%20L.marker%28latLng%2C%20%7B%20icon%3A%20icon%20%7D%29.addTo%28gpsTestMap%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gpsTestCircle%20%3D%20L.circle%28latLng%2C%20%7B%20radius%3A%20accuracy%2C%20color%3A%20%27blue%27%2C%20weight%3A%201%2C%20fillOpacity%3A%200.1%20%7D%29.addTo%28gpsTestMap%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gpsTestMap.setView%28latLng%2C%2016%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20gpsTestMarker.setLatLng%28latLng%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28gpsTestCircle%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gpsTestCircle.setLatLng%28latLng%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gpsTestCircle.setRadius%28accuracy%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21gpsTestMap.getBounds%28%29.contains%28latLng%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gpsTestMap.panTo%28latLng%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20console.error%28%22T%E9rk%E9p%20hiba%3A%22%2C%20e%29%3B%0A%20%20%20%20%7D%0A%7D%0A%0A//%20---%20GPS%20TESZT%20LEZ%C1R%C1SA%20%28SORBARENDEZ%C9SSEL%29%20---%0Afunction%20finishGpsTest%28forceError%20%3D%20false%2C%20errorMsg%20%3D%20%22%22%29%20%7B%0A%20%20%20%20//%20Minden%20figyel%E9s%20azonnali%20le%E1ll%EDt%E1sa%0A%20%20%20%20if%20%28gpsTestWatchId%29%20%7B%0A%20%20%20%20%20%20%20%20navigator.geolocation.clearWatch%28gpsTestWatchId%29%3B%0A%20%20%20%20%20%20%20%20gpsTestWatchId%20%3D%20null%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28gpsTestInterval%29%20%7B%0A%20%20%20%20%20%20%20%20clearInterval%28gpsTestInterval%29%3B%0A%20%20%20%20%20%20%20%20gpsTestInterval%20%3D%20null%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20statusText%20%3D%20document.getElementById%28%27gps-test-status%27%29%3B%0A%20%20%20%20const%20resultMsg%20%3D%20document.getElementById%28%27gps-result-message%27%29%3B%0A%20%20%20%20const%20testBtn%20%3D%20document.getElementById%28%27gps-test-btn%27%29%3B%0A%20%20%20%20%0A%20%20%20%20if%28testBtn%29%20testBtn.disabled%20%3D%20false%3B%0A%0A%20%20%20%20if%20%28forceError%29%20%7B%0A%20%20%20%20%20%20%20%20statusText.textContent%20%3D%20%22Hiba%20t%F6rt%E9nt%21%22%3B%0A%20%20%20%20%20%20%20%20resultMsg.className%20%3D%20%22mt-2%20p-2%20rounded%20text-xs%20font-bold%20text-center%20bg-red-100%20text-red-700%20block%22%3B%0A%20%20%20%20%20%20%20%20resultMsg.innerHTML%20%3D%20%60%u26A0%uFE0F%20%24%7BerrorMsg%7D%60%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20EREDM%C9NY%20KI%CDR%C1SA%0A%20%20%20%20if%20%28bestAccuracy%20%3C%3D%2050%29%20%7B%0A%20%20%20%20%20%20%20%20statusText.textContent%20%3D%20%22Teszt%20k%E9sz.%22%3B%20%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20let%20successText%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20let%20colorClass%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28bestAccuracy%20%3C%3D%2010%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20colorClass%20%3D%20%22bg-green-100%20text-green-700%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20successText%20%3D%20%60%uD83D%uDE80%20Szuper%20jel%21%3Cbr%3EPontoss%E1g%3A%20%24%7BbestAccuracy%7Dm%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28gpsTestCircle%29%20gpsTestCircle.setStyle%28%7B%20color%3A%20%27green%27%2C%20fillColor%3A%20%27green%27%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20colorClass%20%3D%20%22bg-green-100%20text-green-700%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20successText%20%3D%20%60%u2705%20GPS%20M%u0171k%F6dik%21%3Cbr%3EPontoss%E1g%3A%20%24%7BbestAccuracy%7Dm%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28gpsTestCircle%29%20gpsTestCircle.setStyle%28%7B%20color%3A%20%27green%27%2C%20fillColor%3A%20%27green%27%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20---%20%DAJ%20R%C9SZ%3A%20SORBARENDEZ%C9S%20AUTOMATIKUSAN%20---%0A%20%20%20%20%20%20%20%20if%20%28lastTestLat%20%21%3D%3D%20null%20%26%26%20lastTestLng%20%21%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Sikeres%20teszt%20-%3E%20Lista%20rendez%E9se...%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20T%E1vols%E1gok%20%FAjrasz%E1mol%E1sa%20a%20teszt%20koordin%E1t%E1ival%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.values%28games%29.forEach%28game%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.startLocation%20%26%26%20game.startLocation.lat%20%26%26%20game.startLocation.lng%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20dist%20%3D%20haversineDistance%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20lat%3A%20lastTestLat%2C%20lng%3A%20lastTestLng%20%7D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20lat%3A%20game.startLocation.lat%2C%20lng%3A%20game.startLocation.lng%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game._calculatedDistance%20%3D%20dist%20/%201000%3B%20//%20km%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game._calculatedDistance%20%3D%2099999%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20Lista%20%FAjrarajzol%E1sa%20%28ez%20automatikusan%20sorba%20rendezi%20a%20_calculatedDistance%20alapj%E1n%29%0A%20%20%20%20%20%20%20%20%20%20%20%20renderGameList%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%203.%20Visszajelz%E9s%0A%20%20%20%20%20%20%20%20%20%20%20%20successText%20+%3D%20%60%3Cbr%3E%3Cspan%20class%3D%22text-%5B10px%5D%20uppercase%20font-bold%20mt-1%20block%22%3E%uD83D%uDCCD%20J%E1t%E9klista%20friss%EDtve%21%3C/span%3E%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20//%20---------------------------------------------%0A%0A%20%20%20%20%20%20%20%20resultMsg.className%20%3D%20%60mt-2%20p-2%20rounded%20text-xs%20font-bold%20text-center%20block%20%24%7BcolorClass%7D%60%3B%0A%20%20%20%20%20%20%20%20resultMsg.innerHTML%20%3D%20successText%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%7D%20else%20if%20%28bestAccuracy%20%3C%2099999%29%20%7B%0A%20%20%20%20%20%20%20%20//%20Gyenge%20jel%20%28s%E1rga%29%0A%20%20%20%20%20%20%20%20statusText.textContent%20%3D%20%22Teszt%20k%E9sz.%22%3B%0A%20%20%20%20%20%20%20%20resultMsg.className%20%3D%20%22mt-2%20p-2%20rounded%20text-xs%20font-bold%20text-center%20bg-yellow-100%20text-yellow-800%20block%22%3B%0A%20%20%20%20%20%20%20%20resultMsg.innerHTML%20%3D%20%60%u26A0%uFE0F%20Gyenge%20jel%20%28%24%7BbestAccuracy%7Dm%29.%3Cbr%3EMenj%20ny%EDlt%20terepre%21%60%3B%0A%20%20%20%20%20%20%20%20if%20%28gpsTestCircle%29%20gpsTestCircle.setStyle%28%7B%20color%3A%20%27orange%27%2C%20fillColor%3A%20%27orange%27%20%7D%29%3B%0A%20%20%20%20%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20//%20Nincs%20jel%20%28piros%29%0A%20%20%20%20%20%20%20%20statusText.textContent%20%3D%20%22Nincs%20jel.%22%3B%0A%20%20%20%20%20%20%20%20resultMsg.className%20%3D%20%22mt-2%20p-2%20rounded%20text-xs%20font-bold%20text-center%20bg-red-100%20text-red-700%20block%22%3B%0A%20%20%20%20%20%20%20%20resultMsg.innerHTML%20%3D%20%60%u274C%20Nem%20siker%FClt%20poz%EDci%F3t%20tal%E1lni.%3Cbr%3EEllen%u0151rizd%20a%20be%E1ll%EDt%E1sokat%21%60%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20resultMsg.classList.remove%28%27hidden%27%29%3B%0A%7D%0A%0A%0A//%20---%20%DAJ%20TESZT%20IND%CDT%D3%20F%DCGGV%C9NY%20---%0Awindow.startSpecificTestGame%20%3D%20function%28%29%20%7B%0A%20%20%20%20//%20-----------------------------------------------------------%0A%20%20%20%20const%20FIX_GAME_ID%20%3D%20%22teszt-game%22%3B%20%0A%20%20%20%20//%20-----------------------------------------------------------%0A%0A%20%20%20%20//%20BIZTONS%C1GI%20ELLEN%u0150RZ%C9S%0A%20%20%20%20if%20%28%21games%20%7C%7C%20Object.keys%28games%29.length%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20alert%28%22Az%20adatb%E1zis%20m%E9g%20nem%20t%F6lt%u0151d%F6tt%20be%20teljesen.%20K%E9rlek%20v%E1rj%20p%E1r%20m%E1sodpercet%21%22%29%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28%21games%5BFIX_GAME_ID%5D%29%20%7B%0A%20%20%20%20%20%20%20%20alert%28%60HIBA%3A%20A%20k%F3dban%20megadott%20%27%24%7BFIX_GAME_ID%7D%27%20azonos%EDt%F3j%FA%20j%E1t%E9k%20nem%20tal%E1lhat%F3%20a%20bet%F6lt%F6tt%20Excel%20f%E1jlban%21%5Cn%5CnEllen%u0151rizd%20az%20%27id%27%20oszlopot%20az%20Excelben.%60%29%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20//%202.%20Automatikus%20kit%F6lt%E9s%20%28hogy%20ne%20kelljen%20be%EDrni%20a%20nevet/avatart%29%0A%20%20%20%20const%20nameInput%20%3D%20document.getElementById%28%27team-name-input%27%29%3B%0A%20%20%20%20const%20avatarSelect%20%3D%20document.getElementById%28%27team-avatar-select%27%29%3B%0A%0A%20%20%20%20//%20Csak%20akkor%20%EDrjuk%20fel%FCl%2C%20ha%20%FCres%0A%20%20%20%20if%20%28%21nameInput.value%29%20nameInput.value%20%3D%20%22Fejleszt%u0151%22%3B%0A%20%20%20%20if%20%28%21avatarSelect.value%29%20avatarSelect.value%20%3D%20%22robot%22%3B%20//%20Robot%20avatar%20alap%E9rtelmezetten%0A%0A%20%20%20%20//%203.%20UI%20friss%EDt%E9se%2C%20mintha%20a%20felhaszn%E1l%F3%20%EDrta%20volna%20be%20%28hogy%20a%20ment%E9s%20is%20m%u0171k%F6dj%F6n%29%0A%20%20%20%20localStorage.setItem%28%27mystigo_pref_teamName%27%2C%20nameInput.value%29%3B%0A%20%20%20%20localStorage.setItem%28%27mystigo_pref_teamAvatar%27%2C%20avatarSelect.value%29%3B%0A%0A%20%20%20%20//%204.%20J%E1t%E9k%20ind%EDt%E1sa%20%27mock%27%20%28manu%E1lis%20GPS%29%20m%F3dban%0A%20%20%20%20console.log%28%60Teszt%20j%E1t%E9k%20ind%EDt%E1sa%3A%20%24%7BFIX_GAME_ID%7D%20%28Mock%20Mode%29%60%29%3B%0A%20%20%20%20startGame%28FIX_GAME_ID%2C%20%27mock%27%29%3B%0A%7D%3B%0A%0A%0A%0Afunction%20requestGpsAndStart%28gameId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20selectedMode%20%3D%20document.querySelector%28%27input%5Bname%3D%22game_mode_selection%22%5D%3Achecked%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20gameMode%20%3D%20selectedMode%20%3F%20selectedMode.value%20%3A%20%27normal%27%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28gameMode%20%3D%3D%3D%20%27mock%27%29%20%7B%20startGame%28gameId%2C%20%27mock%27%29%3B%20return%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21navigator.geolocation%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20a%20b%F6ng%E9sz%u0151%20egy%E1ltal%E1n%20nem%20t%E1mogatja%2C%20akkor%20is%20j%F6het%20a%20help%20ablak%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27gps-help-modal%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20navigator.geolocation.getCurrentPosition%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28pos%29%20%3D%3E%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updatePlayerMarker%28pos.coords.latitude%2C%20pos.coords.longitude%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startGame%28gameId%2C%20%27normal%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28err%29%20%3D%3E%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28gameMode%20%3D%3D%3D%20%27normal%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20JAV%CDT%C1S%3A%20Itt%20most%20m%E1r%20a%20sz%E9p%20ablakot%20nyitjuk%20meg%20a%20showMessage%20helyett%21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27gps-help-modal%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27GPS%20Hiba%27%2C%20%27Nem%20siker%FClt%20lek%E9rni%20a%20helyzeted.%20Teszt%20M%F3d%20miatt%20a%20j%E1t%E9k%20elindul.%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startGame%28gameId%2C%20%27test%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20enableHighAccuracy%3A%20true%2C%20timeout%3A%2015000%2C%20maximumAge%3A%205000%2C%20frequency%3A%203000%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A//%20---%20STORAGE%20MANAGER%20LOGIKA%20---%0A%0Awindow.openStorageManager%20%3D%20function%28%29%20%7B%0A%20%20%20%20renderStorageList%28%29%3B%0A%20%20%20%20document.getElementById%28%27storage-manager-modal%27%29.classList.remove%28%27hidden%27%29%3B%0A%7D%3B%0A%0Awindow.renderStorageList%20%3D%20function%28%29%20%7B%0A%20%20%20%20const%20container%20%3D%20document.getElementById%28%27storage-list-container%27%29%3B%0A%20%20%20%20container.innerHTML%20%3D%20%27%27%3B%0A%20%20%20%20%0A%20%20%20%20const%20keys%20%3D%20Object.keys%28localStorage%29%3B%0A%20%20%20%20document.getElementById%28%27storage-count-display%27%29.textContent%20%3D%20%60%24%7Bkeys.length%7D%20bejegyz%E9s%60%3B%0A%0A%20%20%20%20if%20%28keys.length%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20container.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22text-center%20p-8%20text-gray-400%20italic%22%3EA%20LocalStorage%20%FCres.%3C/div%3E%60%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20Rendez%E9s%2C%20hogy%20a%20hasonl%F3ak%20egym%E1s%20mell%E9%20ker%FCljenek%0A%20%20%20%20keys.sort%28%29%3B%0A%0A%20%20%20%20keys.forEach%28key%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20let%20displayTitle%20%3D%20key%3B%0A%20%20%20%20%20%20%20%20let%20icon%20%3D%20%27%uD83D%uDCC4%27%3B%0A%20%20%20%20%20%20%20%20let%20bgColor%20%3D%20%27bg-white%27%3B%0A%20%20%20%20%20%20%20%20let%20borderColor%20%3D%20%27border-gray-200%27%3B%0A%20%20%20%20%20%20%20%20let%20textColor%20%3D%20%27text-gray-600%27%3B%0A%0A%20%20%20%20%20%20%20%20//%20Kateg%F3ri%E1k%20felismer%E9se%20a%20szebb%20megjelen%EDt%E9s%E9rt%0A%20%20%20%20%20%20%20%20if%20%28key.startsWith%28%27MystiGoGameState_%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20icon%20%3D%20%27%uD83C%uDFAE%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20displayTitle%20%3D%20key.replace%28%27MystiGoGameState_%27%2C%20%27MENT%C9S%3A%20%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bgColor%20%3D%20%27bg-orange-50%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20borderColor%20%3D%20%27border-orange-200%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20textColor%20%3D%20%27text-orange-800%27%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28key.startsWith%28%27MystiGo_Perm_Completed_%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20icon%20%3D%20%27%uD83C%uDFC6%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20displayTitle%20%3D%20key.replace%28%27MystiGo_Perm_Completed_%27%2C%20%27K%C9SZ%3A%20%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bgColor%20%3D%20%27bg-green-50%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20borderColor%20%3D%20%27border-green-200%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20textColor%20%3D%20%27text-green-800%27%3B%0A%20%20%20%20%20%20%20%20%0A%09%7D%20else%20if%20%28key.startsWith%28%27MystiGo_Perm_Count_%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20icon%20%3D%20%27%uD83D%uDD22%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20displayTitle%20%3D%20key.replace%28%27MystiGo_Perm_Count_%27%2C%20%27J%C1T%C9K%20SZ%C1ML%C1L%D3%3A%20%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bgColor%20%3D%20%27bg-purple-50%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20borderColor%20%3D%20%27border-purple-200%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20textColor%20%3D%20%27text-purple-800%27%3B%0A%0A%09%7D%20else%20if%20%28key.startsWith%28%27mystigo_pref_%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20icon%20%3D%20%27%u2699%uFE0F%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20displayTitle%20%3D%20key.replace%28%27mystigo_pref_%27%2C%20%27BE%C1LL%CDT%C1S%3A%20%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bgColor%20%3D%20%27bg-blue-50%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20borderColor%20%3D%20%27border-blue-200%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20textColor%20%3D%20%27text-blue-800%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20Egy%20sor%20HTML%20k%F3dja%0A%20%20%20%20%20%20%20%20const%20itemHtml%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20items-center%20justify-between%20p-3%20mb-2%20rounded-lg%20border%20%24%7BbgColor%7D%20%24%7BborderColor%7D%20shadow-sm%20transition%20hover%3Ashadow-md%20group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22overflow-hidden%20mr-3%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-xs%20font-bold%20%24%7BtextColor%7D%20truncate%20flex%20items-center%20gap-1.5%22%20title%3D%22%24%7Bkey%7D%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%24%7Bicon%7D%3C/span%3E%20%24%7BdisplayTitle%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-%5B10px%5D%20text-gray-400%20truncate%20font-mono%20mt-0.5%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7Bkey%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22deleteStorageItem%28%27%24%7Bkey%7D%27%29%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20class%3D%22shrink-0%20bg-white%20border%20border-gray-200%20text-red-500%20hover%3Abg-red-500%20hover%3Atext-white%20p-1.5%20rounded-md%20transition%20shadow-sm%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20title%3D%22T%F6rl%E9s%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22w-4%20h-4%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22currentColor%22%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M19%207l-.867%2012.142A2%202%200%200116.138%2021H7.862a2%202%200%2001-1.995-1.858L5%207m5%204v6m4-6v6m1-10V4a1%201%200%2000-1-1h-4a1%201%200%2000-1%201v3M4%207h16%22%20/%3E%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20container.innerHTML%20+%3D%20itemHtml%3B%0A%20%20%20%20%7D%29%3B%0A%7D%3B%0A%0Awindow.deleteStorageItem%20%3D%20function%28key%29%20%7B%0A%20%20%20%20if%20%28confirm%28%60Biztosan%20t%F6rl%F6d%20ezt%20a%20kulcsot%3F%5Cn%24%7Bkey%7D%60%29%29%20%7B%0A%20%20%20%20%20%20%20%20localStorage.removeItem%28key%29%3B%0A%20%20%20%20%20%20%20%20renderStorageList%28%29%3B%20//%20Lista%20friss%EDt%E9se%20t%F6rl%E9s%20ut%E1n%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20Ha%20%E9pp%20a%20fut%F3%20j%E1t%E9kot%20t%F6r%F6lt%FCk%2C%20jelezz%FCk%0A%20%20%20%20%20%20%20%20if%20%28window.currentGameId%20%26%26%20key.includes%28window.currentGameId%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alert%28%22Figyelem%3A%20A%20jelenleg%20fut%F3%20vagy%20kiv%E1lasztott%20j%E1t%E9k%20adatait%20t%F6r%F6lted.%20%C9rdemes%20%FAjrat%F6lteni%20az%20oldalt.%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%3B%0A%0Awindow.nukeAllStorage%20%3D%20function%28%29%20%7B%0A%20%20%20%20if%20%28confirm%28%22%u26A0%uFE0F%20FIGYELEM%21%5Cn%5CnEz%20t%F6rli%20az%20%D6SSZES%20ment%E9st%2C%20be%E1ll%EDt%E1st%20%E9s%20teljes%EDt%E9st.%5CnBiztosan%20folytatod%3F%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20localStorage.clear%28%29%3B%0A%20%20%20%20%20%20%20%20renderStorageList%28%29%3B%0A%20%20%20%20%20%20%20%20alert%28%22A%20mem%F3ria%20teljesen%20t%F6r%F6lve%20lett.%20Az%20oldal%20%FAjrat%F6lt%u0151dik.%22%29%3B%0A%20%20%20%20%20%20%20%20location.reload%28%29%3B%0A%20%20%20%20%7D%0A%7D%3B%0A%0A%0A%0A//%20---%20%DAJ%20FUNKCI%D3K%3A%20T%E9rk%E9pes%20J%E1t%E9kv%E1laszt%F3%20---%0A%0Awindow.gameSelectionMapInstance%20%3D%20null%3B%0Awindow.gameSelectionMarkers%20%3D%20%5B%5D%3B%0A%0Awindow.openGameMap%20%3D%20function%28%29%20%7B%0A%20%20%20%20const%20modal%20%3D%20document.getElementById%28%27game-map-modal%27%29%3B%0A%20%20%20%20modal.classList.remove%28%27hidden%27%29%3B%0A%0A%20%20%20%20//%20T%E9rk%E9p%20l%E9trehoz%E1sa%2C%20ha%20m%E9g%20nincs%0A%20%20%20%20if%20%28%21window.gameSelectionMapInstance%29%20%7B%0A%20%20%20%20%20%20%20%20window.gameSelectionMapInstance%20%3D%20L.map%28%27game-selection-map%27%2C%20%7B%20zoomControl%3A%20false%20%7D%29.setView%28%5B47.1625%2C%2019.5033%5D%2C%207%29%3B%0A%09window.gameSelectionMapInstance.attributionControl.setPrefix%28false%29%3B%0A%20%20%20%20%20%20%20%20L.tileLayer%28%27https%3A//api.maptiler.com/maps/streets/%7Bz%7D/%7Bx%7D/%7By%7D.png%3Fkey%3DkKSQCwzDF42YIfRHO4T5%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20attribution%3A%20%27MapTiler%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20maxZoom%3A%2018%0A%20%20%20%20%20%20%20%20%7D%29.addTo%28window.gameSelectionMapInstance%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20M%E9ret%20friss%EDt%E9se%0A%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20window.gameSelectionMapInstance.invalidateSize%28%29%3B%0A%20%20%20%20%7D%2C%20200%29%3B%0A%0A%20%20%20%20//%20Sz%u0171r%u0151k%20vissza%E1ll%EDt%E1sa%20alaphelyzetbe%20minden%20nyit%E1skor%20%28hogy%20minden%20l%E1tsz%F3djon%29%0A%20%20%20%20document.getElementById%28%27chk-map-normal%27%29.checked%20%3D%20true%3B%0A%20%20%20%20document.getElementById%28%27chk-map-kids%27%29.checked%20%3D%20true%3B%0A%20%20%20%20document.getElementById%28%27chk-map-team%27%29.checked%20%3D%20true%3B%0A%20%20%20%20document.getElementById%28%27chk-map-explore%27%29.checked%20%3D%20true%3B%0A%0A%20%20%20%20//%20Markerek%20kirajzol%E1sa%0A%20%20%20%20window.updateMapMarkers%28%29%3B%0A%7D%3B%0A%0A//%202.%20MARKEREK%20FRISS%CDT%C9SE%20%28Ez%20fut%20a%20pip%E1l%E1skor%20is%29%0Awindow.updateMapMarkers%20%3D%20function%28%29%20%7B%0A%20%20%20%20if%20%28%21window.gameSelectionMapInstance%29%20return%3B%0A%0A%20%20%20%20//%20R%E9gi%20markerek%20t%F6rl%E9se%0A%20%20%20%20window.gameSelectionMarkers.forEach%28m%20%3D%3E%20m.remove%28%29%29%3B%0A%20%20%20%20window.gameSelectionMarkers%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20//%20Sz%u0171r%u0151%20%E1llapotok%20lek%E9r%E9se%0A%20%20%20%20const%20showNormal%20%3D%20document.getElementById%28%27chk-map-normal%27%29.checked%3B%0A%20%20%20%20const%20showKids%20%3D%20document.getElementById%28%27chk-map-kids%27%29.checked%3B%0A%20%20%20%20const%20showTeam%20%3D%20document.getElementById%28%27chk-map-team%27%29.checked%3B%0A%20%20%20%20const%20showExplore%20%3D%20document.getElementById%28%27chk-map-explore%27%29.checked%3B%0A%0A%20%20%20%20const%20bounds%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20Object.values%28games%29.forEach%28game%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20//%20---%201.%20Glob%E1lis%20sz%u0171r%E9sek%20%28Rejtett/Limit%29%20---%0A%20%20%20%20%20%20%20%20if%20%28%21window.showHiddenGames%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.isHidden%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.maxPlayCount%20%3D%3D%3D%20-1%29%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20---%202.%20T%EDpus%20szerinti%20sz%u0171r%E9s%20%28CHECKBOXOK%29%20---%0A%20%20%20%20%20%20%20%20if%20%28game.type%20%3D%3D%3D%20%27normal%27%20%26%26%20%21showNormal%29%20return%3B%20//%20Ha%20normal%2C%20de%20nincs%20pipa%2C%20kihagyjuk%0A%20%20%20%20%20%20%20%20if%20%28game.type%20%3D%3D%3D%20%27kids%27%20%26%26%20%21showKids%29%20return%3B%0A%20%20%20%20%20%20%20%20if%20%28game.type%20%3D%3D%3D%20%27team%27%20%26%26%20%21showTeam%29%20return%3B%0A%20%20%20%20%20%20%20%20if%20%28game.type%20%3D%3D%3D%20%27explore%27%20%26%26%20%21showExplore%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20//%20Ha%20%E1tment%20a%20sz%u0171r%u0151k%F6n%2C%20kirajzoljuk%0A%20%20%20%20%20%20%20%20if%20%28game.startLocation%20%26%26%20game.startLocation.lat%20%26%26%20game.startLocation.lng%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Ikon%20%E9s%20Sz%EDn%20be%E1ll%EDt%E1sa%20%28A%20k%E9rt%20Ir%E1nyt%u0171s%20m%F3dos%EDt%E1ssal%21%29%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20markerEmoji%20%3D%20%27%uD83E%uDDED%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20markerColor%20%3D%20%27bg-green-600%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.type%20%3D%3D%3D%20%27kids%27%29%20%7B%20markerEmoji%20%3D%20%27%uD83D%uDC08%27%3B%20markerColor%20%3D%20%27bg-yellow-500%27%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28game.type%20%3D%3D%3D%20%27team%27%29%20%7B%20markerEmoji%20%3D%20%27%uD83E%uDDD1%u200D%uD83E%uDD1D%u200D%uD83E%uDDD1%27%3B%20markerColor%20%3D%20%27bg-indigo-600%27%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28game.type%20%3D%3D%3D%20%27explore%27%29%20%7B%20markerEmoji%20%3D%20%27%uD83C%uDF0D%27%3B%20markerColor%20%3D%20%27bg-cyan-500%27%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20customIcon%20%3D%20L.divIcon%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20className%3A%20%27custom-game-marker%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20html%3A%20%60%3Cdiv%20class%3D%22%24%7BmarkerColor%7D%20w-8%20h-8%20rounded-full%20border-2%20border-white%20shadow-lg%20flex%20items-center%20justify-center%20text-lg%22%3E%24%7BmarkerEmoji%7D%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iconSize%3A%20%5B32%2C%2032%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iconAnchor%3A%20%5B16%2C%2032%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20popupAnchor%3A%20%5B0%2C%20-32%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20marker%20%3D%20L.marker%28%5Bgame.startLocation.lat%2C%20game.startLocation.lng%5D%2C%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20icon%3A%20customIcon%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20title%3A%20game.title%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20.addTo%28window.gameSelectionMapInstance%29%0A%20%20%20%20%20%20%20%20%20%20%20%20.bindPopup%28%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-center%20min-w-%5B160px%5D%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%20class%3D%22font-bold%20text-sm%20text-%5B%230D2B45%5D%20mb-1%20leading-tight%22%3E%24%7Bgame.title%7D%3C/h3%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-%5B10px%5D%20text-gray-500%20mb-3%20uppercase%20tracking-wide%22%3E%24%7Bgame.type%7D%20t%EDpus%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20items-center%20justify-center%20gap-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22map-start-btn-%24%7Bgame.id%7D%22%20class%3D%22bg-%5B%23FFA500%5D%20text-white%20text-xs%20font-bold%20py-1.5%20px-3%20rounded-md%20shadow%20hover%3Abg-orange-600%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Ind%EDt%E1s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22map-cancel-btn-%24%7Bgame.id%7D%22%20class%3D%22bg-gray-200%20text-gray-600%20text-xs%20font-bold%20py-1.5%20px-3%20rounded-md%20hover%3Abg-gray-300%20transition%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20M%E9gsem%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%60%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20marker.on%28%27popupopen%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20startBtn%20%3D%20document.getElementById%28%60map-start-btn-%24%7Bgame.id%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28startBtn%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startBtn.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window.closeGameMap%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20priceText%20%3D%20game.price%20%3E%200%20%3F%20%60%24%7Bgame.price%7D%20Ft%60%20%3A%20%27Ingyenes%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20hasSave%20%3D%20localStorage.getItem%28%27MystiGoGameState_%27%20+%20game.id%29%20%21%3D%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20JAV%CDT%C1S%3A%20Itt%20%E1tadjuk%20a%20%27true%27%20%E9rt%E9ket%20utols%F3%20param%E9terk%E9nt%21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleGameSelect%28game.id%2C%20game.title%2C%20game.type%2C%20priceText%2C%20hasSave%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20cancelBtn%20%3D%20document.getElementById%28%60map-cancel-btn-%24%7Bgame.id%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28cancelBtn%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cancelBtn.onclick%20%3D%20%28%29%20%3D%3E%20%7B%20marker.closePopup%28%29%3B%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20window.gameSelectionMarkers.push%28marker%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bounds.push%28%5Bgame.startLocation.lat%2C%20game.startLocation.lng%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20//%20Felhaszn%E1l%F3%20poz%EDci%F3ja%20%28ha%20van%29%0A%20%20%20%20if%20%28navigator.geolocation%29%20%7B%0A%20%20%20%20%20%20%20%20navigator.geolocation.getCurrentPosition%28pos%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20userLat%20%3D%20pos.coords.latitude%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20userLng%20%3D%20pos.coords.longitude%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Csak%20akkor%20rajzoljuk%20%FAjra%20a%20saj%E1t%20poz%EDci%F3t%2C%20ha%20nincs%20m%E1r%20a%20t%E9rk%E9pen%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%28Egyszer%u0171s%EDt%E9s%3A%20itt%20most%20mindig%20%FAjrarajzoljuk%20a%20tisztas%E1g%20kedv%E9%E9rt%29%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20userIcon%20%3D%20L.divIcon%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20className%3A%20%27user-pos-marker%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20html%3A%20%27%3Cdiv%20class%3D%22w-4%20h-4%20bg-blue-500%20rounded-full%20border-2%20border-white%20shadow-md%20pulse-ring%22%3E%3C/div%3E%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iconSize%3A%20%5B16%2C%2016%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20userMarker%20%3D%20L.marker%28%5BuserLat%2C%20userLng%5D%2C%20%7B%20icon%3A%20userIcon%20%7D%29.addTo%28window.gameSelectionMapInstance%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.gameSelectionMarkers.push%28userMarker%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bounds.push%28%5BuserLat%2C%20userLng%5D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Csak%20a%20legels%u0151%20bet%F6lt%E9skor%20%28amikor%20bounds%20%FCres%20volt%20el%u0151tte%29%20zoomolunk%20r%E1%20mindenre%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20hogy%20pip%E1lgat%E1s%20k%F6zben%20ne%20ugr%E1ljon%20a%20t%E9rk%E9p.%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20De%20egyszer%u0171bb%2C%20ha%20csak%20sim%E1n%20hagyjuk%20a%20zoomot%2C%20kiv%E9ve%20ha%20%22nyit%E1s%22%20van.%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20Opcion%E1lis%3A%20Ha%20nagyon%20szeretn%E9d%2C%20hogy%20sz%u0171r%E9skor%20is%20igazodjon%20a%20t%E9rk%E9p%2C%20%0A%20%20%20%20//%20akkor%20ide%20betehetsz%20egy%20fitBounds%20h%EDv%E1st%2C%20de%20jobb%2C%20ha%20a%20felhaszn%E1l%F3%20kez%E9ben%20hagyod%20az%20ir%E1ny%EDt%E1st.%0A%7D%3B%0A%0A%0A%0A%0A%0A%0Awindow.closeGameMap%20%3D%20function%28%29%20%7B%0A%20%20%20%20document.getElementById%28%27game-map-modal%27%29.classList.add%28%27hidden%27%29%3B%0A%7D%3B%0A%0A%0A%0A%20%20%0A%20%20%20%20%20%20%20%20//%20---%20EVENT%20LISTENERS%20---%0A%20%20%20%20%20%20%20%20document.addEventListener%28%27DOMContentLoaded%27%2C%20%28%29%20%3D%3E%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20%DAJ%20R%C9SZ%20KEZDETE%3A%20N%E9v%20%E9s%20Avatar%20automatikus%20ment%E9se/bet%F6lt%E9se%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20nameInputEl%20%3D%20document.getElementById%28%27team-name-input%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20avatarSelectEl%20%3D%20document.getElementById%28%27team-avatar-select%27%29%3B%0A%0A%0A//%20---%20%DAJ%20GOMB%20ESEM%C9NYKEZEL%u0150JE%20%28%D6sszes%20j%E1t%E9k%20list%E1z%E1sa%29%20---%0A%20%20%20%20//%20---%20EZ%20A%20FRISS%CDTETT%20VERZI%D3%20%28CSER%C9LD%20LE%20A%20R%C9GIT%20ERRE%29%20---%0A%20%20%20%20const%20listAllGamesBtn%20%3D%20document.getElementById%28%27list-all-games-btn%27%29%3B%0A%20%20%20%20if%20%28listAllGamesBtn%29%20%7B%0A%20%20%20%20%20%20%20%20listAllGamesBtn.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20Bekapcsoljuk%20a%20glob%E1lis%20v%E1ltoz%F3t%2C%20hogy%20l%E1ssuk%20a%20rejtetteket%0A%20%20%20%20%20%20%20%20%20%20%20%20window.showHiddenGames%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20%DAjragener%E1ljuk%20a%20helysz%EDn%20list%E1t%20%28most%20m%E1r%20a%20rejtett%20v%E1rosok%20is%20benne%20lesznek%29%0A%20%20%20%20%20%20%20%20%20%20%20%20populateLocationFilter%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%203.%20Kirajzoljuk%20a%20j%E1t%E9kokat%0A%20%20%20%20%20%20%20%20%20%20%20%20renderGameList%28games%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%204.%20Fejleszt%u0151i%20men%FC%20bez%E1r%E1sa%20%28hogy%20l%E1ssuk%20az%20eredm%E9nyt%29%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20devOptions%20%3D%20document.getElementById%28%27developer-options%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28devOptions%29%20devOptions.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20devToggle%20%3D%20document.getElementById%28%27developer-tools-toggle%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28devToggle%29%20devToggle.querySelector%28%27span%27%29.textContent%20%3D%20%27%u25BC%27%3B%0A%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20//%20--------------------------------------------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20Bet%F6lt%E9s%3A%20Megn%E9zz%FCk%2C%20van-e%20elmentve%20adat%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20savedName%20%3D%20localStorage.getItem%28%27mystigo_pref_teamName%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20savedAvatar%20%3D%20localStorage.getItem%28%27mystigo_pref_teamAvatar%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28savedName%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nameInputEl.value%20%3D%20savedName%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28savedAvatar%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20avatarSelectEl.value%20%3D%20savedAvatar%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20Ment%E9s%3A%20Figyelj%FCk%20a%20v%E1ltoz%E1st%20%E9s%20azonnal%20ment%FCnk%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28nameInputEl%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nameInputEl.addEventListener%28%27input%27%2C%20%28e%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28%27mystigo_pref_teamName%27%2C%20e.target.value%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A//%20---%20%DAJ%20KIDS%20M%D3D%20LOGIKA%20---%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20kidsCheckbox%20%3D%20document.getElementById%28%27kids-mode-checkbox%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20mainLogo%20%3D%20document.getElementById%28%27main-header-logo%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20filterTypeSelect%20%3D%20document.getElementById%28%27filter-type%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20function%20toggleKidsMode%28isKidsActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20Logo%20csere%20%28Ez%20marad%20a%20r%E9gi%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28mainLogo%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mainLogo.src%20%3D%20isKidsActive%20%3F%20%22logo/MystiGo_logo_cat.png%22%20%3A%20%22logo/MystiGo_logo.png%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20LOGIKA%20JAV%CDT%C1SA%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Megn%E9zz%FCk%2C%20van-e%20akt%EDv%20URL%20sz%u0171r%E9s%20%28Helysz%EDn%20vagy%20ID%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20urlParams%20%3D%20new%20URLSearchParams%28window.location.search%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20pLoc%20%3D%20urlParams.get%28%27location%27%29%20%7C%7C%20urlParams.get%28%27helyszin%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20pGameId%20%3D%20urlParams.get%28%27game%27%29%20%7C%7C%20urlParams.get%28%27id%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20A%29%20HA%20VAN%20URL%20PARAM%C9TER%20%28Akkor%20azt%20tiszteletben%20tartva%20sz%u0171r%FCnk%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pLoc%20%7C%7C%20pGameId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Kids%20m%F3d%20v%E1lt%E1s%20URL%20kontextusban...%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20filteredGames%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Object.values%28games%29.forEach%28game%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Alapvet%u0151%20l%E1that%F3s%E1gi%20sz%u0171r%E9s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21window.showHiddenGames%20%26%26%20game.isHidden%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20Megfelel%20az%20URL-nek%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20matchesUrl%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pGameId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20konkr%E9t%20j%E1t%E9kra%20sz%u0171rt%FCnk%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20matchesUrl%20%3D%20%28game.id.toLowerCase%28%29%20%3D%3D%3D%20pGameId.trim%28%29.toLowerCase%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28pLoc%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20helysz%EDnre%20sz%u0171rt%FCnk%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gameLocs%20%3D%20%28game.location%20%7C%7C%20%22%22%29.toLowerCase%28%29.split%28%27%2C%27%29.map%28s%20%3D%3E%20s.trim%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20matchesUrl%20%3D%20gameLocs.some%28l%20%3D%3E%20l.includes%28pLoc.toLowerCase%28%29%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21matchesUrl%29%20return%3B%20//%20Ha%20nem%20illik%20az%20URL-re%2C%20eldobjuk%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%202.%20Megfelel%20a%20Kids%20m%F3dnak%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20be%20van%20pip%E1lva%2C%20csak%20a%20%27kids%27%20t%EDpus%20maradhat.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isKidsActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.type%20%21%3D%3D%20%27kids%27%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ha%20id%E1ig%20eljutott%2C%20akkor%20megfelel%20az%20URL-nek%20%C9S%20a%20Kids%20m%F3dnak%20is%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20filteredGames%5Bgame.id%5D%20%3D%20game%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20FONTOS%3A%20Friss%EDtj%FCk%20a%20glob%E1lis%20sz%u0171rt%20%E1llapotot%2C%20hogy%20a%20GPS%20rendez%E9s%20is%20j%F3%20maradjon%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20appState.currentFilteredGames%20%3D%20filteredGames%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20renderGameList%28filteredGames%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20B%29%20HA%20NINCS%20URL%20PARAM%C9TER%20%28Norm%E1l%20m%u0171k%F6d%E9s%20a%20Dropdownok%20alapj%E1n%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28filterTypeSelect%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20filterTypeSelect.value%20%3D%20isKidsActive%20%3F%20%27kids%27%20%3A%20%27all%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20applyFilters%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20applyFilters%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Bet%F6lt%E9skor%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20savedKidsMode%20%3D%20localStorage.getItem%28%27mystigo_pref_kidsMode%27%29%20%3D%3D%3D%20%27true%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28kidsCheckbox%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20kidsCheckbox.checked%20%3D%20savedKidsMode%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28savedKidsMode%29%20toggleKidsMode%28true%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20V%E1ltoz%E1skor%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20kidsCheckbox.addEventListener%28%27change%27%2C%20%28e%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isChecked%20%3D%20e.target.checked%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28%27mystigo_pref_kidsMode%27%2C%20isChecked%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20toggleKidsMode%28isChecked%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20-----%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28avatarSelectEl%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20avatarSelectEl.addEventListener%28%27change%27%2C%20%28e%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28%27mystigo_pref_teamAvatar%27%2C%20e.target.value%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20---%20%DAJ%20R%C9SZ%20V%C9GE%20---%0A%0A%09%20%20%20%20initializeState%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20loadLocalXlsx%28DEFAULT_GAME_FILE%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20logoO%20%3D%20document.getElementById%28%27logo-o%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20manualFileSelectLabel%20%3D%20document.getElementById%28%27manual-file-select-label%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20manualFileInput%20%3D%20document.getElementById%28%27excel-file-input-manual%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20devOptions%20%3D%20document.getElementById%28%27developer-options%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20devToggle%20%3D%20document.getElementById%28%27developer-tools-toggle%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27modal-ok-button%27%29.onclick%20%3D%20hideMessage%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27modal-cancel-button%27%29.onclick%20%3D%20hideMessage%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20logoO.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20switchesContainer%20%3D%20document.getElementById%28%27secret-switches-container%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28switchesContainer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21document.getElementById%28%27game-list-page%27%29.classList.contains%28%27hidden%27%29%29%20switchesContainer.classList.toggle%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20mainHeaderLogoContainer%20%3D%20document.querySelector%28%27%23main-header%20.flex.justify-center%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28mainHeaderLogoContainer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mainHeaderLogoContainer.style.cursor%20%3D%20%27pointer%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mainHeaderLogoContainer.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20%7B%20resetApp%28%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28manualFileInput%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20manualFileInput.addEventListener%28%27change%27%2C%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20file%20%3D%20event.target.files%5B0%5D%3B%20if%20%28%21file%29%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20reader%20%3D%20new%20FileReader%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reader.onload%20%3D%20%28e%29%20%3D%3E%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20wb%20%3D%20XLSX.read%28new%20Uint8Array%28e.target.result%29%2C%7Btype%3A%27array%27%7D%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20processExcelData%28wb%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28manualFileSelectLabel%29%20manualFileSelectLabel.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27Feldolgoz%E1si%20Hiba%27%2C%20%60Hiba%3A%20%24%7Berror.message%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28manualFileSelectLabel%29%20manualFileSelectLabel.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reader.onerror%20%3D%20%28%29%20%3D%3E%20%7B%20showMessage%28%27Hiba%27%2C%20%27F%E1jl%20olvas%E1si%20hiba.%27%29%3B%20showLoading%28false%29%3B%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reader.readAsArrayBuffer%28file%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20excelFileInput%20%3D%20document.getElementById%28%27excel-file-input%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28excelFileInput%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20excelFileInput.addEventListener%28%27change%27%2C%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20file%20%3D%20event.target.files%5B0%5D%3B%20if%20%28%21file%29%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20reader%20%3D%20new%20FileReader%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reader.onload%20%3D%20%28e%29%20%3D%3E%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20wb%20%3D%20XLSX.read%28new%20Uint8Array%28e.target.result%29%2C%7Btype%3A%27array%27%7D%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20processExcelData%28wb%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%27Feldolgoz%E1si%20Hiba%27%2C%20%60Hiba%3A%20%24%7Berror.message%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLoading%28false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reader.onerror%20%3D%20%28%29%20%3D%3E%20%7B%20showMessage%28%27Hiba%27%2C%20%27F%E1jl%20olvas%E1si%20hiba.%27%29%3B%20showLoading%28false%29%3B%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reader.readAsArrayBuffer%28file%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20document.body.addEventListener%28%27click%27%2C%20%28e%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.target%20%26%26%20e.target.id%20%3D%3D%3D%20%27secret-trigger%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20container%20%3D%20document.getElementById%28%27secret-switches-container%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28container%29%20container.classList.toggle%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28devToggle%20%26%26%20devOptions%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20devToggle.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20devOptions.classList.toggle%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20devToggle.querySelector%28%27span%27%29.textContent%20%3D%20devOptions.classList.contains%28%27hidden%27%29%20%3F%20%27%u25BC%27%20%3A%20%27%u25B2%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27submit-answer-btn%27%29.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20task%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20appState.currentTaskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21task%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21task.isTaskTimerActive%29%20return%20showMessage%28t%28%27far_title%27%29%2C%20t%28%27far_body%27%29%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28task.isStartTask%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20userAnswer%20%3D%20document.getElementById%28%27answer-input%27%29.value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20normalizedUserAnswer%20%3D%20normalizeAnswer%28userAnswer%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20isCorrect%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28task.acceptedAnswers%20%26%26%20task.acceptedAnswers.includes%28normalizedUserAnswer%29%29%20isCorrect%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isCorrect%29%20showMessage%28t%28%27correct_title%27%29%2C%20%60%DCgyes%20vagy%21%20%28+%24%7Btask.taskScore%7D%20pont%29%60%2C%20handleCorrectAnswer%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28task.taskScore%20%3E%200%29%20task.taskScore%20%3D%20Math.max%280%2C%20task.taskScore%20-%20WRONG_ANSWER_PENALTY%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28t%28%27wrong_title%27%29%2C%20t%28%27wrong_body%27%29%20+%20%60%3Cbr%3E%3Cbr%3E%28Maradt%20pont%3A%20%24%7Btask.taskScore%7D%29%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateStatusDisplays%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27hint1-btn%27%29.addEventListener%28%27click%27%2C%20%28e%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20task%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20appState.currentTaskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21task%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21task.isTaskTimerActive%29%20return%20showMessage%28t%28%27far_title%27%29%2C%20t%28%27far_body%27%29%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28task.isStartTask%29%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28speechSynth.speaking%29%20speechSynth.cancel%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28task.hintsUsed%20%3C%201%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20task.taskScore%20%3D%20Math.max%280%2C%20task.taskScore%20-%20HINT1_PENALTY%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20task.hintsUsed%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20gtag%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gtag%28%27event%27%2C%20%27hint_used%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27game_id%27%3A%20appState.currentGame.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27level_index%27%3A%20appState.currentTaskIndex%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27hint_type%27%3A%20%27hint_1%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27team_name%27%3A%20appState.teamName%20%7C%7C%20%27unknown%27%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%09%09%20%20%20%20updateStatusDisplays%28%29%3B%20saveGameState%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%271.%20Seg%EDts%E9g%27%2C%20t%28%27hint1_body%27%2C%20task.hints%5B0%5D%29%20+%20%60%3Cbr%3E%3Cbr%3E%28Maradt%20pont%3A%20%24%7Btask.taskScore%7D%29%60%2C%20%28%29%20%3D%3E%20%7B%20updateHintButtons%28task%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27hint2-btn%27%29.addEventListener%28%27click%27%2C%20%28e%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20task%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20appState.currentTaskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21task%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21task.isTaskTimerActive%29%20return%20showMessage%28t%28%27far_title%27%29%2C%20t%28%27far_body%27%29%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28task.isStartTask%29%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28speechSynth.speaking%29%20speechSynth.cancel%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28task.hintsUsed%20%3C%202%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20task.taskScore%20%3D%20Math.max%280%2C%20task.taskScore%20-%20HINT2_PENALTY%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20task.hintsUsed%20%3D%202%3B%0A%09%09if%20%28typeof%20gtag%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gtag%28%27event%27%2C%20%27hint_used%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27game_id%27%3A%20appState.currentGame.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27level_index%27%3A%20appState.currentTaskIndex%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27hint_type%27%3A%20%27hint_2%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27team_name%27%3A%20appState.teamName%20%7C%7C%20%27unknown%27%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%09%09updateStatusDisplays%28%29%3B%20saveGameState%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMessage%28%272.%20Seg%EDts%E9g%27%2C%20t%28%27hint2_body%27%2C%20task.hints%5B1%5D%29%20+%20%60%3Cbr%3E%3Cbr%3E%28Maradt%20pont%3A%20%24%7Btask.taskScore%7D%29%60%2C%20%28%29%20%3D%3E%20%7B%20updateHintButtons%28task%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27solution-btn%27%29.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20task%20%3D%20appState.currentGame.tasks.find%28t%20%3D%3E%20t.index%20%3D%3D%3D%20appState.currentTaskIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21task%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21task.isTaskTimerActive%29%20return%20showMessage%28t%28%27far_title%27%29%2C%20t%28%27far_body%27%29%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28task.isStartTask%29%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28speechSynth.speaking%29%20speechSynth.cancel%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20scoreLost%20%3D%20task.taskScore%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20task.taskScore%20%3D%200%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20gtag%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gtag%28%27event%27%2C%20%27hint_used%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27game_id%27%3A%20appState.currentGame.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27level_index%27%3A%20appState.currentTaskIndex%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27hint_type%27%3A%20%27solution_reveal%27%2C%20//%20Itt%20m%E1s%20t%EDpust%20adunk%20meg%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27team_name%27%3A%20appState.teamName%20%7C%7C%20%27unknown%27%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%09%09showMessage%28%27Megold%E1s%27%2C%20%60A%20feladat%20megold%E1sa%3A%20%24%7Btask.solution%7D.%20%3Cbr%3E%3Cbr%3E%28Maradt%20pont%3A%200%29%60%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleCorrectAnswer%28%29%3B%20updateStatusDisplays%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20saveGameState%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27start-game-btn%27%29.addEventListener%28%27click%27%2C%20startTimersAndGPS%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27exit-game-btn%27%29.addEventListener%28%27click%27%2C%20showExitConfirmation%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27report-error-btn%27%29.addEventListener%28%27click%27%2C%20showReportModal%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27submit-error-report%27%29.addEventListener%28%27click%27%2C%20handleSubmitError%29%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20document.addEventListener%28%27visibilitychange%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21appState.currentGame%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28document.hidden%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28speechSynth.speaking%29%20speechSynth.cancel%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28appState.geoWatchId%29%20navigator.geolocation.clearWatch%28appState.geoWatchId%29%3B%20appState.geoWatchId%20%3D%20null%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28%21appState.geoWatchId%29%20%7B%20watchPosition%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27answer-input%27%29.addEventListener%28%27focus%27%2C%20%28e%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20inputElement%20%3D%20e.target%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20inputElement.scrollIntoView%28%7B%20behavior%3A%20%27smooth%27%2C%20block%3A%20%27start%27%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20wrapper%20%3D%20document.getElementById%28%27content-page-wrapper%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20inputTop%20%3D%20inputElement.offsetTop%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20wrapper.scrollTo%28%7B%20top%3A%20inputTop%20-%2030%2C%20behavior%3A%20%27smooth%27%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20150%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%20%0A%0A%0Awindow.loadMoreGames%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20N%F6velj%FCk%20a%20limitet%0A%20%20%20%20%20%20%20%20%20%20%20%20appState.visibleGamesLimit%20+%3D%205%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%DAJ%3A%20Azt%20a%20list%E1t%20rajzoljuk%20%FAjra%2C%20ami%20%E9ppen%20akt%EDv%20%28sz%u0171rt%20vagy%20eredeti%29%0A%20%20%20%20%20%20%20%20%20%20%20%20renderGameList%28appState.currentFilteredGames%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%3C/script%3E%0A%0A%3C/body%3E%0A%3C/html%3E'))</script>
